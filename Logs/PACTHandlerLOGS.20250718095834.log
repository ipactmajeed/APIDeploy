[System: 192.168.1.54] DEBUG | 07-18-2025 09:58:34.858 | General Service|:: CompanyIndex:0 SpName: spADM_GetClientUserDetails2C 
 'admin'
 ,1
 ,0
[System: 192.168.1.54] DEBUG | 07-18-2025 09:58:34.999 | General Service|:: CompanyIndex:0 SpName: spADM_UserLoginCheck 
 2
 ,'admin'
 ,0
 ,'192.168.1.54'
 ,'192.168.1.54'
 ,''
 ,'Web'
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 09:58:41.802 | General Service|:: CompanyIndex:13 SpName: spADM_GetClientUserDetails 
 'admin'
 ,1
 ,'26.1.0'
 ,0
[System: 192.168.1.54] DEBUG | 07-18-2025 09:58:41.974 | General Service|:: CompanyIndex:0 SpName: spADM_UserLoginCheck 
 2
 ,'admin'
 ,13
 ,'192.168.1.54'
 ,'192.168.1.54'
 ,''
 ,'Web'
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 09:58:42.067 | General Service|:: CompanyIndex:0 SpName: spADM_Login 
 1
 ,''
 ,''
 ,''
 ,''
 ,''
 ,13
[System: 192.168.1.54] DEBUG | 07-18-2025 09:58:42.177 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select Value from ADM_GlobalPreferences with (nolock) where name =''EnableReLogin'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 09:58:42.271 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxMjkyMSwiZXhwIjoxNzUyODQxNzIxLCJpYXQiOjE3NTI4MTI5MjF9.uJhJW0_EsScpZeKrHuOsbG3c-NRfVvptzR6Q89g9g_M'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 09:58:42.333 | General Service|:: CompanyIndex:0 SpName: spADM_Login 
 4
 ,''
 ,''
 ,''
 ,'declare @Cnt int,@ExpiredGUID nvarchar(50),@AllowSession int,@GUID nvarchar(50),@CurrDate float,@UserID INT,@Instances INT,@InstancesExists INT,@LCDBIndex int
set @CurrDate= convert(float,dateadd(minute,-21,getdate()))
set @AllowSession=0
set @GUID=''4459fb32-ae92-4a11-a148-a958d5944c9f''
set @LCDBIndex=0
select top 1 @UserID=UserID,@Instances=InstanceCount from ADM_Users with(nolock) where UserName=''admin''
if exists(select [GUID] from ADM_Login with(nolock) where [GUID]=@GUID)
begin
	update ADM_Login 
	set LastAccessTime=convert(float,getdate()),UserID=@UserID
	where [GUID]=@GUID
    set @AllowSession=1
end
else
begin
	select @Cnt=count(*) from ADM_Login with(nolock) where LCDBIndex=@LCDBIndex and [GUID]!=''ACCESSRIGHTS'' and AP =''WEB''
    if(@Cnt<100)
		set @AllowSession=1
	else
	begin
		select top 1 @ExpiredGUID=[GUID] from ADM_Login with(nolock)
		where [GUID]!=''ACCESSRIGHTS'' and LCDBIndex=@LCDBIndex and LastAccessTime<@CurrDate  and AP =''WEB''
        order by LastAccessTime asc
		if @ExpiredGUID is not null
		begin
			delete from ADM_Login where [GUID]=@ExpiredGUID
			set @AllowSession=1
		end
	end
	if @AllowSession=1
	begin
        select @InstancesExists=COUNT(*) from ADM_Login with(nolock)
		where [GUID]!=''ACCESSRIGHTS'' and LCDBIndex=@LCDBIndex and LastAccessTime>=@CurrDate and UserID=@UserID and AP =''WEB''
		if(@Instances!=0 and @Instances<=@InstancesExists)
			set @AllowSession=2
		else
		    INSERT INTO ADM_Login([GUID],[SysName],IPAddress,[Status],LoginTime,LastAccessTime,AccessRights,UserID,DBIndex,LCDBIndex,AP)
		    VALUES(@GUID,''WEB'',''192.168.1.54'',1,convert(float,getdate()),convert(float,getdate()),null,@UserID,13,@LCDBIndex, ''WEB'')
	end
end

select @AllowSession AllowSession,@Instances Instances,@InstancesExists InstancesExists
'
 ,''
 ,0
[System: 192.168.1.54] DEBUG | 07-18-2025 09:58:42.333 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxMjkyMSwiZXhwIjoxNzUyODQxNzIxLCJpYXQiOjE3NTI4MTI5MjF9.uJhJW0_EsScpZeKrHuOsbG3c-NRfVvptzR6Q89g9g_M'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 09:58:42.724 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'SELECT (SELECT COUNT(*) FROM COM_Location L WITH(NOLOCK) JOIN COM_Status S WITH(NOLOCK) ON S.StatusID=L.StatusID WHERE L.IsGroup=0 AND S.[Status]=''Active'') ML
,(SELECT COUNT(*) FROM ADM_Features WITH(NOLOCK) WHERE ((FeatureID>50000 AND FeatureID<=50050) OR FeatureID>=51000) AND IsEnabled=1) MD
,(SELECT ISNULL(COUNT(*),0) FROM ADM_RevenUReports WITH(NOLOCK) WHERE IsGroup=0 AND ReportID>10000 AND StaticReportType IN (0,-1)) MR'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 09:58:42.724 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxMjkyMSwiZXhwIjoxNzUyODQxNzIxLCJpYXQiOjE3NTI4MTI5MjF9.uJhJW0_EsScpZeKrHuOsbG3c-NRfVvptzR6Q89g9g_M'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 09:58:45.274 | General Service|:: CompanyIndex:13 SpName: spCOM_ConfigValues 
 1
 ,'NotifTime'
 ,''
[System: 192.168.1.54] DEBUG | 07-18-2025 09:58:45.274 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxMjkyMSwiZXhwIjoxNzUyODQxNzIxLCJpYXQiOjE3NTI4MTI5MjF9.uJhJW0_EsScpZeKrHuOsbG3c-NRfVvptzR6Q89g9g_M'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 09:58:48.819 | General Service|:: CompanyIndex:13 SpName: spADM_GetRibbonView 
 1
 ,1
 ,1
 ,1
 ,0
 ,''
[System: 192.168.1.54] DEBUG | 07-18-2025 09:58:48.834 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxMjkyMSwiZXhwIjoxNzUyODQxNzIxLCJpYXQiOjE3NTI4MTI5MjF9.uJhJW0_EsScpZeKrHuOsbG3c-NRfVvptzR6Q89g9g_M'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 09:58:49.119 | General Service|:: CompanyIndex:13 SpName: spRPT_GetReport 
 2
 ,0
 ,'1'
 ,'1'
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 09:58:49.119 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxMjkyMSwiZXhwIjoxNzUyODQxNzIxLCJpYXQiOjE3NTI4MTI5MjF9.uJhJW0_EsScpZeKrHuOsbG3c-NRfVvptzR6Q89g9g_M'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 09:58:49.354 | General Service|:: CompanyIndex:13 SpName: spADM_GetDashBoard 
 2
 ,0
 ,0
 ,'1'
 ,'1'
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 09:58:49.354 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxMjkyMSwiZXhwIjoxNzUyODQxNzIxLCJpYXQiOjE3NTI4MTI5MjF9.uJhJW0_EsScpZeKrHuOsbG3c-NRfVvptzR6Q89g9g_M'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 09:58:49.416 | General Service|:: CompanyIndex:13 SpName: spCOM_ConfigValues 
 1
 ,'LandingDocs'
 ,'1'
[System: 192.168.1.54] DEBUG | 07-18-2025 09:58:49.416 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxMjkyMSwiZXhwIjoxNzUyODQxNzIxLCJpYXQiOjE3NTI4MTI5MjF9.uJhJW0_EsScpZeKrHuOsbG3c-NRfVvptzR6Q89g9g_M'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 09:58:51.104 | General Service|:: CompanyIndex:13 SpName: spCOM_GetFavorites 
 'GETLIST0'
 ,0
 ,'1'
 ,'1'
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 09:58:51.104 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxMjkyMSwiZXhwIjoxNzUyODQxNzIxLCJpYXQiOjE3NTI4MTI5MjF9.uJhJW0_EsScpZeKrHuOsbG3c-NRfVvptzR6Q89g9g_M'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 09:58:52.322 | General Service|:: CompanyIndex:13 SpName: spADM_GetAllListViewsDef 
 1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 09:58:52.338 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxMjkyMSwiZXhwIjoxNzUyODQxNzIxLCJpYXQiOjE3NTI4MTI5MjF9.uJhJW0_EsScpZeKrHuOsbG3c-NRfVvptzR6Q89g9g_M'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 09:58:52.432 | General Service|:: CompanyIndex:13 SpName: spADM_GetAllListViewsDef 
 1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 09:58:52.432 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxMjkyMSwiZXhwIjoxNzUyODQxNzIxLCJpYXQiOjE3NTI4MTI5MjF9.uJhJW0_EsScpZeKrHuOsbG3c-NRfVvptzR6Q89g9g_M'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 09:58:53.716 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'Select CostCenterID,CostCenterColID,CostCenterName,SysTableName,UserColumnName,SysColumnName,ISNULL(UserDefaultValue,'''') UserDefaultValue
From AdM_CostCenterDef WITH(NOLOCK)
Where SysColumnName IN(''CreditAccount'',''DebitAccount'',''ProductID'') 
AND CostCenterID>40000 AND CostCenterID<50000 

SELECT * FROM ADM_Features WITH(NOLOCK) '
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 09:58:53.716 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxMjkyMSwiZXhwIjoxNzUyODQxNzIxLCJpYXQiOjE3NTI4MTI5MjF9.uJhJW0_EsScpZeKrHuOsbG3c-NRfVvptzR6Q89g9g_M'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 09:58:53.841 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 '  SELECT * FROM PAY_PayrollPreferences WITH(NOLOCK) '
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 09:58:53.841 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxMjkyMSwiZXhwIjoxNzUyODQxNzIxLCJpYXQiOjE3NTI4MTI5MjF9.uJhJW0_EsScpZeKrHuOsbG3c-NRfVvptzR6Q89g9g_M'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 09:58:55.591 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 '  --0
                                Select * FROM COM_CC50051 WITH(NOLOCK) WHERE IsGroup=0 AND LoginUserID=''admin''
                                --1                                
                                Select * FROM COM_CC50051 WITH(NOLOCK) WHERE RptManager IN (Select NodeID FROM COM_CC50051 WITH(NOLOCK) WHERE IsGroup=0 AND LoginUserID=''admin'')
                                UNION ALL
                                Select * FROM COM_CC50051 WITH(NOLOCK) WHERE RptManager IN 
                                (
	                                Select NodeID FROM COM_CC50051 WITH(NOLOCK) 
	                                WHERE IsGroup=0 AND LoginUserID IN
	                                (
	                                SELECT fe.LoginUserID
	                                FROM INV_DocDetails a WITH(NOLOCK) 
	                                JOIN COM_DocCCData b WITH(NOLOCK) ON b.InvDocDetailsID=a.InvDocDetailsID
	                                JOIN COM_DocNumData c WITH(NOLOCK) ON c.InvDocDetailsID=a.InvDocDetailsID
	                                JOIN COM_DocTextData d WITH(NOLOCK) ON d.InvDocDetailsID=a.InvDocDetailsID
	                                JOIN COM_CC50051 fe WITH(NOLOCK) on fe.NodeID=b.dcCCNID51
	                                JOIN COM_CC50051 te WITH(NOLOCK) on CONVERT(NVARCHAR,te.NodeID)=d.dcAlpha1
	                                WHERE a.CostCenterID=40098 and a.StatusID=369 AND d.dcAlpha3=''Temporary''
	                                AND te.LoginUserID=''admin'' 
	                                AND ISDATE(d.dcAlpha4)=1 AND ISDATE(d.dcAlpha5)=1 
	                                AND CONVERT(DATETIME,''18 Jul 2025'') BETWEEN CONVERT(DATETIME,d.dcAlpha4) AND CONVERT(DATETIME,d.dcAlpha5)
	                                )
                                )
                                --2
                                Select * FROM ADM_USERS WITH(NOLOCK) WHERE USERID=1
                                --3
                                Select * FROM COM_CostCenterCostCenterMap WITH(NOLOCK) WHERE ParentCostCenterID=7 AND ParentNodeID=1
                                --4                                
                                Select * FROM COM_CostCenterCostCenterMap WITH(NOLOCK) WHERE ParentCostCenterID=7 AND ParentNodeID=1
                                AND CostCenterID IN(Select ColumnCostCenterID From ADM_CostCenterDef Where CostCenterID=50051 AND IsColumnInUse=1 AND SysColumnName LIKE ''CCNID%'')
                                --5
                                Select * from COM_Files WITH(NOLOCK) WHERE FeatureID=50051 AND FeaturePK IN (Select NodeID FROM COM_CC50051 WITH(NOLOCK) WHERE IsGroup=0 AND LoginUserID=''admin'')                         
'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 09:58:55.606 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxMjkyMSwiZXhwIjoxNzUyODQxNzIxLCJpYXQiOjE3NTI4MTI5MjF9.uJhJW0_EsScpZeKrHuOsbG3c-NRfVvptzR6Q89g9g_M'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 09:58:55.981 | General Service|:: CompanyIndex:13 SpName: spADM_GetDashBoard 
 1
 ,8
 ,0
 ,'1'
 ,'1'
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 09:58:55.981 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxMjkyMSwiZXhwIjoxNzUyODQxNzIxLCJpYXQiOjE3NTI4MTI5MjF9.uJhJW0_EsScpZeKrHuOsbG3c-NRfVvptzR6Q89g9g_M'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 09:58:56.138 | General Service|:: CompanyIndex:13 SpName: spRPT_GetReport 
 0
 ,30456
 ,'1'
 ,'1'
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 09:58:56.138 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxMjkyMSwiZXhwIjoxNzUyODQxNzIxLCJpYXQiOjE3NTI4MTI5MjF9.uJhJW0_EsScpZeKrHuOsbG3c-NRfVvptzR6Q89g9g_M'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 09:58:56.231 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'SELECT StaticReportType FROM ADM_RevenUReports WITH(NOLOCK) WHERE ReportID=30456'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 09:58:56.231 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxMjkyMSwiZXhwIjoxNzUyODQxNzIxLCJpYXQiOjE3NTI4MTI5MjF9.uJhJW0_EsScpZeKrHuOsbG3c-NRfVvptzR6Q89g9g_M'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 09:58:59.585 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 09:58:59.601 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxMjkyMSwiZXhwIjoxNzUyODQxNzIxLCJpYXQiOjE3NTI4MTI5MjF9.uJhJW0_EsScpZeKrHuOsbG3c-NRfVvptzR6Q89g9g_M'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 09:59:05.479 | General Service|:: CompanyIndex:13 SpName: spRPT_GetReportCategoryandField 
 -1
 ,0
 ,1
 ,0
 ,'1'
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 09:59:05.479 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxMjkyMSwiZXhwIjoxNzUyODQxNzIxLCJpYXQiOjE3NTI4MTI5MjF9.uJhJW0_EsScpZeKrHuOsbG3c-NRfVvptzR6Q89g9g_M'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 09:59:05.823 | General Service|:: CompanyIndex:13 SpName: spRPT_GetReportFields 
 400
 ,0
 ,'1'
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 09:59:05.823 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxMjkyMSwiZXhwIjoxNzUyODQxNzIxLCJpYXQiOjE3NTI4MTI5MjF9.uJhJW0_EsScpZeKrHuOsbG3c-NRfVvptzR6Q89g9g_M'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 09:59:06.026 | General Service|:: CompanyIndex:13 SpName: spRPT_GetReportData 
 9
 ,1
 ,'<XML UID="1" ShowMyQueue="0"></XML>'
 ,'1'
[System: 192.168.1.54] DEBUG | 07-18-2025 09:59:06.026 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxMjkyMSwiZXhwIjoxNzUyODQxNzIxLCJpYXQiOjE3NTI4MTI5MjF9.uJhJW0_EsScpZeKrHuOsbG3c-NRfVvptzR6Q89g9g_M'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 09:59:07.291 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
                EXEC spRPT_GetReportData @Type=8,@Param1=1,@strXML=null,@RoleID=1
SELECT ACC.VoucherNo [C858bdfa70f884b78b8ec0453808910bb],ACC.VersionNo [C858bdfa70f884b78b8ec0453808910bbVer],CONVERT(DATETIME,ACC.DocDate) [Cf4c1ff96517a40978b75103376667aae],ACC.DocAbbr [C501419b9c341410d8920b953fb30cfbf],ACC.Amount [Cfa623191688842d5ac3c0cd9232cfb2e],NULL [C90a85d26ad47471988897309a5c78218],T1.UserName [Cd0c4cb9a7057416ca691fb5c4774545b],T3.Name [C80a6de4371d045c08bf9d035c1831959],ACC.CommonNarration [Ce66e27446651436893b0d2c967dd0ecb],T4.Status [Ca7da089a0bd542838ddeb39e78a982ea],T5.Name [Cff89130f277d4635b5e1c5e6887cbcb5],ACC.VoucherNo [Cdacb59b3f5e54f18b65dfc4cf3186555],ACC.DocAbbr [Cdacb59b3f5e54f18b65dfc4cf3186555Abr],ACC.DocPrefix [Cdacb59b3f5e54f18b65dfc4cf3186555prf],CONVERT(BIGINT,ACC.DocNumber) [Cdacb59b3f5e54f18b65dfc4cf3186555dno]
 FROM ACC_DocDetails ACC with(nolock) left join ADM_Users T1 with(nolock) on ACC.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on ACC.AccDocDetailsID=TDCC.AccDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on ACC.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (ACC.CostCenterID=41053) AND T4.Status=''Unapproved'' AND ACC.LinkedAccDocDetailsID is null AND WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT ACC.VoucherNo,ACC.VersionNo,CONVERT(DATETIME,ACC.DocDate),ACC.DocAbbr,ACC.Amount,NULL,T1.UserName,T3.Name,ACC.CommonNarration,T4.Status,T5.Name,ACC.VoucherNo,ACC.DocAbbr,ACC.DocPrefix,CONVERT(BIGINT,ACC.DocNumber)
 FROM ACC_DocDetails ACC with(nolock) left join ADM_Users T1 with(nolock) on ACC.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on ACC.AccDocDetailsID=TDCC.AccDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on ACC.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (ACC.CostCenterID=41061) AND T4.Status=''Unapproved'' AND ACC.LinkedAccDocDetailsID is null AND WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT ACC.VoucherNo,ACC.VersionNo,CONVERT(DATETIME,ACC.DocDate),ACC.DocAbbr,ACC.Amount,NULL,T1.UserName,T3.Name,ACC.CommonNarration,T4.Status,T5.Name,ACC.VoucherNo,ACC.DocAbbr,ACC.DocPrefix,CONVERT(BIGINT,ACC.DocNumber)
 FROM ACC_DocDetails ACC with(nolock) left join ADM_Users T1 with(nolock) on ACC.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on ACC.AccDocDetailsID=TDCC.AccDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on ACC.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (ACC.CostCenterID=40023) AND T4.Status=''Unapproved'' AND ACC.LinkedAccDocDetailsID is null AND WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT ACC.VoucherNo,ACC.VersionNo,CONVERT(DATETIME,ACC.DocDate),ACC.DocAbbr,ACC.Amount,NULL,T1.UserName,T3.Name,ACC.CommonNarration,T4.Status,T5.Name,ACC.VoucherNo,ACC.DocAbbr,ACC.DocPrefix,CONVERT(BIGINT,ACC.DocNumber)
 FROM ACC_DocDetails ACC with(nolock) left join ADM_Users T1 with(nolock) on ACC.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on ACC.AccDocDetailsID=TDCC.AccDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on ACC.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (ACC.CostCenterID=41064) AND T4.Status=''Unapproved'' AND ACC.LinkedAccDocDetailsID is null AND WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT ACC.VoucherNo,ACC.VersionNo,CONVERT(DATETIME,ACC.DocDate),ACC.DocAbbr,ACC.Amount,NULL,T1.UserName,T3.Name,ACC.CommonNarration,T4.Status,T5.Name,ACC.VoucherNo,ACC.DocAbbr,ACC.DocPrefix,CONVERT(BIGINT,ACC.DocNumber)
 FROM ACC_DocDetails ACC with(nolock) left join ADM_Users T1 with(nolock) on ACC.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on ACC.AccDocDetailsID=TDCC.AccDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on ACC.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (ACC.CostCenterID=41006) AND T4.Status=''Unapproved'' AND ACC.LinkedAccDocDetailsID is null AND WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT ACC.VoucherNo,ACC.VersionNo,CONVERT(DATETIME,ACC.DocDate),ACC.DocAbbr,ACC.Amount,NULL,T1.UserName,T3.Name,ACC.CommonNarration,T4.Status,T5.Name,ACC.VoucherNo,ACC.DocAbbr,ACC.DocPrefix,CONVERT(BIGINT,ACC.DocNumber)
 FROM ACC_DocDetails ACC with(nolock) left join ADM_Users T1 with(nolock) on ACC.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on ACC.AccDocDetailsID=TDCC.AccDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on ACC.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (ACC.CostCenterID=40022) AND T4.Status=''Unapproved'' AND ACC.LinkedAccDocDetailsID is null AND WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT ACC.VoucherNo,ACC.VersionNo,CONVERT(DATETIME,ACC.DocDate),ACC.DocAbbr,ACC.Amount,NULL,T1.UserName,T3.Name,ACC.CommonNarration,T4.Status,T5.Name,ACC.VoucherNo,ACC.DocAbbr,ACC.DocPrefix,CONVERT(BIGINT,ACC.DocNumber)
 FROM ACC_DocDetails ACC with(nolock) left join ADM_Users T1 with(nolock) on ACC.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on ACC.AccDocDetailsID=TDCC.AccDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on ACC.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (ACC.CostCenterID=41075) AND T4.Status=''Unapproved'' AND ACC.LinkedAccDocDetailsID is null AND WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT ACC.VoucherNo,ACC.VersionNo,CONVERT(DATETIME,ACC.DocDate),ACC.DocAbbr,ACC.Amount,NULL,T1.UserName,T3.Name,ACC.CommonNarration,T4.Status,T5.Name,ACC.VoucherNo,ACC.DocAbbr,ACC.DocPrefix,CONVERT(BIGINT,ACC.DocNumber)
 FROM ACC_DocDetails ACC with(nolock) left join ADM_Users T1 with(nolock) on ACC.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on ACC.AccDocDetailsID=TDCC.AccDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on ACC.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (ACC.CostCenterID=41077) AND T4.Status=''Unapproved'' AND ACC.LinkedAccDocDetailsID is null AND WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT ACC.VoucherNo,ACC.VersionNo,CONVERT(DATETIME,ACC.DocDate),ACC.DocAbbr,ACC.Amount,NULL,T1.UserName,T3.Name,ACC.CommonNarration,T4.Status,T5.Name,ACC.VoucherNo,ACC.DocAbbr,ACC.DocPrefix,CONVERT(BIGINT,ACC.DocNumber)
 FROM ACC_DocDetails ACC with(nolock) left join ADM_Users T1 with(nolock) on ACC.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on ACC.AccDocDetailsID=TDCC.AccDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on ACC.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (ACC.CostCenterID=40014) AND T4.Status=''Unapproved'' AND ACC.LinkedAccDocDetailsID is null AND WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT ACC.VoucherNo,ACC.VersionNo,CONVERT(DATETIME,ACC.DocDate),ACC.DocAbbr,ACC.Amount,NULL,T1.UserName,T3.Name,ACC.CommonNarration,T4.Status,T5.Name,ACC.VoucherNo,ACC.DocAbbr,ACC.DocPrefix,CONVERT(BIGINT,ACC.DocNumber)
 FROM ACC_DocDetails ACC with(nolock) left join ADM_Users T1 with(nolock) on ACC.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on ACC.AccDocDetailsID=TDCC.AccDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on ACC.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (ACC.CostCenterID=41065) AND T4.Status=''Unapproved'' AND ACC.LinkedAccDocDetailsID is null AND WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT ACC.VoucherNo,ACC.VersionNo,CONVERT(DATETIME,ACC.DocDate),ACC.DocAbbr,ACC.Amount,NULL,T1.UserName,T3.Name,ACC.CommonNarration,T4.Status,T5.Name,ACC.VoucherNo,ACC.DocAbbr,ACC.DocPrefix,CONVERT(BIGINT,ACC.DocNumber)
 FROM ACC_DocDetails ACC with(nolock) left join ADM_Users T1 with(nolock) on ACC.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on ACC.AccDocDetailsID=TDCC.AccDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on ACC.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (ACC.CostCenterID=40017) AND T4.Status=''Unapproved'' AND ACC.LinkedAccDocDetailsID is null AND WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT INV.VoucherNo,INV.VersionNo,CONVERT(DATETIME,INV.DocDate),INV.DocAbbr,NULL,CASE WHEN (SELECT DocumentType FROM ADM_DocumentTypes WITH(NOLOCK) WHERE CostCenterID=INV.CostCenterID)=38 AND VoucherType=1 THEN -INV.Gross ELSE INV.Gross END,T1.UserName,T3.Name,INV.CommonNarration,T4.Status,T5.Name,INV.VoucherNo,INV.DocAbbr,INV.DocPrefix,CONVERT(BIGINT,INV.DocNumber)
 FROM INV_DocDetails INV with(nolock) left join ADM_Users T1 with(nolock) on INV.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on INV.InvDocDetailsID=TDCC.InvDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on INV.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (INV.CostCenterID=41018) AND T4.Status=''Unapproved'' AND WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef and INV.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT INV.VoucherNo,INV.VersionNo,CONVERT(DATETIME,INV.DocDate),INV.DocAbbr,NULL,CASE WHEN (SELECT DocumentType FROM ADM_DocumentTypes WITH(NOLOCK) WHERE CostCenterID=INV.CostCenterID)=38 AND VoucherType=1 THEN -INV.Gross ELSE INV.Gross END,T1.UserName,T3.Name,INV.CommonNarration,T4.Status,T5.Name,INV.VoucherNo,INV.DocAbbr,INV.DocPrefix,CONVERT(BIGINT,INV.DocNumber)
 FROM INV_DocDetails INV with(nolock) left join ADM_Users T1 with(nolock) on INV.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on INV.InvDocDetailsID=TDCC.InvDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on INV.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (INV.CostCenterID=40011) AND T4.Status=''Unapproved'' AND WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef and INV.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT INV.VoucherNo,INV.VersionNo,CONVERT(DATETIME,INV.DocDate),INV.DocAbbr,NULL,CASE WHEN (SELECT DocumentType FROM ADM_DocumentTypes WITH(NOLOCK) WHERE CostCenterID=INV.CostCenterID)=38 AND VoucherType=1 THEN -INV.Gross ELSE INV.Gross END,T1.UserName,T3.Name,INV.CommonNarration,T4.Status,T5.Name,INV.VoucherNo,INV.DocAbbr,INV.DocPrefix,CONVERT(BIGINT,INV.DocNumber)
 FROM INV_DocDetails INV with(nolock) left join ADM_Users T1 with(nolock) on INV.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on INV.InvDocDetailsID=TDCC.InvDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on INV.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (INV.CostCenterID=41072) AND T4.Status=''Unapproved'' AND WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef and INV.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT INV.VoucherNo,INV.VersionNo,CONVERT(DATETIME,INV.DocDate),INV.DocAbbr,NULL,CASE WHEN (SELECT DocumentType FROM ADM_DocumentTypes WITH(NOLOCK) WHERE CostCenterID=INV.CostCenterID)=38 AND VoucherType=1 THEN -INV.Gross ELSE INV.Gross END,T1.UserName,T3.Name,INV.CommonNarration,T4.Status,T5.Name,INV.VoucherNo,INV.DocAbbr,INV.DocPrefix,CONVERT(BIGINT,INV.DocNumber)
 FROM INV_DocDetails INV with(nolock) left join ADM_Users T1 with(nolock) on INV.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on INV.InvDocDetailsID=TDCC.InvDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on INV.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (INV.CostCenterID=41057) AND T4.Status=''Unapproved'' AND WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef and INV.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT INV.VoucherNo,INV.VersionNo,CONVERT(DATETIME,INV.DocDate),INV.DocAbbr,NULL,CASE WHEN (SELECT DocumentType FROM ADM_DocumentTypes WITH(NOLOCK) WHERE CostCenterID=INV.CostCenterID)=38 AND VoucherType=1 THEN -INV.Gross ELSE INV.Gross END,T1.UserName,T3.Name,INV.CommonNarration,T4.Status,T5.Name,INV.VoucherNo,INV.DocAbbr,INV.DocPrefix,CONVERT(BIGINT,INV.DocNumber)
 FROM INV_DocDetails INV with(nolock) left join ADM_Users T1 with(nolock) on INV.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on INV.InvDocDetailsID=TDCC.InvDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on INV.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (INV.CostCenterID=41060) AND T4.Status=''Unapproved'' AND WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef and INV.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT INV.VoucherNo,INV.VersionNo,CONVERT(DATETIME,INV.DocDate),INV.DocAbbr,NULL,CASE WHEN (SELECT DocumentType FROM ADM_DocumentTypes WITH(NOLOCK) WHERE CostCenterID=INV.CostCenterID)=38 AND VoucherType=1 THEN -INV.Gross ELSE INV.Gross END,T1.UserName,T3.Name,INV.CommonNarration,T4.Status,T5.Name,INV.VoucherNo,INV.DocAbbr,INV.DocPrefix,CONVERT(BIGINT,INV.DocNumber)
 FROM INV_DocDetails INV with(nolock) left join ADM_Users T1 with(nolock) on INV.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on INV.InvDocDetailsID=TDCC.InvDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on INV.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (INV.CostCenterID=40001) AND T4.Status=''Unapproved'' AND WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef and INV.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT INV.VoucherNo,INV.VersionNo,CONVERT(DATETIME,INV.DocDate),INV.DocAbbr,NULL,CASE WHEN (SELECT DocumentType FROM ADM_DocumentTypes WITH(NOLOCK) WHERE CostCenterID=INV.CostCenterID)=38 AND VoucherType=1 THEN -INV.Gross ELSE INV.Gross END,T1.UserName,T3.Name,INV.CommonNarration,T4.Status,T5.Name,INV.VoucherNo,INV.DocAbbr,INV.DocPrefix,CONVERT(BIGINT,INV.DocNumber)
 FROM INV_DocDetails INV with(nolock) left join ADM_Users T1 with(nolock) on INV.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on INV.InvDocDetailsID=TDCC.InvDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on INV.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (INV.CostCenterID=41054) AND T4.Status=''Unapproved'' AND WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef and INV.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT ACC.VoucherNo,ACC.VersionNo,CONVERT(DATETIME,ACC.DocDate),ACC.DocAbbr,ACC.Amount,NULL,T1.UserName,T3.Name,ACC.CommonNarration,T4.Status,T5.Name,ACC.VoucherNo,ACC.DocAbbr,ACC.DocPrefix,CONVERT(BIGINT,ACC.DocNumber)
 FROM ACC_DocDetails ACC with(nolock) left join ADM_Users T1 with(nolock) on ACC.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on ACC.AccDocDetailsID=TDCC.AccDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on ACC.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (ACC.CostCenterID=41033) AND T4.Status=''Unapproved'' AND ACC.LinkedAccDocDetailsID is null AND WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT ACC.VoucherNo,ACC.VersionNo,CONVERT(DATETIME,ACC.DocDate),ACC.DocAbbr,ACC.Amount,NULL,T1.UserName,T3.Name,ACC.CommonNarration,T4.Status,T5.Name,ACC.VoucherNo,ACC.DocAbbr,ACC.DocPrefix,CONVERT(BIGINT,ACC.DocNumber)
 FROM ACC_DocDetails ACC with(nolock) left join ADM_Users T1 with(nolock) on ACC.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on ACC.AccDocDetailsID=TDCC.AccDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on ACC.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (ACC.CostCenterID=40019) AND T4.Status=''Unapproved'' AND ACC.LinkedAccDocDetailsID is null AND WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT ACC.VoucherNo,ACC.VersionNo,CONVERT(DATETIME,ACC.DocDate),ACC.DocAbbr,ACC.Amount,NULL,T1.UserName,T3.Name,ACC.CommonNarration,T4.Status,T5.Name,ACC.VoucherNo,ACC.DocAbbr,ACC.DocPrefix,CONVERT(BIGINT,ACC.DocNumber)
 FROM ACC_DocDetails ACC with(nolock) left join ADM_Users T1 with(nolock) on ACC.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on ACC.AccDocDetailsID=TDCC.AccDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on ACC.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (ACC.CostCenterID=41013) AND T4.Status=''Unapproved'' AND ACC.LinkedAccDocDetailsID is null AND WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef and ACC.CreatedDate+WF.CtWef<=convert(float,getdate()))) ORDER BY [Cdacb59b3f5e54f18b65dfc4cf3186555Abr] ,[Cdacb59b3f5e54f18b65dfc4cf3186555prf] ,[Cdacb59b3f5e54f18b65dfc4cf3186555dno]  
 DROP TABLE #TblUsrWF'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 09:59:07.307 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxMjkyMSwiZXhwIjoxNzUyODQxNzIxLCJpYXQiOjE3NTI4MTI5MjF9.uJhJW0_EsScpZeKrHuOsbG3c-NRfVvptzR6Q89g9g_M'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 09:59:14.388 | General Service|:: CompanyIndex:13 SpName: spRPT_GetReportData 
 13
 ,1
 ,'bookin'
 ,'1'
[System: 192.168.1.54] DEBUG | 07-18-2025 09:59:14.404 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxMjkyMSwiZXhwIjoxNzUyODQxNzIxLCJpYXQiOjE3NTI4MTI5MjF9.uJhJW0_EsScpZeKrHuOsbG3c-NRfVvptzR6Q89g9g_M'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 09:59:14.872 | General Service|:: CompanyIndex:13 SpName: spRPT_GetReportData 
 13
 ,1
 ,'booking'
 ,'1'
[System: 192.168.1.54] DEBUG | 07-18-2025 09:59:14.872 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxMjkyMSwiZXhwIjoxNzUyODQxNzIxLCJpYXQiOjE3NTI4MTI5MjF9.uJhJW0_EsScpZeKrHuOsbG3c-NRfVvptzR6Q89g9g_M'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 09:59:16.566 | General Service|:: CompanyIndex:13 SpName: spDOC_GetDocumentDefinition 
 41025
 ,NULL
 ,NULL
 ,''
 ,1
 ,'admin'
 ,1
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 09:59:16.582 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxMjkyMSwiZXhwIjoxNzUyODQxNzIxLCJpYXQiOjE3NTI4MTI5MjF9.uJhJW0_EsScpZeKrHuOsbG3c-NRfVvptzR6Q89g9g_M'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 09:59:16.676 | General Service|:: CompanyIndex:13 SpName: spDoc_GetCurrencyExchangeRate 
 1
 ,'18-Jul-2025'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 09:59:16.691 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxMjkyMSwiZXhwIjoxNzUyODQxNzIxLCJpYXQiOjE3NTI4MTI5MjF9.uJhJW0_EsScpZeKrHuOsbG3c-NRfVvptzR6Q89g9g_M'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 09:59:16.728 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'SELECT Code FROM COM_Location WITH(NOLOCK) WHERE NodeID=27'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 09:59:16.728 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxMjkyMSwiZXhwIjoxNzUyODQxNzIxLCJpYXQiOjE3NTI4MTI5MjF9.uJhJW0_EsScpZeKrHuOsbG3c-NRfVvptzR6Q89g9g_M'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 09:59:16.806 | General Service|:: CompanyIndex:13 SpName: spDOC_GetDocumentPrefix 
 41025
 ,27
 ,''
 ,''
 ,'1'
 ,'1'
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 09:59:16.806 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxMjkyMSwiZXhwIjoxNzUyODQxNzIxLCJpYXQiOjE3NTI4MTI5MjF9.uJhJW0_EsScpZeKrHuOsbG3c-NRfVvptzR6Q89g9g_M'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 09:59:16.963 | General Service|:: CompanyIndex:13 SpName: spDOC_GetDueDate 
 55687
 ,27
 ,0
 ,0
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 09:59:16.963 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxMjkyMSwiZXhwIjoxNzUyODQxNzIxLCJpYXQiOjE3NTI4MTI5MjF9.uJhJW0_EsScpZeKrHuOsbG3c-NRfVvptzR6Q89g9g_M'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 09:59:17.025 | General Service|:: CompanyIndex:13 SpName: spDOC_GetCurrentCodeNumber 
 41025
 ,'023/25/'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 09:59:17.041 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxMjkyMSwiZXhwIjoxNzUyODQxNzIxLCJpYXQiOjE3NTI4MTI5MjF9.uJhJW0_EsScpZeKrHuOsbG3c-NRfVvptzR6Q89g9g_M'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 09:59:17.478 | General Service|:: CompanyIndex:13 SpName: spDOC_GetLinkReferenceData 
 566117
 ,41025
 ,55687
 ,'18/Jul/2025'
 ,55687
 ,'<XML><Row CostCenterID="50011" NODEID="1" /><Row CostCenterID="50002" NODEID="27" /><Row CostCenterID="50058" NODEID="1" /><Row CostCenterID="50059" NODEID="1" /><Row CostCenterID="50061" NODEID="11" /><Row CostCenterID="50062" NODEID="1" /></XML>'
 ,False
 ,'0'
 ,'0'
 ,'0'
 ,NULL
 ,'0'
 ,'0'
 ,'0'
 ,''
 ,'1'
 ,1
 ,'1'
[System: 192.168.1.54] DEBUG | 07-18-2025 09:59:17.478 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxMjkyMSwiZXhwIjoxNzUyODQxNzIxLCJpYXQiOjE3NTI4MTI5MjF9.uJhJW0_EsScpZeKrHuOsbG3c-NRfVvptzR6Q89g9g_M'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 09:59:17.634 | General Service|:: CompanyIndex:13 SpName: spADM_GetListViewDataByIDs 
 '<XML><Row CCID="50011"  TypeID="1"  DBColumnID="566213"  NodeID="1" /><Row CCID="2"  TypeID="10"  DBColumnID="566117"  NodeID="55687" /><Row CCID="2"  TypeID="100"  DBColumnID="566117"  NodeID="55687" /><Row CCID="2"  TypeID="10"  DBColumnID="566254"  NodeID="3" /><Row CCID="2"  TypeID="100"  DBColumnID="566254"  NodeID="3" /><Row CCID="50011"  TypeID="1"  DBColumnID="566213"  NodeID="1" /><Row CCID="50002"  TypeID="1"  DBColumnID="566204"  NodeID="27" /><Row CCID="50058"  TypeID="1"  DBColumnID="583442"  NodeID="1" /><Row CCID="50059"  TypeID="1"  DBColumnID="583494"  NodeID="1" /><Row CCID="50061"  TypeID="11"  DBColumnID="583598"  NodeID="11" /><Row CCID="50062"  TypeID="1"  DBColumnID="583650"  NodeID="1" /><Row CCID="50058"  TypeID="1"  DBColumnID="583713"  NodeID="1" /></XML>'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 09:59:17.634 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxMjkyMSwiZXhwIjoxNzUyODQxNzIxLCJpYXQiOjE3NTI4MTI5MjF9.uJhJW0_EsScpZeKrHuOsbG3c-NRfVvptzR6Q89g9g_M'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 09:59:17.666 | General Service|:: CompanyIndex:13 SpName: spADM_GetListViewDataByIDs 
 '<XML><Row CCID="50011"  TypeID="1"  DBColumnID="566213"  NodeID="1" /><Row CCID="2"  TypeID="10"  DBColumnID="566117"  NodeID="55687" /><Row CCID="2"  TypeID="100"  DBColumnID="566117"  NodeID="55687" /><Row CCID="2"  TypeID="10"  DBColumnID="566254"  NodeID="3" /><Row CCID="2"  TypeID="100"  DBColumnID="566254"  NodeID="3" /><Row CCID="50011"  TypeID="1"  DBColumnID="566213"  NodeID="1" /><Row CCID="50002"  TypeID="1"  DBColumnID="566204"  NodeID="27" /><Row CCID="50058"  TypeID="1"  DBColumnID="583442"  NodeID="1" /><Row CCID="50059"  TypeID="1"  DBColumnID="583494"  NodeID="1" /><Row CCID="50061"  TypeID="11"  DBColumnID="583598"  NodeID="11" /><Row CCID="50062"  TypeID="1"  DBColumnID="583650"  NodeID="1" /><Row CCID="50058"  TypeID="1"  DBColumnID="583713"  NodeID="1" /></XML>'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 09:59:17.666 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxMjkyMSwiZXhwIjoxNzUyODQxNzIxLCJpYXQiOjE3NTI4MTI5MjF9.uJhJW0_EsScpZeKrHuOsbG3c-NRfVvptzR6Q89g9g_M'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 09:59:17.697 | General Service|:: CompanyIndex:13 SpName: spDOC_GetLinkReferenceData 
 566117
 ,41025
 ,55687
 ,'18/Jul/2025'
 ,55687
 ,'<XML><Row CostCenterID="50011" NODEID="1" /><Row CostCenterID="50002" NODEID="27" /><Row CostCenterID="50058" NODEID="1" /><Row CostCenterID="50059" NODEID="1" /><Row CostCenterID="50061" NODEID="11" /><Row CostCenterID="50062" NODEID="1" /></XML>'
 ,False
 ,'0'
 ,'0'
 ,'0'
 ,NULL
 ,'0'
 ,'0'
 ,'0'
 ,''
 ,'1'
 ,1
 ,'1'
[System: 192.168.1.54] DEBUG | 07-18-2025 09:59:17.697 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxMjkyMSwiZXhwIjoxNzUyODQxNzIxLCJpYXQiOjE3NTI4MTI5MjF9.uJhJW0_EsScpZeKrHuOsbG3c-NRfVvptzR6Q89g9g_M'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 09:59:17.712 | General Service|:: CompanyIndex:13 SpName: spADM_GetListViewDataByIDs 
 '<XML><Row CCID="50011"  TypeID="1"  DBColumnID="566213"  NodeID="1" /><Row CCID="2"  TypeID="10"  DBColumnID="566117"  NodeID="55687" /><Row CCID="2"  TypeID="100"  DBColumnID="566117"  NodeID="55687" /><Row CCID="2"  TypeID="10"  DBColumnID="566254"  NodeID="3" /><Row CCID="2"  TypeID="100"  DBColumnID="566254"  NodeID="3" /><Row CCID="50011"  TypeID="1"  DBColumnID="566213"  NodeID="1" /><Row CCID="50002"  TypeID="1"  DBColumnID="566204"  NodeID="27" /><Row CCID="50058"  TypeID="1"  DBColumnID="583442"  NodeID="1" /><Row CCID="50059"  TypeID="1"  DBColumnID="583494"  NodeID="1" /><Row CCID="50061"  TypeID="11"  DBColumnID="583598"  NodeID="11" /><Row CCID="50062"  TypeID="1"  DBColumnID="583650"  NodeID="1" /><Row CCID="50058"  TypeID="1"  DBColumnID="583713"  NodeID="1" /></XML>'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 09:59:17.728 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxMjkyMSwiZXhwIjoxNzUyODQxNzIxLCJpYXQiOjE3NTI4MTI5MjF9.uJhJW0_EsScpZeKrHuOsbG3c-NRfVvptzR6Q89g9g_M'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 09:59:18.106 | General Service|:: CompanyIndex:13 SpName: spADM_GetCostCenterListViewData 
 500055
 ,'a.Name,a.Code,a.ccAlpha11'
 ,''
 ,''
 ,'Name'
 ,''
 ,60
 ,False
 ,''
 ,''
 ,''
 ,''
 ,''
 ,0
 ,False
 ,''
 ,''
 ,'1'
 ,'1'
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 09:59:18.106 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxMjkyMSwiZXhwIjoxNzUyODQxNzIxLCJpYXQiOjE3NTI4MTI5MjF9.uJhJW0_EsScpZeKrHuOsbG3c-NRfVvptzR6Q89g9g_M'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 09:59:56.234 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 09:59:56.234 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxMjkyMSwiZXhwIjoxNzUyODQxNzIxLCJpYXQiOjE3NTI4MTI5MjF9.uJhJW0_EsScpZeKrHuOsbG3c-NRfVvptzR6Q89g9g_M'''
 ,1
 ,1
[System: 192.168.1.86] DEBUG | 07-18-2025 10:00:05.721 | General Service|:: CompanyIndex:0 SpName: spADM_GetClientUserDetails2C 
 'Admin'
 ,1
 ,0
[System: 192.168.1.86] DEBUG | 07-18-2025 10:00:05.768 | General Service|:: CompanyIndex:0 SpName: spADM_UserLoginCheck 
 2
 ,'Admin'
 ,0
 ,'192.168.1.86'
 ,'192.168.1.86'
 ,''
 ,'Web'
 ,1
[System: 192.168.1.86] DEBUG | 07-18-2025 10:00:15.051 | General Service|:: CompanyIndex:7 SpName: spADM_GetClientUserDetails 
 'Admin'
 ,1
 ,'26.1.4'
 ,0
[System: 192.168.1.86] DEBUG | 07-18-2025 10:00:15.144 | General Service|:: CompanyIndex:0 SpName: spADM_UserLoginCheck 
 2
 ,'Admin'
 ,7
 ,'192.168.1.86'
 ,'192.168.1.86'
 ,''
 ,'Web'
 ,1
[System: 192.168.1.86] DEBUG | 07-18-2025 10:00:15.160 | General Service|:: CompanyIndex:0 SpName: spADM_Login 
 1
 ,''
 ,''
 ,''
 ,''
 ,''
 ,7
[System: 192.168.1.86] DEBUG | 07-18-2025 10:00:15.176 | General Service|:: CompanyIndex:7 SpName: spADM_GetDataSet 
 'select Value from ADM_GlobalPreferences with (nolock) where name =''EnableReLogin'''
 ,1
 ,1
[System: 192.168.1.86] DEBUG | 07-18-2025 10:00:15.410 | General Service|:: CompanyIndex:7 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFkbWluLDEsNywxIiwibmJmIjoxNzUyODEzMDE1LCJleHAiOjE3NTI4NDE4MTUsImlhdCI6MTc1MjgxMzAxNX0.XGdb3JazK2p6JZQb-foA-7S-_AddTj-QR05gQJKXq8o'''
 ,1
 ,1
[System: 192.168.1.86] DEBUG | 07-18-2025 10:00:15.457 | General Service|:: CompanyIndex:0 SpName: spADM_Login 
 4
 ,''
 ,''
 ,''
 ,'declare @Cnt int,@ExpiredGUID nvarchar(50),@AllowSession int,@GUID nvarchar(50),@CurrDate float,@UserID INT,@Instances INT,@InstancesExists INT,@LCDBIndex int
set @CurrDate= convert(float,dateadd(minute,-21,getdate()))
set @AllowSession=0
set @GUID=''1785260f-e06b-42af-831e-d0d0c826b242''
set @LCDBIndex=0
select top 1 @UserID=UserID,@Instances=InstanceCount from ADM_Users with(nolock) where UserName=''admin''
if exists(select [GUID] from ADM_Login with(nolock) where [GUID]=@GUID)
begin
	update ADM_Login 
	set LastAccessTime=convert(float,getdate()),UserID=@UserID
	where [GUID]=@GUID
    set @AllowSession=1
end
else
begin
	select @Cnt=count(*) from ADM_Login with(nolock) where LCDBIndex=@LCDBIndex and [GUID]!=''ACCESSRIGHTS'' and AP =''WEB''
    if(@Cnt<100)
		set @AllowSession=1
	else
	begin
		select top 1 @ExpiredGUID=[GUID] from ADM_Login with(nolock)
		where [GUID]!=''ACCESSRIGHTS'' and LCDBIndex=@LCDBIndex and LastAccessTime<@CurrDate  and AP =''WEB''
        order by LastAccessTime asc
		if @ExpiredGUID is not null
		begin
			delete from ADM_Login where [GUID]=@ExpiredGUID
			set @AllowSession=1
		end
	end
	if @AllowSession=1
	begin
        select @InstancesExists=COUNT(*) from ADM_Login with(nolock)
		where [GUID]!=''ACCESSRIGHTS'' and LCDBIndex=@LCDBIndex and LastAccessTime>=@CurrDate and UserID=@UserID and AP =''WEB''
		if(@Instances!=0 and @Instances<=@InstancesExists)
			set @AllowSession=2
		else
		    INSERT INTO ADM_Login([GUID],[SysName],IPAddress,[Status],LoginTime,LastAccessTime,AccessRights,UserID,DBIndex,LCDBIndex,AP)
		    VALUES(@GUID,''WEB'',''192.168.1.86'',1,convert(float,getdate()),convert(float,getdate()),null,@UserID,7,@LCDBIndex, ''WEB'')
	end
end

select @AllowSession AllowSession,@Instances Instances,@InstancesExists InstancesExists
'
 ,''
 ,0
[System: 192.168.1.86] DEBUG | 07-18-2025 10:00:15.457 | General Service|:: CompanyIndex:7 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFkbWluLDEsNywxIiwibmJmIjoxNzUyODEzMDE1LCJleHAiOjE3NTI4NDE4MTUsImlhdCI6MTc1MjgxMzAxNX0.XGdb3JazK2p6JZQb-foA-7S-_AddTj-QR05gQJKXq8o'''
 ,1
 ,1
[System: 192.168.1.86] DEBUG | 07-18-2025 10:00:15.801 | General Service|:: CompanyIndex:7 SpName: spADM_GetDataSet 
 'SELECT (SELECT COUNT(*) FROM COM_Location L WITH(NOLOCK) JOIN COM_Status S WITH(NOLOCK) ON S.StatusID=L.StatusID WHERE L.IsGroup=0 AND S.[Status]=''Active'') ML
,(SELECT COUNT(*) FROM ADM_Features WITH(NOLOCK) WHERE ((FeatureID>50000 AND FeatureID<=50050) OR FeatureID>=51000) AND IsEnabled=1) MD
,(SELECT ISNULL(COUNT(*),0) FROM ADM_RevenUReports WITH(NOLOCK) WHERE IsGroup=0 AND ReportID>10000 AND StaticReportType IN (0,-1)) MR'
 ,1
 ,1
[System: 192.168.1.86] DEBUG | 07-18-2025 10:00:15.816 | General Service|:: CompanyIndex:7 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFkbWluLDEsNywxIiwibmJmIjoxNzUyODEzMDE1LCJleHAiOjE3NTI4NDE4MTUsImlhdCI6MTc1MjgxMzAxNX0.XGdb3JazK2p6JZQb-foA-7S-_AddTj-QR05gQJKXq8o'''
 ,1
 ,1
[System: 192.168.1.86] DEBUG | 07-18-2025 10:00:18.144 | General Service|:: CompanyIndex:7 SpName: spCOM_ConfigValues 
 1
 ,'NotifTime'
 ,''
[System: 192.168.1.86] DEBUG | 07-18-2025 10:00:18.144 | General Service|:: CompanyIndex:7 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFkbWluLDEsNywxIiwibmJmIjoxNzUyODEzMDE1LCJleHAiOjE3NTI4NDE4MTUsImlhdCI6MTc1MjgxMzAxNX0.XGdb3JazK2p6JZQb-foA-7S-_AddTj-QR05gQJKXq8o'''
 ,1
 ,1
[System: 192.168.1.86] DEBUG | 07-18-2025 10:00:25.088 | General Service|:: CompanyIndex:7 SpName: spADM_GetRibbonView 
 1
 ,1
 ,1
 ,1
 ,0
 ,''
[System: 192.168.1.86] DEBUG | 07-18-2025 10:00:25.088 | General Service|:: CompanyIndex:7 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFkbWluLDEsNywxIiwibmJmIjoxNzUyODEzMDE1LCJleHAiOjE3NTI4NDE4MTUsImlhdCI6MTc1MjgxMzAxNX0.XGdb3JazK2p6JZQb-foA-7S-_AddTj-QR05gQJKXq8o'''
 ,1
 ,1
[System: 192.168.1.86] DEBUG | 07-18-2025 10:00:26.182 | General Service|:: CompanyIndex:7 SpName: spRPT_GetReport 
 2
 ,0
 ,'1'
 ,'1'
 ,1
[System: 192.168.1.86] DEBUG | 07-18-2025 10:00:26.197 | General Service|:: CompanyIndex:7 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFkbWluLDEsNywxIiwibmJmIjoxNzUyODEzMDE1LCJleHAiOjE3NTI4NDE4MTUsImlhdCI6MTc1MjgxMzAxNX0.XGdb3JazK2p6JZQb-foA-7S-_AddTj-QR05gQJKXq8o'''
 ,1
 ,1
[System: 192.168.1.86] DEBUG | 07-18-2025 10:00:26.447 | General Service|:: CompanyIndex:7 SpName: spADM_GetDashBoard 
 2
 ,0
 ,0
 ,'1'
 ,'1'
 ,1
[System: 192.168.1.86] DEBUG | 07-18-2025 10:00:26.447 | General Service|:: CompanyIndex:7 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFkbWluLDEsNywxIiwibmJmIjoxNzUyODEzMDE1LCJleHAiOjE3NTI4NDE4MTUsImlhdCI6MTc1MjgxMzAxNX0.XGdb3JazK2p6JZQb-foA-7S-_AddTj-QR05gQJKXq8o'''
 ,1
 ,1
[System: 192.168.1.86] DEBUG | 07-18-2025 10:00:27.650 | General Service|:: CompanyIndex:7 SpName: spCOM_ConfigValues 
 1
 ,'LandingDocs'
 ,'1'
[System: 192.168.1.86] DEBUG | 07-18-2025 10:00:27.650 | General Service|:: CompanyIndex:7 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFkbWluLDEsNywxIiwibmJmIjoxNzUyODEzMDE1LCJleHAiOjE3NTI4NDE4MTUsImlhdCI6MTc1MjgxMzAxNX0.XGdb3JazK2p6JZQb-foA-7S-_AddTj-QR05gQJKXq8o'''
 ,1
 ,1
[System: 192.168.1.86] DEBUG | 07-18-2025 10:00:33.028 | General Service|:: CompanyIndex:7 SpName: spADM_GetAllListViewsDef 
 1
 ,1
[System: 192.168.1.86] DEBUG | 07-18-2025 10:00:33.044 | General Service|:: CompanyIndex:7 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFkbWluLDEsNywxIiwibmJmIjoxNzUyODEzMDE1LCJleHAiOjE3NTI4NDE4MTUsImlhdCI6MTc1MjgxMzAxNX0.XGdb3JazK2p6JZQb-foA-7S-_AddTj-QR05gQJKXq8o'''
 ,1
 ,1
[System: 192.168.1.86] DEBUG | 07-18-2025 10:00:33.153 | General Service|:: CompanyIndex:7 SpName: spADM_GetAllListViewsDef 
 1
 ,1
[System: 192.168.1.86] DEBUG | 07-18-2025 10:00:33.153 | General Service|:: CompanyIndex:7 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFkbWluLDEsNywxIiwibmJmIjoxNzUyODEzMDE1LCJleHAiOjE3NTI4NDE4MTUsImlhdCI6MTc1MjgxMzAxNX0.XGdb3JazK2p6JZQb-foA-7S-_AddTj-QR05gQJKXq8o'''
 ,1
 ,1
[System: 192.168.1.86] DEBUG | 07-18-2025 10:00:34.481 | General Service|:: CompanyIndex:7 SpName: spADM_GetDataSet 
 'Select CostCenterID,CostCenterColID,CostCenterName,SysTableName,UserColumnName,SysColumnName,ISNULL(UserDefaultValue,'''') UserDefaultValue
From AdM_CostCenterDef WITH(NOLOCK)
Where SysColumnName IN(''CreditAccount'',''DebitAccount'',''ProductID'') 
AND CostCenterID>40000 AND CostCenterID<50000 

SELECT * FROM ADM_Features WITH(NOLOCK) '
 ,1
 ,1
[System: 192.168.1.86] DEBUG | 07-18-2025 10:00:34.481 | General Service|:: CompanyIndex:7 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFkbWluLDEsNywxIiwibmJmIjoxNzUyODEzMDE1LCJleHAiOjE3NTI4NDE4MTUsImlhdCI6MTc1MjgxMzAxNX0.XGdb3JazK2p6JZQb-foA-7S-_AddTj-QR05gQJKXq8o'''
 ,1
 ,1
[System: 192.168.1.86] DEBUG | 07-18-2025 10:00:34.669 | General Service|:: CompanyIndex:7 SpName: spADM_GetDataSet 
 '  SELECT * FROM PAY_PayrollPreferences WITH(NOLOCK) '
 ,1
 ,1
[System: 192.168.1.86] DEBUG | 07-18-2025 10:00:34.669 | General Service|:: CompanyIndex:7 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFkbWluLDEsNywxIiwibmJmIjoxNzUyODEzMDE1LCJleHAiOjE3NTI4NDE4MTUsImlhdCI6MTc1MjgxMzAxNX0.XGdb3JazK2p6JZQb-foA-7S-_AddTj-QR05gQJKXq8o'''
 ,1
 ,1
[System: 192.168.1.86] DEBUG | 07-18-2025 10:00:38.971 | General Service|:: CompanyIndex:7 SpName: spADM_GetDataSet 
 '  --0
                                Select * FROM COM_CC50051 WITH(NOLOCK) WHERE IsGroup=0 AND LoginUserID=''admin''
                                --1                                
                                Select * FROM COM_CC50051 WITH(NOLOCK) WHERE RptManager IN (Select NodeID FROM COM_CC50051 WITH(NOLOCK) WHERE IsGroup=0 AND LoginUserID=''admin'')
                                UNION ALL
                                Select * FROM COM_CC50051 WITH(NOLOCK) WHERE RptManager IN 
                                (
	                                Select NodeID FROM COM_CC50051 WITH(NOLOCK) 
	                                WHERE IsGroup=0 AND LoginUserID IN
	                                (
	                                SELECT fe.LoginUserID
	                                FROM INV_DocDetails a WITH(NOLOCK) 
	                                JOIN COM_DocCCData b WITH(NOLOCK) ON b.InvDocDetailsID=a.InvDocDetailsID
	                                JOIN COM_DocNumData c WITH(NOLOCK) ON c.InvDocDetailsID=a.InvDocDetailsID
	                                JOIN COM_DocTextData d WITH(NOLOCK) ON d.InvDocDetailsID=a.InvDocDetailsID
	                                JOIN COM_CC50051 fe WITH(NOLOCK) on fe.NodeID=b.dcCCNID51
	                                JOIN COM_CC50051 te WITH(NOLOCK) on CONVERT(NVARCHAR,te.NodeID)=d.dcAlpha1
	                                WHERE a.CostCenterID=40098 and a.StatusID=369 AND d.dcAlpha3=''Temporary''
	                                AND te.LoginUserID=''admin'' 
	                                AND ISDATE(d.dcAlpha4)=1 AND ISDATE(d.dcAlpha5)=1 
	                                AND CONVERT(DATETIME,''18 Jul 2025'') BETWEEN CONVERT(DATETIME,d.dcAlpha4) AND CONVERT(DATETIME,d.dcAlpha5)
	                                )
                                )
                                --2
                                Select * FROM ADM_USERS WITH(NOLOCK) WHERE USERID=1
                                --3
                                Select * FROM COM_CostCenterCostCenterMap WITH(NOLOCK) WHERE ParentCostCenterID=7 AND ParentNodeID=1
                                --4                                
                                Select * FROM COM_CostCenterCostCenterMap WITH(NOLOCK) WHERE ParentCostCenterID=7 AND ParentNodeID=1
                                AND CostCenterID IN(Select ColumnCostCenterID From ADM_CostCenterDef Where CostCenterID=50051 AND IsColumnInUse=1 AND SysColumnName LIKE ''CCNID%'')
                                --5
                                Select * from COM_Files WITH(NOLOCK) WHERE FeatureID=50051 AND FeaturePK IN (Select NodeID FROM COM_CC50051 WITH(NOLOCK) WHERE IsGroup=0 AND LoginUserID=''admin'')                         
'
 ,1
 ,1
[System: 192.168.1.86] DEBUG | 07-18-2025 10:00:38.971 | General Service|:: CompanyIndex:7 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFkbWluLDEsNywxIiwibmJmIjoxNzUyODEzMDE1LCJleHAiOjE3NTI4NDE4MTUsImlhdCI6MTc1MjgxMzAxNX0.XGdb3JazK2p6JZQb-foA-7S-_AddTj-QR05gQJKXq8o'''
 ,1
 ,1
[System: 192.168.1.86] DEBUG | 07-18-2025 10:00:40.003 | General Service|:: CompanyIndex:7 SpName: spADM_GetDataSet 
 'UPDATE C SET STATUSID=CASE WHEN ResignType=''Resigned'' THEN 302 WHEN ResignType=''Terminated With Cause'' THEN 303 WHEN ResignType=''Terminated Without Cause'' THEN 304 END 
                            FROM COM_CC50051 C WITH(NOLOCK)
                            WHERE ResignStatus=''Posted'' AND ResignType NOT IN(''Pending'',''Rejected'') 
                            AND DOResign IS NOT NULL AND DORelieve IS NOT NULL
                            AND STATUSID NOT IN(302,303,304)
                            AND DATEDIFF(D,GETDATE(),DORelieve)<0'
 ,1
 ,1
[System: 192.168.1.86] DEBUG | 07-18-2025 10:00:40.003 | General Service|:: CompanyIndex:7 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFkbWluLDEsNywxIiwibmJmIjoxNzUyODEzMDE1LCJleHAiOjE3NTI4NDE4MTUsImlhdCI6MTc1MjgxMzAxNX0.XGdb3JazK2p6JZQb-foA-7S-_AddTj-QR05gQJKXq8o'''
 ,1
 ,1
[System: 192.168.1.86] DEBUG | 07-18-2025 10:00:46.935 | General Service|:: CompanyIndex:7 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.86] DEBUG | 07-18-2025 10:00:46.935 | General Service|:: CompanyIndex:7 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFkbWluLDEsNywxIiwibmJmIjoxNzUyODEzMDE1LCJleHAiOjE3NTI4NDE4MTUsImlhdCI6MTc1MjgxMzAxNX0.XGdb3JazK2p6JZQb-foA-7S-_AddTj-QR05gQJKXq8o'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:00:56.041 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:00:56.041 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxMjkyMSwiZXhwIjoxNzUyODQxNzIxLCJpYXQiOjE3NTI4MTI5MjF9.uJhJW0_EsScpZeKrHuOsbG3c-NRfVvptzR6Q89g9g_M'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:01:57.234 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:01:57.234 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxMjkyMSwiZXhwIjoxNzUyODQxNzIxLCJpYXQiOjE3NTI4MTI5MjF9.uJhJW0_EsScpZeKrHuOsbG3c-NRfVvptzR6Q89g9g_M'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:02:43.735 | General Service|:: CompanyIndex:13 SpName: spDOC_GetInvDocument 
 41025
 ,'023/25/'
 ,'116'
 ,'1'
 ,0
 ,' and (a.CostCenterID=c.DocumentID or c.DocumentID=1) and (b.dcCCNID2=c.CCNID2 or c.CCNID2=0)'
 ,1
 ,1
 ,'admin'
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:02:43.735 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxMjkyMSwiZXhwIjoxNzUyODQxNzIxLCJpYXQiOjE3NTI4MTI5MjF9.uJhJW0_EsScpZeKrHuOsbG3c-NRfVvptzR6Q89g9g_M'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:02:43.892 | General Service|:: CompanyIndex:13 SpName: spADM_GetListViewDataByIDs 
 '<XML><Row CCID="50011"  TypeID="1"  DBColumnID="566213"  NodeID="1" /><Row CCID="2"  TypeID="10"  DBColumnID="566117"  NodeID="55687" /><Row CCID="2"  TypeID="100"  DBColumnID="566117"  NodeID="55687" /><Row CCID="2"  TypeID="10"  DBColumnID="566254"  NodeID="3" /><Row CCID="2"  TypeID="100"  DBColumnID="566254"  NodeID="3" /><Row CCID="50014"  TypeID="4"  DBColumnID="566216"  NodeID="10367" /><Row CCID="50009"  TypeID="3"  DBColumnID="566211"  NodeID="10570" /><Row CCID="50010"  TypeID="3"  DBColumnID="566212"  NodeID="51889" /><Row CCID="50018"  TypeID="1"  DBColumnID="566220"  NodeID="135" /><Row CCID="50070"  TypeID="1"  DBColumnID="598043"  NodeID="4" /><Row CCID="50011"  TypeID="1"  DBColumnID="566213"  NodeID="1" /><Row CCID="50014"  TypeID="4"  DBColumnID="566216"  NodeID="10367" /><Row CCID="50009"  TypeID="3"  DBColumnID="566211"  NodeID="10570" /><Row CCID="50010"  TypeID="3"  DBColumnID="566212"  NodeID="51889" /><Row CCID="50018"  TypeID="1"  DBColumnID="566220"  NodeID="135" /><Row CCID="50070"  TypeID="1"  DBColumnID="598043"  NodeID="4" /><Row CCID="50002"  TypeID="1"  DBColumnID="566204"  NodeID="27" /><Row CCID="50058"  TypeID="1"  DBColumnID="583442"  NodeID="1" /><Row CCID="50059"  TypeID="1"  DBColumnID="583494"  NodeID="1" /><Row CCID="50061"  TypeID="11"  DBColumnID="583598"  NodeID="11" /><Row CCID="50062"  TypeID="1"  DBColumnID="583650"  NodeID="1" /><Row CCID="50058"  TypeID="1"  DBColumnID="583713"  NodeID="1" /><Row CCID="44"  TypeID="122"  DBColumnID="566171"  NodeID="641" /><Row CCID="50060"  TypeID="1"  DBColumnID="583546"  NodeID="1" /></XML>'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:02:43.892 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxMjkyMSwiZXhwIjoxNzUyODQxNzIxLCJpYXQiOjE3NTI4MTI5MjF9.uJhJW0_EsScpZeKrHuOsbG3c-NRfVvptzR6Q89g9g_M'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:03:01.709 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select ParentNodeID NodeID from COM_CostCenterCostCenterMap where CostCenterID in (8,300) and ParentCostCenterId=50033 and NodeID=41025'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:03:01.709 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxMjkyMSwiZXhwIjoxNzUyODQxNzIxLCJpYXQiOjE3NTI4MTI5MjF9.uJhJW0_EsScpZeKrHuOsbG3c-NRfVvptzR6Q89g9g_M'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:03:07.583 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select ParentNodeID NodeID from COM_CostCenterCostCenterMap where CostCenterID in (8,300) and ParentCostCenterId=50033 and NodeID=41025'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:03:07.598 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxMjkyMSwiZXhwIjoxNzUyODQxNzIxLCJpYXQiOjE3NTI4MTI5MjF9.uJhJW0_EsScpZeKrHuOsbG3c-NRfVvptzR6Q89g9g_M'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:03:10.667 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select ParentNodeID NodeID from COM_CostCenterCostCenterMap where CostCenterID in (8,300) and ParentCostCenterId=50033 and NodeID=41025'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:03:10.667 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxMjkyMSwiZXhwIjoxNzUyODQxNzIxLCJpYXQiOjE3NTI4MTI5MjF9.uJhJW0_EsScpZeKrHuOsbG3c-NRfVvptzR6Q89g9g_M'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:03:11.198 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select ParentNodeID NodeID from COM_CostCenterCostCenterMap where CostCenterID in (8,300) and ParentCostCenterId=50033 and NodeID=41025'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:03:11.214 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxMjkyMSwiZXhwIjoxNzUyODQxNzIxLCJpYXQiOjE3NTI4MTI5MjF9.uJhJW0_EsScpZeKrHuOsbG3c-NRfVvptzR6Q89g9g_M'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:03:11.698 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select ParentNodeID NodeID from COM_CostCenterCostCenterMap where CostCenterID in (8,300) and ParentCostCenterId=50033 and NodeID=41025'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:03:11.698 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxMjkyMSwiZXhwIjoxNzUyODQxNzIxLCJpYXQiOjE3NTI4MTI5MjF9.uJhJW0_EsScpZeKrHuOsbG3c-NRfVvptzR6Q89g9g_M'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:03:12.294 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select ParentNodeID NodeID from COM_CostCenterCostCenterMap where CostCenterID in (8,300) and ParentCostCenterId=50033 and NodeID=41025'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:03:12.309 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxMjkyMSwiZXhwIjoxNzUyODQxNzIxLCJpYXQiOjE3NTI4MTI5MjF9.uJhJW0_EsScpZeKrHuOsbG3c-NRfVvptzR6Q89g9g_M'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:03:13.106 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select ParentNodeID NodeID from COM_CostCenterCostCenterMap where CostCenterID in (8,300) and ParentCostCenterId=50033 and NodeID=41025'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:03:13.122 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxMjkyMSwiZXhwIjoxNzUyODQxNzIxLCJpYXQiOjE3NTI4MTI5MjF9.uJhJW0_EsScpZeKrHuOsbG3c-NRfVvptzR6Q89g9g_M'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:03:15.106 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select ParentNodeID NodeID from COM_CostCenterCostCenterMap where CostCenterID in (8,300) and ParentCostCenterId=50033 and NodeID=41025'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:03:15.106 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxMjkyMSwiZXhwIjoxNzUyODQxNzIxLCJpYXQiOjE3NTI4MTI5MjF9.uJhJW0_EsScpZeKrHuOsbG3c-NRfVvptzR6Q89g9g_M'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:03:34.092 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select ParentNodeID NodeID from COM_CostCenterCostCenterMap where CostCenterID in (8,300) and ParentCostCenterId=50033 and NodeID=41025'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:03:34.107 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxMjkyMSwiZXhwIjoxNzUyODQxNzIxLCJpYXQiOjE3NTI4MTI5MjF9.uJhJW0_EsScpZeKrHuOsbG3c-NRfVvptzR6Q89g9g_M'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:03:34.123 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select ParentNodeID NodeID from COM_CostCenterCostCenterMap where CostCenterID in (8,300) and ParentCostCenterId=50033 and NodeID=41025'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:03:34.123 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxMjkyMSwiZXhwIjoxNzUyODQxNzIxLCJpYXQiOjE3NTI4MTI5MjF9.uJhJW0_EsScpZeKrHuOsbG3c-NRfVvptzR6Q89g9g_M'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:03:34.139 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select ParentNodeID NodeID from COM_CostCenterCostCenterMap where CostCenterID in (8,300) and ParentCostCenterId=50033 and NodeID=41025'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:03:34.154 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxMjkyMSwiZXhwIjoxNzUyODQxNzIxLCJpYXQiOjE3NTI4MTI5MjF9.uJhJW0_EsScpZeKrHuOsbG3c-NRfVvptzR6Q89g9g_M'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:03:34.170 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select ParentNodeID NodeID from COM_CostCenterCostCenterMap where CostCenterID in (8,300) and ParentCostCenterId=50033 and NodeID=41025'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:03:34.170 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxMjkyMSwiZXhwIjoxNzUyODQxNzIxLCJpYXQiOjE3NTI4MTI5MjF9.uJhJW0_EsScpZeKrHuOsbG3c-NRfVvptzR6Q89g9g_M'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:03:34.201 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select ParentNodeID NodeID from COM_CostCenterCostCenterMap where CostCenterID in (8,300) and ParentCostCenterId=50033 and NodeID=41025'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:03:34.201 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxMjkyMSwiZXhwIjoxNzUyODQxNzIxLCJpYXQiOjE3NTI4MTI5MjF9.uJhJW0_EsScpZeKrHuOsbG3c-NRfVvptzR6Q89g9g_M'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:03:35.108 | General Service|:: CompanyIndex:13 SpName: spADM_GetCostCenterListViewData 
 362
 ,'a.Name,a.Code'
 ,''
 ,''
 ,'Name'
 ,''
 ,60
 ,False
 ,''
 ,''
 ,'(CCNID9=10570)'
 ,''
 ,''
 ,0
 ,False
 ,''
 ,''
 ,'1'
 ,'1'
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:03:35.108 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxMjkyMSwiZXhwIjoxNzUyODQxNzIxLCJpYXQiOjE3NTI4MTI5MjF9.uJhJW0_EsScpZeKrHuOsbG3c-NRfVvptzR6Q89g9g_M'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:03:35.373 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:03:35.373 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxMjkyMSwiZXhwIjoxNzUyODQxNzIxLCJpYXQiOjE3NTI4MTI5MjF9.uJhJW0_EsScpZeKrHuOsbG3c-NRfVvptzR6Q89g9g_M'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:03:44.898 | General Service|:: CompanyIndex:13 SpName: spCOM_ConfigValues 
 1
 ,'NotifTime'
 ,''
[System: 192.168.1.54] DEBUG | 07-18-2025 10:03:44.914 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxMjkyMSwiZXhwIjoxNzUyODQxNzIxLCJpYXQiOjE3NTI4MTI5MjF9.uJhJW0_EsScpZeKrHuOsbG3c-NRfVvptzR6Q89g9g_M'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:03:56.031 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:03:56.047 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxMjkyMSwiZXhwIjoxNzUyODQxNzIxLCJpYXQiOjE3NTI4MTI5MjF9.uJhJW0_EsScpZeKrHuOsbG3c-NRfVvptzR6Q89g9g_M'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:05:14.926 | General Service|:: CompanyIndex:0 SpName: spADM_GetClientUserDetails2C 
 'admin'
 ,1
 ,0
[System: 192.168.1.54] DEBUG | 07-18-2025 10:05:14.957 | General Service|:: CompanyIndex:0 SpName: spADM_UserLoginCheck 
 2
 ,'admin'
 ,0
 ,'192.168.1.54'
 ,'192.168.1.54'
 ,''
 ,'Web'
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:05:19.685 | General Service|:: CompanyIndex:13 SpName: spADM_GetClientUserDetails 
 'admin'
 ,1
 ,'26.1.0'
 ,0
[System: 192.168.1.54] DEBUG | 07-18-2025 10:05:19.732 | General Service|:: CompanyIndex:0 SpName: spADM_UserLoginCheck 
 2
 ,'admin'
 ,13
 ,'192.168.1.54'
 ,'192.168.1.54'
 ,''
 ,'Web'
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:05:19.748 | General Service|:: CompanyIndex:0 SpName: spADM_Login 
 1
 ,''
 ,''
 ,''
 ,''
 ,''
 ,13
[System: 192.168.1.54] DEBUG | 07-18-2025 10:05:19.748 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select Value from ADM_GlobalPreferences with (nolock) where name =''EnableReLogin'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:05:19.748 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxMzMxOSwiZXhwIjoxNzUyODQyMTE5LCJpYXQiOjE3NTI4MTMzMTl9._S9fUPHT42VIy_hQNta1xjwR2MLvpHHM_IaW94sVnsE'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:05:42.258 | General Service|:: CompanyIndex:0 SpName: spADM_GetClientUserDetails2C 
 'admin'
 ,1
 ,0
[System: 192.168.1.54] DEBUG | 07-18-2025 10:05:42.289 | General Service|:: CompanyIndex:0 SpName: spADM_UserLoginCheck 
 2
 ,'admin'
 ,0
 ,'192.168.1.54'
 ,'192.168.1.54'
 ,''
 ,'Web'
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:05:47.491 | General Service|:: CompanyIndex:13 SpName: spADM_GetClientUserDetails 
 'admin'
 ,1
 ,'26.1.0'
 ,0
[System: 192.168.1.54] DEBUG | 07-18-2025 10:05:48.007 | General Service|:: CompanyIndex:0 SpName: spADM_UserLoginCheck 
 2
 ,'admin'
 ,13
 ,'192.168.1.54'
 ,'192.168.1.54'
 ,''
 ,'Web'
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:05:48.225 | General Service|:: CompanyIndex:0 SpName: spADM_Login 
 1
 ,''
 ,''
 ,''
 ,''
 ,''
 ,13
[System: 192.168.1.54] DEBUG | 07-18-2025 10:05:48.303 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select Value from ADM_GlobalPreferences with (nolock) where name =''EnableReLogin'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:05:48.397 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxMzM0NywiZXhwIjoxNzUyODQyMTQ3LCJpYXQiOjE3NTI4MTMzNDd9.CxLPuy9Uf2VKhk9DA4TVY3YvnJw-yW90HtIUv4vdqrs'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:05:48.663 | General Service|:: CompanyIndex:0 SpName: spADM_Login 
 4
 ,''
 ,''
 ,''
 ,'declare @Cnt int,@ExpiredGUID nvarchar(50),@AllowSession int,@GUID nvarchar(50),@CurrDate float,@UserID INT,@Instances INT,@InstancesExists INT,@LCDBIndex int
set @CurrDate= convert(float,dateadd(minute,-21,getdate()))
set @AllowSession=0
set @GUID=''ba44ae58-3862-49f1-b210-ebc3813cae12''
set @LCDBIndex=0
select top 1 @UserID=UserID,@Instances=InstanceCount from ADM_Users with(nolock) where UserName=''admin''
if exists(select [GUID] from ADM_Login with(nolock) where [GUID]=@GUID)
begin
	update ADM_Login 
	set LastAccessTime=convert(float,getdate()),UserID=@UserID
	where [GUID]=@GUID
    set @AllowSession=1
end
else
begin
	select @Cnt=count(*) from ADM_Login with(nolock) where LCDBIndex=@LCDBIndex and [GUID]!=''ACCESSRIGHTS'' and AP =''WEB''
    if(@Cnt<100)
		set @AllowSession=1
	else
	begin
		select top 1 @ExpiredGUID=[GUID] from ADM_Login with(nolock)
		where [GUID]!=''ACCESSRIGHTS'' and LCDBIndex=@LCDBIndex and LastAccessTime<@CurrDate  and AP =''WEB''
        order by LastAccessTime asc
		if @ExpiredGUID is not null
		begin
			delete from ADM_Login where [GUID]=@ExpiredGUID
			set @AllowSession=1
		end
	end
	if @AllowSession=1
	begin
        select @InstancesExists=COUNT(*) from ADM_Login with(nolock)
		where [GUID]!=''ACCESSRIGHTS'' and LCDBIndex=@LCDBIndex and LastAccessTime>=@CurrDate and UserID=@UserID and AP =''WEB''
		if(@Instances!=0 and @Instances<=@InstancesExists)
			set @AllowSession=2
		else
		    INSERT INTO ADM_Login([GUID],[SysName],IPAddress,[Status],LoginTime,LastAccessTime,AccessRights,UserID,DBIndex,LCDBIndex,AP)
		    VALUES(@GUID,''WEB'',''192.168.1.54'',1,convert(float,getdate()),convert(float,getdate()),null,@UserID,13,@LCDBIndex, ''WEB'')
	end
end

select @AllowSession AllowSession,@Instances Instances,@InstancesExists InstancesExists
'
 ,''
 ,0
[System: 192.168.1.54] DEBUG | 07-18-2025 10:05:48.757 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxMzM0NywiZXhwIjoxNzUyODQyMTQ3LCJpYXQiOjE3NTI4MTMzNDd9.CxLPuy9Uf2VKhk9DA4TVY3YvnJw-yW90HtIUv4vdqrs'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:05:49.053 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'SELECT (SELECT COUNT(*) FROM COM_Location L WITH(NOLOCK) JOIN COM_Status S WITH(NOLOCK) ON S.StatusID=L.StatusID WHERE L.IsGroup=0 AND S.[Status]=''Active'') ML
,(SELECT COUNT(*) FROM ADM_Features WITH(NOLOCK) WHERE ((FeatureID>50000 AND FeatureID<=50050) OR FeatureID>=51000) AND IsEnabled=1) MD
,(SELECT ISNULL(COUNT(*),0) FROM ADM_RevenUReports WITH(NOLOCK) WHERE IsGroup=0 AND ReportID>10000 AND StaticReportType IN (0,-1)) MR'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:05:49.116 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxMzM0NywiZXhwIjoxNzUyODQyMTQ3LCJpYXQiOjE3NTI4MTMzNDd9.CxLPuy9Uf2VKhk9DA4TVY3YvnJw-yW90HtIUv4vdqrs'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:05:50.772 | General Service|:: CompanyIndex:13 SpName: spCOM_ConfigValues 
 1
 ,'NotifTime'
 ,''
[System: 192.168.1.54] DEBUG | 07-18-2025 10:05:50.772 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxMzM0NywiZXhwIjoxNzUyODQyMTQ3LCJpYXQiOjE3NTI4MTMzNDd9.CxLPuy9Uf2VKhk9DA4TVY3YvnJw-yW90HtIUv4vdqrs'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:05:50.944 | General Service|:: CompanyIndex:13 SpName: spADM_GetRibbonView 
 1
 ,1
 ,1
 ,1
 ,0
 ,''
[System: 192.168.1.54] DEBUG | 07-18-2025 10:05:50.959 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxMzM0NywiZXhwIjoxNzUyODQyMTQ3LCJpYXQiOjE3NTI4MTMzNDd9.CxLPuy9Uf2VKhk9DA4TVY3YvnJw-yW90HtIUv4vdqrs'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:05:51.147 | General Service|:: CompanyIndex:13 SpName: spRPT_GetReport 
 2
 ,0
 ,'1'
 ,'1'
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:05:51.162 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxMzM0NywiZXhwIjoxNzUyODQyMTQ3LCJpYXQiOjE3NTI4MTMzNDd9.CxLPuy9Uf2VKhk9DA4TVY3YvnJw-yW90HtIUv4vdqrs'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:05:51.178 | General Service|:: CompanyIndex:13 SpName: spADM_GetDashBoard 
 2
 ,0
 ,0
 ,'1'
 ,'1'
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:05:51.178 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxMzM0NywiZXhwIjoxNzUyODQyMTQ3LCJpYXQiOjE3NTI4MTMzNDd9.CxLPuy9Uf2VKhk9DA4TVY3YvnJw-yW90HtIUv4vdqrs'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:05:51.194 | General Service|:: CompanyIndex:13 SpName: spCOM_ConfigValues 
 1
 ,'LandingDocs'
 ,'1'
[System: 192.168.1.54] DEBUG | 07-18-2025 10:05:51.194 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxMzM0NywiZXhwIjoxNzUyODQyMTQ3LCJpYXQiOjE3NTI4MTMzNDd9.CxLPuy9Uf2VKhk9DA4TVY3YvnJw-yW90HtIUv4vdqrs'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:05:51.256 | General Service|:: CompanyIndex:13 SpName: spCOM_GetFavorites 
 'GETLIST0'
 ,0
 ,'1'
 ,'1'
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:05:51.272 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxMzM0NywiZXhwIjoxNzUyODQyMTQ3LCJpYXQiOjE3NTI4MTMzNDd9.CxLPuy9Uf2VKhk9DA4TVY3YvnJw-yW90HtIUv4vdqrs'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:05:51.272 | General Service|:: CompanyIndex:13 SpName: spADM_GetAllListViewsDef 
 1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:05:51.272 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxMzM0NywiZXhwIjoxNzUyODQyMTQ3LCJpYXQiOjE3NTI4MTMzNDd9.CxLPuy9Uf2VKhk9DA4TVY3YvnJw-yW90HtIUv4vdqrs'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:05:51.365 | General Service|:: CompanyIndex:13 SpName: spADM_GetAllListViewsDef 
 1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:05:51.365 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxMzM0NywiZXhwIjoxNzUyODQyMTQ3LCJpYXQiOjE3NTI4MTMzNDd9.CxLPuy9Uf2VKhk9DA4TVY3YvnJw-yW90HtIUv4vdqrs'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:05:51.490 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'Select CostCenterID,CostCenterColID,CostCenterName,SysTableName,UserColumnName,SysColumnName,ISNULL(UserDefaultValue,'''') UserDefaultValue
From AdM_CostCenterDef WITH(NOLOCK)
Where SysColumnName IN(''CreditAccount'',''DebitAccount'',''ProductID'') 
AND CostCenterID>40000 AND CostCenterID<50000 

SELECT * FROM ADM_Features WITH(NOLOCK) '
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:05:51.490 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxMzM0NywiZXhwIjoxNzUyODQyMTQ3LCJpYXQiOjE3NTI4MTMzNDd9.CxLPuy9Uf2VKhk9DA4TVY3YvnJw-yW90HtIUv4vdqrs'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:05:51.537 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 '  SELECT * FROM PAY_PayrollPreferences WITH(NOLOCK) '
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:05:51.537 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxMzM0NywiZXhwIjoxNzUyODQyMTQ3LCJpYXQiOjE3NTI4MTMzNDd9.CxLPuy9Uf2VKhk9DA4TVY3YvnJw-yW90HtIUv4vdqrs'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:05:51.568 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 '  --0
                                Select * FROM COM_CC50051 WITH(NOLOCK) WHERE IsGroup=0 AND LoginUserID=''admin''
                                --1                                
                                Select * FROM COM_CC50051 WITH(NOLOCK) WHERE RptManager IN (Select NodeID FROM COM_CC50051 WITH(NOLOCK) WHERE IsGroup=0 AND LoginUserID=''admin'')
                                UNION ALL
                                Select * FROM COM_CC50051 WITH(NOLOCK) WHERE RptManager IN 
                                (
	                                Select NodeID FROM COM_CC50051 WITH(NOLOCK) 
	                                WHERE IsGroup=0 AND LoginUserID IN
	                                (
	                                SELECT fe.LoginUserID
	                                FROM INV_DocDetails a WITH(NOLOCK) 
	                                JOIN COM_DocCCData b WITH(NOLOCK) ON b.InvDocDetailsID=a.InvDocDetailsID
	                                JOIN COM_DocNumData c WITH(NOLOCK) ON c.InvDocDetailsID=a.InvDocDetailsID
	                                JOIN COM_DocTextData d WITH(NOLOCK) ON d.InvDocDetailsID=a.InvDocDetailsID
	                                JOIN COM_CC50051 fe WITH(NOLOCK) on fe.NodeID=b.dcCCNID51
	                                JOIN COM_CC50051 te WITH(NOLOCK) on CONVERT(NVARCHAR,te.NodeID)=d.dcAlpha1
	                                WHERE a.CostCenterID=40098 and a.StatusID=369 AND d.dcAlpha3=''Temporary''
	                                AND te.LoginUserID=''admin'' 
	                                AND ISDATE(d.dcAlpha4)=1 AND ISDATE(d.dcAlpha5)=1 
	                                AND CONVERT(DATETIME,''18 Jul 2025'') BETWEEN CONVERT(DATETIME,d.dcAlpha4) AND CONVERT(DATETIME,d.dcAlpha5)
	                                )
                                )
                                --2
                                Select * FROM ADM_USERS WITH(NOLOCK) WHERE USERID=1
                                --3
                                Select * FROM COM_CostCenterCostCenterMap WITH(NOLOCK) WHERE ParentCostCenterID=7 AND ParentNodeID=1
                                --4                                
                                Select * FROM COM_CostCenterCostCenterMap WITH(NOLOCK) WHERE ParentCostCenterID=7 AND ParentNodeID=1
                                AND CostCenterID IN(Select ColumnCostCenterID From ADM_CostCenterDef Where CostCenterID=50051 AND IsColumnInUse=1 AND SysColumnName LIKE ''CCNID%'')
                                --5
                                Select * from COM_Files WITH(NOLOCK) WHERE FeatureID=50051 AND FeaturePK IN (Select NodeID FROM COM_CC50051 WITH(NOLOCK) WHERE IsGroup=0 AND LoginUserID=''admin'')                         
'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:05:51.568 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxMzM0NywiZXhwIjoxNzUyODQyMTQ3LCJpYXQiOjE3NTI4MTMzNDd9.CxLPuy9Uf2VKhk9DA4TVY3YvnJw-yW90HtIUv4vdqrs'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:05:51.694 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:05:51.709 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxMzM0NywiZXhwIjoxNzUyODQyMTQ3LCJpYXQiOjE3NTI4MTMzNDd9.CxLPuy9Uf2VKhk9DA4TVY3YvnJw-yW90HtIUv4vdqrs'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:05:51.943 | General Service|:: CompanyIndex:13 SpName: spADM_GetDashBoard 
 1
 ,8
 ,0
 ,'1'
 ,'1'
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:05:51.943 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxMzM0NywiZXhwIjoxNzUyODQyMTQ3LCJpYXQiOjE3NTI4MTMzNDd9.CxLPuy9Uf2VKhk9DA4TVY3YvnJw-yW90HtIUv4vdqrs'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:05:51.959 | General Service|:: CompanyIndex:13 SpName: spRPT_GetReport 
 0
 ,30456
 ,'1'
 ,'1'
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:05:51.975 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxMzM0NywiZXhwIjoxNzUyODQyMTQ3LCJpYXQiOjE3NTI4MTMzNDd9.CxLPuy9Uf2VKhk9DA4TVY3YvnJw-yW90HtIUv4vdqrs'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:05:52.068 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'SELECT StaticReportType FROM ADM_RevenUReports WITH(NOLOCK) WHERE ReportID=30456'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:05:52.068 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxMzM0NywiZXhwIjoxNzUyODQyMTQ3LCJpYXQiOjE3NTI4MTMzNDd9.CxLPuy9Uf2VKhk9DA4TVY3YvnJw-yW90HtIUv4vdqrs'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:05:52.209 | General Service|:: CompanyIndex:13 SpName: spRPT_GetReportCategoryandField 
 -1
 ,0
 ,1
 ,0
 ,'1'
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:05:52.209 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxMzM0NywiZXhwIjoxNzUyODQyMTQ3LCJpYXQiOjE3NTI4MTMzNDd9.CxLPuy9Uf2VKhk9DA4TVY3YvnJw-yW90HtIUv4vdqrs'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:05:52.256 | General Service|:: CompanyIndex:13 SpName: spRPT_GetReportFields 
 400
 ,0
 ,'1'
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:05:52.256 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxMzM0NywiZXhwIjoxNzUyODQyMTQ3LCJpYXQiOjE3NTI4MTMzNDd9.CxLPuy9Uf2VKhk9DA4TVY3YvnJw-yW90HtIUv4vdqrs'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:05:52.318 | General Service|:: CompanyIndex:13 SpName: spRPT_GetReportData 
 9
 ,1
 ,'<XML UID="1" ShowMyQueue="0"></XML>'
 ,'1'
[System: 192.168.1.54] DEBUG | 07-18-2025 10:05:52.318 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxMzM0NywiZXhwIjoxNzUyODQyMTQ3LCJpYXQiOjE3NTI4MTMzNDd9.CxLPuy9Uf2VKhk9DA4TVY3YvnJw-yW90HtIUv4vdqrs'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:05:52.537 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
                EXEC spRPT_GetReportData @Type=8,@Param1=1,@strXML=null,@RoleID=1
SELECT ACC.VoucherNo [C858bdfa70f884b78b8ec0453808910bb],ACC.VersionNo [C858bdfa70f884b78b8ec0453808910bbVer],CONVERT(DATETIME,ACC.DocDate) [Cf4c1ff96517a40978b75103376667aae],ACC.DocAbbr [C501419b9c341410d8920b953fb30cfbf],ACC.Amount [Cfa623191688842d5ac3c0cd9232cfb2e],NULL [C90a85d26ad47471988897309a5c78218],T1.UserName [Cd0c4cb9a7057416ca691fb5c4774545b],T3.Name [C80a6de4371d045c08bf9d035c1831959],ACC.CommonNarration [Ce66e27446651436893b0d2c967dd0ecb],T4.Status [Ca7da089a0bd542838ddeb39e78a982ea],T5.Name [Cff89130f277d4635b5e1c5e6887cbcb5],ACC.VoucherNo [Cdacb59b3f5e54f18b65dfc4cf3186555],ACC.DocAbbr [Cdacb59b3f5e54f18b65dfc4cf3186555Abr],ACC.DocPrefix [Cdacb59b3f5e54f18b65dfc4cf3186555prf],CONVERT(BIGINT,ACC.DocNumber) [Cdacb59b3f5e54f18b65dfc4cf3186555dno]
 FROM ACC_DocDetails ACC with(nolock) left join ADM_Users T1 with(nolock) on ACC.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on ACC.AccDocDetailsID=TDCC.AccDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on ACC.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (ACC.CostCenterID=41053) AND T4.Status=''Unapproved'' AND ACC.LinkedAccDocDetailsID is null AND WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT ACC.VoucherNo,ACC.VersionNo,CONVERT(DATETIME,ACC.DocDate),ACC.DocAbbr,ACC.Amount,NULL,T1.UserName,T3.Name,ACC.CommonNarration,T4.Status,T5.Name,ACC.VoucherNo,ACC.DocAbbr,ACC.DocPrefix,CONVERT(BIGINT,ACC.DocNumber)
 FROM ACC_DocDetails ACC with(nolock) left join ADM_Users T1 with(nolock) on ACC.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on ACC.AccDocDetailsID=TDCC.AccDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on ACC.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (ACC.CostCenterID=41061) AND T4.Status=''Unapproved'' AND ACC.LinkedAccDocDetailsID is null AND WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT ACC.VoucherNo,ACC.VersionNo,CONVERT(DATETIME,ACC.DocDate),ACC.DocAbbr,ACC.Amount,NULL,T1.UserName,T3.Name,ACC.CommonNarration,T4.Status,T5.Name,ACC.VoucherNo,ACC.DocAbbr,ACC.DocPrefix,CONVERT(BIGINT,ACC.DocNumber)
 FROM ACC_DocDetails ACC with(nolock) left join ADM_Users T1 with(nolock) on ACC.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on ACC.AccDocDetailsID=TDCC.AccDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on ACC.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (ACC.CostCenterID=40023) AND T4.Status=''Unapproved'' AND ACC.LinkedAccDocDetailsID is null AND WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT ACC.VoucherNo,ACC.VersionNo,CONVERT(DATETIME,ACC.DocDate),ACC.DocAbbr,ACC.Amount,NULL,T1.UserName,T3.Name,ACC.CommonNarration,T4.Status,T5.Name,ACC.VoucherNo,ACC.DocAbbr,ACC.DocPrefix,CONVERT(BIGINT,ACC.DocNumber)
 FROM ACC_DocDetails ACC with(nolock) left join ADM_Users T1 with(nolock) on ACC.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on ACC.AccDocDetailsID=TDCC.AccDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on ACC.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (ACC.CostCenterID=41064) AND T4.Status=''Unapproved'' AND ACC.LinkedAccDocDetailsID is null AND WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT ACC.VoucherNo,ACC.VersionNo,CONVERT(DATETIME,ACC.DocDate),ACC.DocAbbr,ACC.Amount,NULL,T1.UserName,T3.Name,ACC.CommonNarration,T4.Status,T5.Name,ACC.VoucherNo,ACC.DocAbbr,ACC.DocPrefix,CONVERT(BIGINT,ACC.DocNumber)
 FROM ACC_DocDetails ACC with(nolock) left join ADM_Users T1 with(nolock) on ACC.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on ACC.AccDocDetailsID=TDCC.AccDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on ACC.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (ACC.CostCenterID=41006) AND T4.Status=''Unapproved'' AND ACC.LinkedAccDocDetailsID is null AND WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT ACC.VoucherNo,ACC.VersionNo,CONVERT(DATETIME,ACC.DocDate),ACC.DocAbbr,ACC.Amount,NULL,T1.UserName,T3.Name,ACC.CommonNarration,T4.Status,T5.Name,ACC.VoucherNo,ACC.DocAbbr,ACC.DocPrefix,CONVERT(BIGINT,ACC.DocNumber)
 FROM ACC_DocDetails ACC with(nolock) left join ADM_Users T1 with(nolock) on ACC.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on ACC.AccDocDetailsID=TDCC.AccDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on ACC.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (ACC.CostCenterID=40022) AND T4.Status=''Unapproved'' AND ACC.LinkedAccDocDetailsID is null AND WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT ACC.VoucherNo,ACC.VersionNo,CONVERT(DATETIME,ACC.DocDate),ACC.DocAbbr,ACC.Amount,NULL,T1.UserName,T3.Name,ACC.CommonNarration,T4.Status,T5.Name,ACC.VoucherNo,ACC.DocAbbr,ACC.DocPrefix,CONVERT(BIGINT,ACC.DocNumber)
 FROM ACC_DocDetails ACC with(nolock) left join ADM_Users T1 with(nolock) on ACC.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on ACC.AccDocDetailsID=TDCC.AccDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on ACC.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (ACC.CostCenterID=41075) AND T4.Status=''Unapproved'' AND ACC.LinkedAccDocDetailsID is null AND WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT ACC.VoucherNo,ACC.VersionNo,CONVERT(DATETIME,ACC.DocDate),ACC.DocAbbr,ACC.Amount,NULL,T1.UserName,T3.Name,ACC.CommonNarration,T4.Status,T5.Name,ACC.VoucherNo,ACC.DocAbbr,ACC.DocPrefix,CONVERT(BIGINT,ACC.DocNumber)
 FROM ACC_DocDetails ACC with(nolock) left join ADM_Users T1 with(nolock) on ACC.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on ACC.AccDocDetailsID=TDCC.AccDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on ACC.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (ACC.CostCenterID=41077) AND T4.Status=''Unapproved'' AND ACC.LinkedAccDocDetailsID is null AND WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT ACC.VoucherNo,ACC.VersionNo,CONVERT(DATETIME,ACC.DocDate),ACC.DocAbbr,ACC.Amount,NULL,T1.UserName,T3.Name,ACC.CommonNarration,T4.Status,T5.Name,ACC.VoucherNo,ACC.DocAbbr,ACC.DocPrefix,CONVERT(BIGINT,ACC.DocNumber)
 FROM ACC_DocDetails ACC with(nolock) left join ADM_Users T1 with(nolock) on ACC.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on ACC.AccDocDetailsID=TDCC.AccDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on ACC.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (ACC.CostCenterID=40014) AND T4.Status=''Unapproved'' AND ACC.LinkedAccDocDetailsID is null AND WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT ACC.VoucherNo,ACC.VersionNo,CONVERT(DATETIME,ACC.DocDate),ACC.DocAbbr,ACC.Amount,NULL,T1.UserName,T3.Name,ACC.CommonNarration,T4.Status,T5.Name,ACC.VoucherNo,ACC.DocAbbr,ACC.DocPrefix,CONVERT(BIGINT,ACC.DocNumber)
 FROM ACC_DocDetails ACC with(nolock) left join ADM_Users T1 with(nolock) on ACC.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on ACC.AccDocDetailsID=TDCC.AccDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on ACC.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (ACC.CostCenterID=41065) AND T4.Status=''Unapproved'' AND ACC.LinkedAccDocDetailsID is null AND WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT ACC.VoucherNo,ACC.VersionNo,CONVERT(DATETIME,ACC.DocDate),ACC.DocAbbr,ACC.Amount,NULL,T1.UserName,T3.Name,ACC.CommonNarration,T4.Status,T5.Name,ACC.VoucherNo,ACC.DocAbbr,ACC.DocPrefix,CONVERT(BIGINT,ACC.DocNumber)
 FROM ACC_DocDetails ACC with(nolock) left join ADM_Users T1 with(nolock) on ACC.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on ACC.AccDocDetailsID=TDCC.AccDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on ACC.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (ACC.CostCenterID=40017) AND T4.Status=''Unapproved'' AND ACC.LinkedAccDocDetailsID is null AND WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT INV.VoucherNo,INV.VersionNo,CONVERT(DATETIME,INV.DocDate),INV.DocAbbr,NULL,CASE WHEN (SELECT DocumentType FROM ADM_DocumentTypes WITH(NOLOCK) WHERE CostCenterID=INV.CostCenterID)=38 AND VoucherType=1 THEN -INV.Gross ELSE INV.Gross END,T1.UserName,T3.Name,INV.CommonNarration,T4.Status,T5.Name,INV.VoucherNo,INV.DocAbbr,INV.DocPrefix,CONVERT(BIGINT,INV.DocNumber)
 FROM INV_DocDetails INV with(nolock) left join ADM_Users T1 with(nolock) on INV.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on INV.InvDocDetailsID=TDCC.InvDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on INV.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (INV.CostCenterID=41018) AND T4.Status=''Unapproved'' AND WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef and INV.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT INV.VoucherNo,INV.VersionNo,CONVERT(DATETIME,INV.DocDate),INV.DocAbbr,NULL,CASE WHEN (SELECT DocumentType FROM ADM_DocumentTypes WITH(NOLOCK) WHERE CostCenterID=INV.CostCenterID)=38 AND VoucherType=1 THEN -INV.Gross ELSE INV.Gross END,T1.UserName,T3.Name,INV.CommonNarration,T4.Status,T5.Name,INV.VoucherNo,INV.DocAbbr,INV.DocPrefix,CONVERT(BIGINT,INV.DocNumber)
 FROM INV_DocDetails INV with(nolock) left join ADM_Users T1 with(nolock) on INV.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on INV.InvDocDetailsID=TDCC.InvDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on INV.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (INV.CostCenterID=40011) AND T4.Status=''Unapproved'' AND WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef and INV.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT INV.VoucherNo,INV.VersionNo,CONVERT(DATETIME,INV.DocDate),INV.DocAbbr,NULL,CASE WHEN (SELECT DocumentType FROM ADM_DocumentTypes WITH(NOLOCK) WHERE CostCenterID=INV.CostCenterID)=38 AND VoucherType=1 THEN -INV.Gross ELSE INV.Gross END,T1.UserName,T3.Name,INV.CommonNarration,T4.Status,T5.Name,INV.VoucherNo,INV.DocAbbr,INV.DocPrefix,CONVERT(BIGINT,INV.DocNumber)
 FROM INV_DocDetails INV with(nolock) left join ADM_Users T1 with(nolock) on INV.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on INV.InvDocDetailsID=TDCC.InvDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on INV.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (INV.CostCenterID=41072) AND T4.Status=''Unapproved'' AND WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef and INV.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT INV.VoucherNo,INV.VersionNo,CONVERT(DATETIME,INV.DocDate),INV.DocAbbr,NULL,CASE WHEN (SELECT DocumentType FROM ADM_DocumentTypes WITH(NOLOCK) WHERE CostCenterID=INV.CostCenterID)=38 AND VoucherType=1 THEN -INV.Gross ELSE INV.Gross END,T1.UserName,T3.Name,INV.CommonNarration,T4.Status,T5.Name,INV.VoucherNo,INV.DocAbbr,INV.DocPrefix,CONVERT(BIGINT,INV.DocNumber)
 FROM INV_DocDetails INV with(nolock) left join ADM_Users T1 with(nolock) on INV.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on INV.InvDocDetailsID=TDCC.InvDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on INV.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (INV.CostCenterID=41057) AND T4.Status=''Unapproved'' AND WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef and INV.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT INV.VoucherNo,INV.VersionNo,CONVERT(DATETIME,INV.DocDate),INV.DocAbbr,NULL,CASE WHEN (SELECT DocumentType FROM ADM_DocumentTypes WITH(NOLOCK) WHERE CostCenterID=INV.CostCenterID)=38 AND VoucherType=1 THEN -INV.Gross ELSE INV.Gross END,T1.UserName,T3.Name,INV.CommonNarration,T4.Status,T5.Name,INV.VoucherNo,INV.DocAbbr,INV.DocPrefix,CONVERT(BIGINT,INV.DocNumber)
 FROM INV_DocDetails INV with(nolock) left join ADM_Users T1 with(nolock) on INV.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on INV.InvDocDetailsID=TDCC.InvDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on INV.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (INV.CostCenterID=41060) AND T4.Status=''Unapproved'' AND WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef and INV.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT INV.VoucherNo,INV.VersionNo,CONVERT(DATETIME,INV.DocDate),INV.DocAbbr,NULL,CASE WHEN (SELECT DocumentType FROM ADM_DocumentTypes WITH(NOLOCK) WHERE CostCenterID=INV.CostCenterID)=38 AND VoucherType=1 THEN -INV.Gross ELSE INV.Gross END,T1.UserName,T3.Name,INV.CommonNarration,T4.Status,T5.Name,INV.VoucherNo,INV.DocAbbr,INV.DocPrefix,CONVERT(BIGINT,INV.DocNumber)
 FROM INV_DocDetails INV with(nolock) left join ADM_Users T1 with(nolock) on INV.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on INV.InvDocDetailsID=TDCC.InvDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on INV.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (INV.CostCenterID=40001) AND T4.Status=''Unapproved'' AND WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef and INV.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT INV.VoucherNo,INV.VersionNo,CONVERT(DATETIME,INV.DocDate),INV.DocAbbr,NULL,CASE WHEN (SELECT DocumentType FROM ADM_DocumentTypes WITH(NOLOCK) WHERE CostCenterID=INV.CostCenterID)=38 AND VoucherType=1 THEN -INV.Gross ELSE INV.Gross END,T1.UserName,T3.Name,INV.CommonNarration,T4.Status,T5.Name,INV.VoucherNo,INV.DocAbbr,INV.DocPrefix,CONVERT(BIGINT,INV.DocNumber)
 FROM INV_DocDetails INV with(nolock) left join ADM_Users T1 with(nolock) on INV.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on INV.InvDocDetailsID=TDCC.InvDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on INV.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (INV.CostCenterID=41054) AND T4.Status=''Unapproved'' AND WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef and INV.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT ACC.VoucherNo,ACC.VersionNo,CONVERT(DATETIME,ACC.DocDate),ACC.DocAbbr,ACC.Amount,NULL,T1.UserName,T3.Name,ACC.CommonNarration,T4.Status,T5.Name,ACC.VoucherNo,ACC.DocAbbr,ACC.DocPrefix,CONVERT(BIGINT,ACC.DocNumber)
 FROM ACC_DocDetails ACC with(nolock) left join ADM_Users T1 with(nolock) on ACC.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on ACC.AccDocDetailsID=TDCC.AccDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on ACC.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (ACC.CostCenterID=41033) AND T4.Status=''Unapproved'' AND ACC.LinkedAccDocDetailsID is null AND WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT ACC.VoucherNo,ACC.VersionNo,CONVERT(DATETIME,ACC.DocDate),ACC.DocAbbr,ACC.Amount,NULL,T1.UserName,T3.Name,ACC.CommonNarration,T4.Status,T5.Name,ACC.VoucherNo,ACC.DocAbbr,ACC.DocPrefix,CONVERT(BIGINT,ACC.DocNumber)
 FROM ACC_DocDetails ACC with(nolock) left join ADM_Users T1 with(nolock) on ACC.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on ACC.AccDocDetailsID=TDCC.AccDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on ACC.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (ACC.CostCenterID=40019) AND T4.Status=''Unapproved'' AND ACC.LinkedAccDocDetailsID is null AND WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT ACC.VoucherNo,ACC.VersionNo,CONVERT(DATETIME,ACC.DocDate),ACC.DocAbbr,ACC.Amount,NULL,T1.UserName,T3.Name,ACC.CommonNarration,T4.Status,T5.Name,ACC.VoucherNo,ACC.DocAbbr,ACC.DocPrefix,CONVERT(BIGINT,ACC.DocNumber)
 FROM ACC_DocDetails ACC with(nolock) left join ADM_Users T1 with(nolock) on ACC.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on ACC.AccDocDetailsID=TDCC.AccDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on ACC.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (ACC.CostCenterID=41013) AND T4.Status=''Unapproved'' AND ACC.LinkedAccDocDetailsID is null AND WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef and ACC.CreatedDate+WF.CtWef<=convert(float,getdate()))) ORDER BY [Cdacb59b3f5e54f18b65dfc4cf3186555Abr] ,[Cdacb59b3f5e54f18b65dfc4cf3186555prf] ,[Cdacb59b3f5e54f18b65dfc4cf3186555dno]  
 DROP TABLE #TblUsrWF'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:05:52.537 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxMzM0NywiZXhwIjoxNzUyODQyMTQ3LCJpYXQiOjE3NTI4MTMzNDd9.CxLPuy9Uf2VKhk9DA4TVY3YvnJw-yW90HtIUv4vdqrs'''
 ,1
 ,1
[System: 192.168.1.77] DEBUG | 07-18-2025 10:05:55.349 | General Service|:: CompanyIndex:0 SpName: spADM_GetClientUserDetails2C 
 'admin'
 ,1
 ,0
[System: 192.168.1.77] DEBUG | 07-18-2025 10:05:55.427 | General Service|:: CompanyIndex:0 SpName: spADM_UserLoginCheck 
 2
 ,'admin'
 ,0
 ,'192.168.1.77'
 ,'192.168.1.77'
 ,''
 ,'Web'
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:05:57.852 | General Service|:: CompanyIndex:13 SpName: spRPT_GetReportData 
 13
 ,1
 ,'boo'
 ,'1'
[System: 192.168.1.54] DEBUG | 07-18-2025 10:05:57.867 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxMzM0NywiZXhwIjoxNzUyODQyMTQ3LCJpYXQiOjE3NTI4MTMzNDd9.CxLPuy9Uf2VKhk9DA4TVY3YvnJw-yW90HtIUv4vdqrs'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:05:58.836 | General Service|:: CompanyIndex:13 SpName: spRPT_GetReportData 
 13
 ,1
 ,'booking'
 ,'1'
[System: 192.168.1.54] DEBUG | 07-18-2025 10:05:58.836 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxMzM0NywiZXhwIjoxNzUyODQyMTQ3LCJpYXQiOjE3NTI4MTMzNDd9.CxLPuy9Uf2VKhk9DA4TVY3YvnJw-yW90HtIUv4vdqrs'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:05:59.898 | General Service|:: CompanyIndex:13 SpName: spDOC_GetDocumentDefinition 
 41025
 ,NULL
 ,NULL
 ,''
 ,1
 ,'admin'
 ,1
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:05:59.898 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxMzM0NywiZXhwIjoxNzUyODQyMTQ3LCJpYXQiOjE3NTI4MTMzNDd9.CxLPuy9Uf2VKhk9DA4TVY3YvnJw-yW90HtIUv4vdqrs'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:05:59.945 | General Service|:: CompanyIndex:13 SpName: spDoc_GetCurrencyExchangeRate 
 1
 ,'18-Jul-2025'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:05:59.945 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxMzM0NywiZXhwIjoxNzUyODQyMTQ3LCJpYXQiOjE3NTI4MTMzNDd9.CxLPuy9Uf2VKhk9DA4TVY3YvnJw-yW90HtIUv4vdqrs'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:05:59.977 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'SELECT Code FROM COM_Location WITH(NOLOCK) WHERE NodeID=27'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:05:59.977 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxMzM0NywiZXhwIjoxNzUyODQyMTQ3LCJpYXQiOjE3NTI4MTMzNDd9.CxLPuy9Uf2VKhk9DA4TVY3YvnJw-yW90HtIUv4vdqrs'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:05:59.992 | General Service|:: CompanyIndex:13 SpName: spDOC_GetDocumentPrefix 
 41025
 ,27
 ,''
 ,''
 ,'1'
 ,'1'
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:05:59.992 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxMzM0NywiZXhwIjoxNzUyODQyMTQ3LCJpYXQiOjE3NTI4MTMzNDd9.CxLPuy9Uf2VKhk9DA4TVY3YvnJw-yW90HtIUv4vdqrs'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:06:00.023 | General Service|:: CompanyIndex:13 SpName: spDOC_GetDueDate 
 55687
 ,27
 ,0
 ,0
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:06:00.023 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxMzM0NywiZXhwIjoxNzUyODQyMTQ3LCJpYXQiOjE3NTI4MTMzNDd9.CxLPuy9Uf2VKhk9DA4TVY3YvnJw-yW90HtIUv4vdqrs'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:06:00.039 | General Service|:: CompanyIndex:13 SpName: spDOC_GetCurrentCodeNumber 
 41025
 ,'023/25/'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:06:00.039 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxMzM0NywiZXhwIjoxNzUyODQyMTQ3LCJpYXQiOjE3NTI4MTMzNDd9.CxLPuy9Uf2VKhk9DA4TVY3YvnJw-yW90HtIUv4vdqrs'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:06:00.054 | General Service|:: CompanyIndex:13 SpName: spDOC_GetLinkReferenceData 
 566117
 ,41025
 ,55687
 ,'18/Jul/2025'
 ,55687
 ,'<XML><Row CostCenterID="50011" NODEID="1" /><Row CostCenterID="50002" NODEID="27" /><Row CostCenterID="50058" NODEID="1" /><Row CostCenterID="50059" NODEID="1" /><Row CostCenterID="50061" NODEID="11" /><Row CostCenterID="50062" NODEID="1" /></XML>'
 ,False
 ,'0'
 ,'0'
 ,'0'
 ,NULL
 ,'0'
 ,'0'
 ,'0'
 ,''
 ,'1'
 ,1
 ,'1'
[System: 192.168.1.54] DEBUG | 07-18-2025 10:06:00.054 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxMzM0NywiZXhwIjoxNzUyODQyMTQ3LCJpYXQiOjE3NTI4MTMzNDd9.CxLPuy9Uf2VKhk9DA4TVY3YvnJw-yW90HtIUv4vdqrs'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:06:00.070 | General Service|:: CompanyIndex:13 SpName: spADM_GetListViewDataByIDs 
 '<XML><Row CCID="50011"  TypeID="1"  DBColumnID="566213"  NodeID="1" /><Row CCID="2"  TypeID="10"  DBColumnID="566117"  NodeID="55687" /><Row CCID="2"  TypeID="100"  DBColumnID="566117"  NodeID="55687" /><Row CCID="2"  TypeID="10"  DBColumnID="566254"  NodeID="3" /><Row CCID="2"  TypeID="100"  DBColumnID="566254"  NodeID="3" /><Row CCID="50011"  TypeID="1"  DBColumnID="566213"  NodeID="1" /><Row CCID="50002"  TypeID="1"  DBColumnID="566204"  NodeID="27" /><Row CCID="50058"  TypeID="1"  DBColumnID="583442"  NodeID="1" /><Row CCID="50059"  TypeID="1"  DBColumnID="583494"  NodeID="1" /><Row CCID="50061"  TypeID="11"  DBColumnID="583598"  NodeID="11" /><Row CCID="50062"  TypeID="1"  DBColumnID="583650"  NodeID="1" /><Row CCID="50058"  TypeID="1"  DBColumnID="583713"  NodeID="1" /></XML>'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:06:00.070 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxMzM0NywiZXhwIjoxNzUyODQyMTQ3LCJpYXQiOjE3NTI4MTMzNDd9.CxLPuy9Uf2VKhk9DA4TVY3YvnJw-yW90HtIUv4vdqrs'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:06:00.086 | General Service|:: CompanyIndex:13 SpName: spADM_GetListViewDataByIDs 
 '<XML><Row CCID="50011"  TypeID="1"  DBColumnID="566213"  NodeID="1" /><Row CCID="2"  TypeID="10"  DBColumnID="566117"  NodeID="55687" /><Row CCID="2"  TypeID="100"  DBColumnID="566117"  NodeID="55687" /><Row CCID="2"  TypeID="10"  DBColumnID="566254"  NodeID="3" /><Row CCID="2"  TypeID="100"  DBColumnID="566254"  NodeID="3" /><Row CCID="50011"  TypeID="1"  DBColumnID="566213"  NodeID="1" /><Row CCID="50002"  TypeID="1"  DBColumnID="566204"  NodeID="27" /><Row CCID="50058"  TypeID="1"  DBColumnID="583442"  NodeID="1" /><Row CCID="50059"  TypeID="1"  DBColumnID="583494"  NodeID="1" /><Row CCID="50061"  TypeID="11"  DBColumnID="583598"  NodeID="11" /><Row CCID="50062"  TypeID="1"  DBColumnID="583650"  NodeID="1" /><Row CCID="50058"  TypeID="1"  DBColumnID="583713"  NodeID="1" /></XML>'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:06:00.086 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxMzM0NywiZXhwIjoxNzUyODQyMTQ3LCJpYXQiOjE3NTI4MTMzNDd9.CxLPuy9Uf2VKhk9DA4TVY3YvnJw-yW90HtIUv4vdqrs'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:06:00.101 | General Service|:: CompanyIndex:13 SpName: spDOC_GetLinkReferenceData 
 566117
 ,41025
 ,55687
 ,'18/Jul/2025'
 ,55687
 ,'<XML><Row CostCenterID="50011" NODEID="1" /><Row CostCenterID="50002" NODEID="27" /><Row CostCenterID="50058" NODEID="1" /><Row CostCenterID="50059" NODEID="1" /><Row CostCenterID="50061" NODEID="11" /><Row CostCenterID="50062" NODEID="1" /></XML>'
 ,False
 ,'0'
 ,'0'
 ,'0'
 ,NULL
 ,'0'
 ,'0'
 ,'0'
 ,''
 ,'1'
 ,1
 ,'1'
[System: 192.168.1.54] DEBUG | 07-18-2025 10:06:00.101 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxMzM0NywiZXhwIjoxNzUyODQyMTQ3LCJpYXQiOjE3NTI4MTMzNDd9.CxLPuy9Uf2VKhk9DA4TVY3YvnJw-yW90HtIUv4vdqrs'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:06:00.133 | General Service|:: CompanyIndex:13 SpName: spADM_GetListViewDataByIDs 
 '<XML><Row CCID="50011"  TypeID="1"  DBColumnID="566213"  NodeID="1" /><Row CCID="2"  TypeID="10"  DBColumnID="566117"  NodeID="55687" /><Row CCID="2"  TypeID="100"  DBColumnID="566117"  NodeID="55687" /><Row CCID="2"  TypeID="10"  DBColumnID="566254"  NodeID="3" /><Row CCID="2"  TypeID="100"  DBColumnID="566254"  NodeID="3" /><Row CCID="50011"  TypeID="1"  DBColumnID="566213"  NodeID="1" /><Row CCID="50002"  TypeID="1"  DBColumnID="566204"  NodeID="27" /><Row CCID="50058"  TypeID="1"  DBColumnID="583442"  NodeID="1" /><Row CCID="50059"  TypeID="1"  DBColumnID="583494"  NodeID="1" /><Row CCID="50061"  TypeID="11"  DBColumnID="583598"  NodeID="11" /><Row CCID="50062"  TypeID="1"  DBColumnID="583650"  NodeID="1" /><Row CCID="50058"  TypeID="1"  DBColumnID="583713"  NodeID="1" /></XML>'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:06:00.133 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxMzM0NywiZXhwIjoxNzUyODQyMTQ3LCJpYXQiOjE3NTI4MTMzNDd9.CxLPuy9Uf2VKhk9DA4TVY3YvnJw-yW90HtIUv4vdqrs'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:06:00.195 | General Service|:: CompanyIndex:13 SpName: spADM_GetCostCenterListViewData 
 500055
 ,'a.Name,a.Code,a.ccAlpha11'
 ,''
 ,''
 ,'Name'
 ,''
 ,60
 ,False
 ,''
 ,''
 ,''
 ,''
 ,''
 ,0
 ,False
 ,''
 ,''
 ,'1'
 ,'1'
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:06:00.195 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxMzM0NywiZXhwIjoxNzUyODQyMTQ3LCJpYXQiOjE3NTI4MTMzNDd9.CxLPuy9Uf2VKhk9DA4TVY3YvnJw-yW90HtIUv4vdqrs'''
 ,1
 ,1
[System: 192.168.1.77] DEBUG | 07-18-2025 10:06:01.179 | General Service|:: CompanyIndex:68 SpName: spADM_GetClientUserDetails 
 'admin'
 ,1
 ,'26.1.4'
 ,0
[System: 192.168.1.77] DEBUG | 07-18-2025 10:06:01.289 | General Service|:: CompanyIndex:0 SpName: spADM_UserLoginCheck 
 2
 ,'admin'
 ,68
 ,'192.168.1.77'
 ,'192.168.1.77'
 ,''
 ,'Web'
 ,1
[System: 192.168.1.77] DEBUG | 07-18-2025 10:06:01.304 | General Service|:: CompanyIndex:0 SpName: spADM_Login 
 1
 ,''
 ,''
 ,''
 ,''
 ,''
 ,68
[System: 192.168.1.77] DEBUG | 07-18-2025 10:06:01.398 | General Service|:: CompanyIndex:68 SpName: spADM_GetDataSet 
 'select Value from ADM_GlobalPreferences with (nolock) where name =''EnableReLogin'''
 ,1
 ,1
[System: 192.168.1.77] DEBUG | 07-18-2025 10:06:01.398 | General Service|:: CompanyIndex:68 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsNjgsMSIsIm5iZiI6MTc1MjgxMzM2MSwiZXhwIjoxNzUyODQyMTYxLCJpYXQiOjE3NTI4MTMzNjF9.0POjYInjVl1jfL5zjDw4Aa9ajUtZDWadoqkJ4tXCvM4'''
 ,1
 ,1
[System: 192.168.1.77] DEBUG | 07-18-2025 10:06:01.429 | General Service|:: CompanyIndex:0 SpName: spADM_Login 
 4
 ,''
 ,''
 ,''
 ,'declare @Cnt int,@ExpiredGUID nvarchar(50),@AllowSession int,@GUID nvarchar(50),@CurrDate float,@UserID INT,@Instances INT,@InstancesExists INT,@LCDBIndex int
set @CurrDate= convert(float,dateadd(minute,-21,getdate()))
set @AllowSession=0
set @GUID=''25f8c934-5fc4-4492-a445-c12396caea3b''
set @LCDBIndex=0
select top 1 @UserID=UserID,@Instances=InstanceCount from ADM_Users with(nolock) where UserName=''admin''
if exists(select [GUID] from ADM_Login with(nolock) where [GUID]=@GUID)
begin
	update ADM_Login 
	set LastAccessTime=convert(float,getdate()),UserID=@UserID
	where [GUID]=@GUID
    set @AllowSession=1
end
else
begin
	select @Cnt=count(*) from ADM_Login with(nolock) where LCDBIndex=@LCDBIndex and [GUID]!=''ACCESSRIGHTS'' and AP =''WEB''
    if(@Cnt<100)
		set @AllowSession=1
	else
	begin
		select top 1 @ExpiredGUID=[GUID] from ADM_Login with(nolock)
		where [GUID]!=''ACCESSRIGHTS'' and LCDBIndex=@LCDBIndex and LastAccessTime<@CurrDate  and AP =''WEB''
        order by LastAccessTime asc
		if @ExpiredGUID is not null
		begin
			delete from ADM_Login where [GUID]=@ExpiredGUID
			set @AllowSession=1
		end
	end
	if @AllowSession=1
	begin
        select @InstancesExists=COUNT(*) from ADM_Login with(nolock)
		where [GUID]!=''ACCESSRIGHTS'' and LCDBIndex=@LCDBIndex and LastAccessTime>=@CurrDate and UserID=@UserID and AP =''WEB''
		if(@Instances!=0 and @Instances<=@InstancesExists)
			set @AllowSession=2
		else
		    INSERT INTO ADM_Login([GUID],[SysName],IPAddress,[Status],LoginTime,LastAccessTime,AccessRights,UserID,DBIndex,LCDBIndex,AP)
		    VALUES(@GUID,''WEB'',''192.168.1.77'',1,convert(float,getdate()),convert(float,getdate()),null,@UserID,68,@LCDBIndex, ''WEB'')
	end
end

select @AllowSession AllowSession,@Instances Instances,@InstancesExists InstancesExists
'
 ,''
 ,0
[System: 192.168.1.77] DEBUG | 07-18-2025 10:06:01.429 | General Service|:: CompanyIndex:68 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsNjgsMSIsIm5iZiI6MTc1MjgxMzM2MSwiZXhwIjoxNzUyODQyMTYxLCJpYXQiOjE3NTI4MTMzNjF9.0POjYInjVl1jfL5zjDw4Aa9ajUtZDWadoqkJ4tXCvM4'''
 ,1
 ,1
[System: 192.168.1.77] DEBUG | 07-18-2025 10:06:01.461 | General Service|:: CompanyIndex:68 SpName: spADM_GetDataSet 
 'SELECT (SELECT COUNT(*) FROM COM_Location L WITH(NOLOCK) JOIN COM_Status S WITH(NOLOCK) ON S.StatusID=L.StatusID WHERE L.IsGroup=0 AND S.[Status]=''Active'') ML
,(SELECT COUNT(*) FROM ADM_Features WITH(NOLOCK) WHERE ((FeatureID>50000 AND FeatureID<=50050) OR FeatureID>=51000) AND IsEnabled=1) MD
,(SELECT ISNULL(COUNT(*),0) FROM ADM_RevenUReports WITH(NOLOCK) WHERE IsGroup=0 AND ReportID>10000 AND StaticReportType IN (0,-1)) MR'
 ,1
 ,1
[System: 192.168.1.77] DEBUG | 07-18-2025 10:06:01.461 | General Service|:: CompanyIndex:68 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsNjgsMSIsIm5iZiI6MTc1MjgxMzM2MSwiZXhwIjoxNzUyODQyMTYxLCJpYXQiOjE3NTI4MTMzNjF9.0POjYInjVl1jfL5zjDw4Aa9ajUtZDWadoqkJ4tXCvM4'''
 ,1
 ,1
[System: 192.168.1.77] DEBUG | 07-18-2025 10:06:02.633 | General Service|:: CompanyIndex:68 SpName: spCOM_ConfigValues 
 1
 ,'NotifTime'
 ,''
[System: 192.168.1.77] DEBUG | 07-18-2025 10:06:02.633 | General Service|:: CompanyIndex:68 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsNjgsMSIsIm5iZiI6MTc1MjgxMzM2MSwiZXhwIjoxNzUyODQyMTYxLCJpYXQiOjE3NTI4MTMzNjF9.0POjYInjVl1jfL5zjDw4Aa9ajUtZDWadoqkJ4tXCvM4'''
 ,1
 ,1
[System: 192.168.1.77] DEBUG | 07-18-2025 10:06:04.905 | General Service|:: CompanyIndex:68 SpName: spADM_GetRibbonView 
 1
 ,1
 ,1
 ,1
 ,0
 ,''
[System: 192.168.1.77] DEBUG | 07-18-2025 10:06:04.905 | General Service|:: CompanyIndex:68 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsNjgsMSIsIm5iZiI6MTc1MjgxMzM2MSwiZXhwIjoxNzUyODQyMTYxLCJpYXQiOjE3NTI4MTMzNjF9.0POjYInjVl1jfL5zjDw4Aa9ajUtZDWadoqkJ4tXCvM4'''
 ,1
 ,1
[System: 192.168.1.77] DEBUG | 07-18-2025 10:06:05.140 | General Service|:: CompanyIndex:68 SpName: spRPT_GetReport 
 2
 ,0
 ,'1'
 ,'1'
 ,1
[System: 192.168.1.77] DEBUG | 07-18-2025 10:06:05.140 | General Service|:: CompanyIndex:68 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsNjgsMSIsIm5iZiI6MTc1MjgxMzM2MSwiZXhwIjoxNzUyODQyMTYxLCJpYXQiOjE3NTI4MTMzNjF9.0POjYInjVl1jfL5zjDw4Aa9ajUtZDWadoqkJ4tXCvM4'''
 ,1
 ,1
[System: 192.168.1.77] DEBUG | 07-18-2025 10:06:05.187 | General Service|:: CompanyIndex:68 SpName: spADM_GetDashBoard 
 2
 ,0
 ,0
 ,'1'
 ,'1'
 ,1
[System: 192.168.1.77] DEBUG | 07-18-2025 10:06:05.187 | General Service|:: CompanyIndex:68 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsNjgsMSIsIm5iZiI6MTc1MjgxMzM2MSwiZXhwIjoxNzUyODQyMTYxLCJpYXQiOjE3NTI4MTMzNjF9.0POjYInjVl1jfL5zjDw4Aa9ajUtZDWadoqkJ4tXCvM4'''
 ,1
 ,1
[System: 192.168.1.77] DEBUG | 07-18-2025 10:06:05.203 | General Service|:: CompanyIndex:68 SpName: spCOM_ConfigValues 
 1
 ,'LandingDocs'
 ,'1'
[System: 192.168.1.77] DEBUG | 07-18-2025 10:06:05.203 | General Service|:: CompanyIndex:68 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsNjgsMSIsIm5iZiI6MTc1MjgxMzM2MSwiZXhwIjoxNzUyODQyMTYxLCJpYXQiOjE3NTI4MTMzNjF9.0POjYInjVl1jfL5zjDw4Aa9ajUtZDWadoqkJ4tXCvM4'''
 ,1
 ,1
[System: 192.168.1.77] DEBUG | 07-18-2025 10:06:05.359 | General Service|:: CompanyIndex:68 SpName: spADM_GetAllListViewsDef 
 1
 ,1
[System: 192.168.1.77] DEBUG | 07-18-2025 10:06:05.359 | General Service|:: CompanyIndex:68 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsNjgsMSIsIm5iZiI6MTc1MjgxMzM2MSwiZXhwIjoxNzUyODQyMTYxLCJpYXQiOjE3NTI4MTMzNjF9.0POjYInjVl1jfL5zjDw4Aa9ajUtZDWadoqkJ4tXCvM4'''
 ,1
 ,1
[System: 192.168.1.77] DEBUG | 07-18-2025 10:06:05.359 | General Service|:: CompanyIndex:68 SpName: spCOM_GetFavorites 
 'GETLIST0'
 ,0
 ,'1'
 ,'1'
 ,1
[System: 192.168.1.77] DEBUG | 07-18-2025 10:06:05.359 | General Service|:: CompanyIndex:68 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsNjgsMSIsIm5iZiI6MTc1MjgxMzM2MSwiZXhwIjoxNzUyODQyMTYxLCJpYXQiOjE3NTI4MTMzNjF9.0POjYInjVl1jfL5zjDw4Aa9ajUtZDWadoqkJ4tXCvM4'''
 ,1
 ,1
[System: 192.168.1.77] DEBUG | 07-18-2025 10:06:05.453 | General Service|:: CompanyIndex:68 SpName: spADM_GetAllListViewsDef 
 1
 ,1
[System: 192.168.1.77] DEBUG | 07-18-2025 10:06:05.468 | General Service|:: CompanyIndex:68 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsNjgsMSIsIm5iZiI6MTc1MjgxMzM2MSwiZXhwIjoxNzUyODQyMTYxLCJpYXQiOjE3NTI4MTMzNjF9.0POjYInjVl1jfL5zjDw4Aa9ajUtZDWadoqkJ4tXCvM4'''
 ,1
 ,1
[System: 192.168.1.77] DEBUG | 07-18-2025 10:06:05.624 | General Service|:: CompanyIndex:68 SpName: spADM_GetDataSet 
 'Select CostCenterID,CostCenterColID,CostCenterName,SysTableName,UserColumnName,SysColumnName,ISNULL(UserDefaultValue,'''') UserDefaultValue
From AdM_CostCenterDef WITH(NOLOCK)
Where SysColumnName IN(''CreditAccount'',''DebitAccount'',''ProductID'') 
AND CostCenterID>40000 AND CostCenterID<50000 

SELECT * FROM ADM_Features WITH(NOLOCK) '
 ,1
 ,1
[System: 192.168.1.77] DEBUG | 07-18-2025 10:06:05.624 | General Service|:: CompanyIndex:68 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsNjgsMSIsIm5iZiI6MTc1MjgxMzM2MSwiZXhwIjoxNzUyODQyMTYxLCJpYXQiOjE3NTI4MTMzNjF9.0POjYInjVl1jfL5zjDw4Aa9ajUtZDWadoqkJ4tXCvM4'''
 ,1
 ,1
[System: 192.168.1.77] DEBUG | 07-18-2025 10:06:05.671 | General Service|:: CompanyIndex:68 SpName: spADM_GetDataSet 
 '  SELECT * FROM PAY_PayrollPreferences WITH(NOLOCK) '
 ,1
 ,1
[System: 192.168.1.77] DEBUG | 07-18-2025 10:06:05.687 | General Service|:: CompanyIndex:68 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsNjgsMSIsIm5iZiI6MTc1MjgxMzM2MSwiZXhwIjoxNzUyODQyMTYxLCJpYXQiOjE3NTI4MTMzNjF9.0POjYInjVl1jfL5zjDw4Aa9ajUtZDWadoqkJ4tXCvM4'''
 ,1
 ,1
[System: 192.168.1.77] DEBUG | 07-18-2025 10:06:05.999 | General Service|:: CompanyIndex:68 SpName: spADM_GetDataSet 
 '  --0
                                Select * FROM COM_CC50051 WITH(NOLOCK) WHERE IsGroup=0 AND LoginUserID=''admin''
                                --1                                
                                Select * FROM COM_CC50051 WITH(NOLOCK) WHERE RptManager IN (Select NodeID FROM COM_CC50051 WITH(NOLOCK) WHERE IsGroup=0 AND LoginUserID=''admin'')
                                UNION ALL
                                Select * FROM COM_CC50051 WITH(NOLOCK) WHERE RptManager IN 
                                (
	                                Select NodeID FROM COM_CC50051 WITH(NOLOCK) 
	                                WHERE IsGroup=0 AND LoginUserID IN
	                                (
	                                SELECT fe.LoginUserID
	                                FROM INV_DocDetails a WITH(NOLOCK) 
	                                JOIN COM_DocCCData b WITH(NOLOCK) ON b.InvDocDetailsID=a.InvDocDetailsID
	                                JOIN COM_DocNumData c WITH(NOLOCK) ON c.InvDocDetailsID=a.InvDocDetailsID
	                                JOIN COM_DocTextData d WITH(NOLOCK) ON d.InvDocDetailsID=a.InvDocDetailsID
	                                JOIN COM_CC50051 fe WITH(NOLOCK) on fe.NodeID=b.dcCCNID51
	                                JOIN COM_CC50051 te WITH(NOLOCK) on CONVERT(NVARCHAR,te.NodeID)=d.dcAlpha1
	                                WHERE a.CostCenterID=40098 and a.StatusID=369 AND d.dcAlpha3=''Temporary''
	                                AND te.LoginUserID=''admin'' 
	                                AND ISDATE(d.dcAlpha4)=1 AND ISDATE(d.dcAlpha5)=1 
	                                AND CONVERT(DATETIME,''18 Jul 2025'') BETWEEN CONVERT(DATETIME,d.dcAlpha4) AND CONVERT(DATETIME,d.dcAlpha5)
	                                )
                                )
                                --2
                                Select * FROM ADM_USERS WITH(NOLOCK) WHERE USERID=1
                                --3
                                Select * FROM COM_CostCenterCostCenterMap WITH(NOLOCK) WHERE ParentCostCenterID=7 AND ParentNodeID=1
                                --4                                
                                Select * FROM COM_CostCenterCostCenterMap WITH(NOLOCK) WHERE ParentCostCenterID=7 AND ParentNodeID=1
                                AND CostCenterID IN(Select ColumnCostCenterID From ADM_CostCenterDef Where CostCenterID=50051 AND IsColumnInUse=1 AND SysColumnName LIKE ''CCNID%'')
                                --5
                                Select * from COM_Files WITH(NOLOCK) WHERE FeatureID=50051 AND FeaturePK IN (Select NodeID FROM COM_CC50051 WITH(NOLOCK) WHERE IsGroup=0 AND LoginUserID=''admin'')                         
'
 ,1
 ,1
[System: 192.168.1.77] DEBUG | 07-18-2025 10:06:05.999 | General Service|:: CompanyIndex:68 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsNjgsMSIsIm5iZiI6MTc1MjgxMzM2MSwiZXhwIjoxNzUyODQyMTYxLCJpYXQiOjE3NTI4MTMzNjF9.0POjYInjVl1jfL5zjDw4Aa9ajUtZDWadoqkJ4tXCvM4'''
 ,1
 ,1
[System: 192.168.1.77] DEBUG | 07-18-2025 10:06:06.359 | General Service|:: CompanyIndex:68 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.77] DEBUG | 07-18-2025 10:06:06.359 | General Service|:: CompanyIndex:68 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsNjgsMSIsIm5iZiI6MTc1MjgxMzM2MSwiZXhwIjoxNzUyODQyMTYxLCJpYXQiOjE3NTI4MTMzNjF9.0POjYInjVl1jfL5zjDw4Aa9ajUtZDWadoqkJ4tXCvM4'''
 ,1
 ,1
[System: 192.168.1.77] DEBUG | 07-18-2025 10:06:06.359 | General Service|:: CompanyIndex:68 SpName: spCOM_GetFavorites 
 'GETLIST0'
 ,0
 ,'1'
 ,'1'
 ,1
[System: 192.168.1.77] DEBUG | 07-18-2025 10:06:06.359 | General Service|:: CompanyIndex:68 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsNjgsMSIsIm5iZiI6MTc1MjgxMzM2MSwiZXhwIjoxNzUyODQyMTYxLCJpYXQiOjE3NTI4MTMzNjF9.0POjYInjVl1jfL5zjDw4Aa9ajUtZDWadoqkJ4tXCvM4'''
 ,1
 ,1
[System: 192.168.1.77] DEBUG | 07-18-2025 10:06:06.390 | General Service|:: CompanyIndex:68 SpName: spCOM_GetFavorites 
 'VIEW'
 ,1
 ,'1'
 ,'1'
 ,1
[System: 192.168.1.77] DEBUG | 07-18-2025 10:06:06.390 | General Service|:: CompanyIndex:68 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsNjgsMSIsIm5iZiI6MTc1MjgxMzM2MSwiZXhwIjoxNzUyODQyMTYxLCJpYXQiOjE3NTI4MTMzNjF9.0POjYInjVl1jfL5zjDw4Aa9ajUtZDWadoqkJ4tXCvM4'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:06:10.833 | General Service|:: CompanyIndex:13 SpName: spDOC_GetInvDocument 
 41025
 ,'023/25/'
 ,'116'
 ,'1'
 ,0
 ,' and (a.CostCenterID=c.DocumentID or c.DocumentID=1) and (b.dcCCNID2=c.CCNID2 or c.CCNID2=0)'
 ,1
 ,1
 ,'admin'
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:06:10.833 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxMzM0NywiZXhwIjoxNzUyODQyMTQ3LCJpYXQiOjE3NTI4MTMzNDd9.CxLPuy9Uf2VKhk9DA4TVY3YvnJw-yW90HtIUv4vdqrs'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:06:10.880 | General Service|:: CompanyIndex:13 SpName: spADM_GetListViewDataByIDs 
 '<XML><Row CCID="50011"  TypeID="1"  DBColumnID="566213"  NodeID="1" /><Row CCID="2"  TypeID="10"  DBColumnID="566117"  NodeID="55687" /><Row CCID="2"  TypeID="100"  DBColumnID="566117"  NodeID="55687" /><Row CCID="2"  TypeID="10"  DBColumnID="566254"  NodeID="3" /><Row CCID="2"  TypeID="100"  DBColumnID="566254"  NodeID="3" /><Row CCID="50014"  TypeID="4"  DBColumnID="566216"  NodeID="10367" /><Row CCID="50009"  TypeID="3"  DBColumnID="566211"  NodeID="10570" /><Row CCID="50010"  TypeID="3"  DBColumnID="566212"  NodeID="51889" /><Row CCID="50018"  TypeID="1"  DBColumnID="566220"  NodeID="135" /><Row CCID="50070"  TypeID="1"  DBColumnID="598043"  NodeID="4" /><Row CCID="50011"  TypeID="1"  DBColumnID="566213"  NodeID="1" /><Row CCID="50014"  TypeID="4"  DBColumnID="566216"  NodeID="10367" /><Row CCID="50009"  TypeID="3"  DBColumnID="566211"  NodeID="10570" /><Row CCID="50010"  TypeID="3"  DBColumnID="566212"  NodeID="51889" /><Row CCID="50018"  TypeID="1"  DBColumnID="566220"  NodeID="135" /><Row CCID="50070"  TypeID="1"  DBColumnID="598043"  NodeID="4" /><Row CCID="50002"  TypeID="1"  DBColumnID="566204"  NodeID="27" /><Row CCID="50058"  TypeID="1"  DBColumnID="583442"  NodeID="1" /><Row CCID="50059"  TypeID="1"  DBColumnID="583494"  NodeID="1" /><Row CCID="50061"  TypeID="11"  DBColumnID="583598"  NodeID="11" /><Row CCID="50062"  TypeID="1"  DBColumnID="583650"  NodeID="1" /><Row CCID="50058"  TypeID="1"  DBColumnID="583713"  NodeID="1" /><Row CCID="44"  TypeID="122"  DBColumnID="566171"  NodeID="641" /><Row CCID="50060"  TypeID="1"  DBColumnID="583546"  NodeID="1" /></XML>'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:06:10.896 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxMzM0NywiZXhwIjoxNzUyODQyMTQ3LCJpYXQiOjE3NTI4MTMzNDd9.CxLPuy9Uf2VKhk9DA4TVY3YvnJw-yW90HtIUv4vdqrs'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:06:25.378 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select ParentNodeID NodeID from COM_CostCenterCostCenterMap where CostCenterID in (8,300) and ParentCostCenterId=50033 and NodeID=41025'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:06:25.394 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxMzM0NywiZXhwIjoxNzUyODQyMTQ3LCJpYXQiOjE3NTI4MTMzNDd9.CxLPuy9Uf2VKhk9DA4TVY3YvnJw-yW90HtIUv4vdqrs'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:06:26.550 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select ParentNodeID NodeID from COM_CostCenterCostCenterMap where CostCenterID in (8,300) and ParentCostCenterId=50033 and NodeID=41025'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:06:26.550 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxMzM0NywiZXhwIjoxNzUyODQyMTQ3LCJpYXQiOjE3NTI4MTMzNDd9.CxLPuy9Uf2VKhk9DA4TVY3YvnJw-yW90HtIUv4vdqrs'''
 ,1
 ,1
[System: 192.168.1.77] DEBUG | 07-18-2025 10:06:47.900 | General Service|:: CompanyIndex:0 SpName: spADM_GetClientUserDetails2C 
 'admin'
 ,1
 ,0
[System: 192.168.1.77] DEBUG | 07-18-2025 10:06:47.978 | General Service|:: CompanyIndex:0 SpName: spADM_UserLoginCheck 
 2
 ,'admin'
 ,0
 ,'192.168.1.77'
 ,'192.168.1.77'
 ,''
 ,'Web'
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:06:50.535 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select ParentNodeID NodeID from COM_CostCenterCostCenterMap where CostCenterID in (8,300) and ParentCostCenterId=50033 and NodeID=41025'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:06:50.535 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxMzM0NywiZXhwIjoxNzUyODQyMTQ3LCJpYXQiOjE3NTI4MTMzNDd9.CxLPuy9Uf2VKhk9DA4TVY3YvnJw-yW90HtIUv4vdqrs'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:06:53.700 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select ParentNodeID NodeID from COM_CostCenterCostCenterMap where CostCenterID in (8,300) and ParentCostCenterId=50033 and NodeID=41025'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:06:53.700 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxMzM0NywiZXhwIjoxNzUyODQyMTQ3LCJpYXQiOjE3NTI4MTMzNDd9.CxLPuy9Uf2VKhk9DA4TVY3YvnJw-yW90HtIUv4vdqrs'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:06:54.361 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select ParentNodeID NodeID from COM_CostCenterCostCenterMap where CostCenterID in (8,300) and ParentCostCenterId=50033 and NodeID=41025'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:06:54.377 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxMzM0NywiZXhwIjoxNzUyODQyMTQ3LCJpYXQiOjE3NTI4MTMzNDd9.CxLPuy9Uf2VKhk9DA4TVY3YvnJw-yW90HtIUv4vdqrs'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:06:54.986 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select ParentNodeID NodeID from COM_CostCenterCostCenterMap where CostCenterID in (8,300) and ParentCostCenterId=50033 and NodeID=41025'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:06:54.986 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxMzM0NywiZXhwIjoxNzUyODQyMTQ3LCJpYXQiOjE3NTI4MTMzNDd9.CxLPuy9Uf2VKhk9DA4TVY3YvnJw-yW90HtIUv4vdqrs'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:06:55.564 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select ParentNodeID NodeID from COM_CostCenterCostCenterMap where CostCenterID in (8,300) and ParentCostCenterId=50033 and NodeID=41025'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:06:55.564 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxMzM0NywiZXhwIjoxNzUyODQyMTQ3LCJpYXQiOjE3NTI4MTMzNDd9.CxLPuy9Uf2VKhk9DA4TVY3YvnJw-yW90HtIUv4vdqrs'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:06:56.111 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select ParentNodeID NodeID from COM_CostCenterCostCenterMap where CostCenterID in (8,300) and ParentCostCenterId=50033 and NodeID=41025'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:06:56.126 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxMzM0NywiZXhwIjoxNzUyODQyMTQ3LCJpYXQiOjE3NTI4MTMzNDd9.CxLPuy9Uf2VKhk9DA4TVY3YvnJw-yW90HtIUv4vdqrs'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:06:56.798 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select ParentNodeID NodeID from COM_CostCenterCostCenterMap where CostCenterID in (8,300) and ParentCostCenterId=50033 and NodeID=41025'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:06:56.814 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxMzM0NywiZXhwIjoxNzUyODQyMTQ3LCJpYXQiOjE3NTI4MTMzNDd9.CxLPuy9Uf2VKhk9DA4TVY3YvnJw-yW90HtIUv4vdqrs'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:06:57.486 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select ParentNodeID NodeID from COM_CostCenterCostCenterMap where CostCenterID in (8,300) and ParentCostCenterId=50033 and NodeID=41025'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:06:57.501 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxMzM0NywiZXhwIjoxNzUyODQyMTQ3LCJpYXQiOjE3NTI4MTMzNDd9.CxLPuy9Uf2VKhk9DA4TVY3YvnJw-yW90HtIUv4vdqrs'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:06:58.079 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select ParentNodeID NodeID from COM_CostCenterCostCenterMap where CostCenterID in (8,300) and ParentCostCenterId=50033 and NodeID=41025'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:06:58.079 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxMzM0NywiZXhwIjoxNzUyODQyMTQ3LCJpYXQiOjE3NTI4MTMzNDd9.CxLPuy9Uf2VKhk9DA4TVY3YvnJw-yW90HtIUv4vdqrs'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:06:59.126 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select ParentNodeID NodeID from COM_CostCenterCostCenterMap where CostCenterID in (8,300) and ParentCostCenterId=50033 and NodeID=41025'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:06:59.142 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxMzM0NywiZXhwIjoxNzUyODQyMTQ3LCJpYXQiOjE3NTI4MTMzNDd9.CxLPuy9Uf2VKhk9DA4TVY3YvnJw-yW90HtIUv4vdqrs'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:06:59.798 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select ParentNodeID NodeID from COM_CostCenterCostCenterMap where CostCenterID in (8,300) and ParentCostCenterId=50033 and NodeID=41025'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:06:59.798 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxMzM0NywiZXhwIjoxNzUyODQyMTQ3LCJpYXQiOjE3NTI4MTMzNDd9.CxLPuy9Uf2VKhk9DA4TVY3YvnJw-yW90HtIUv4vdqrs'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:07:03.795 | General Service|:: CompanyIndex:13 SpName: spADM_GetCostCenterListViewData 
 362
 ,'a.Name,a.Code'
 ,''
 ,''
 ,'Name'
 ,''
 ,60
 ,False
 ,''
 ,''
 ,'(CCNID9=10570)'
 ,''
 ,''
 ,0
 ,False
 ,''
 ,''
 ,'1'
 ,'1'
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:07:03.795 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxMzM0NywiZXhwIjoxNzUyODQyMTQ3LCJpYXQiOjE3NTI4MTMzNDd9.CxLPuy9Uf2VKhk9DA4TVY3YvnJw-yW90HtIUv4vdqrs'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:07:04.170 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:07:04.170 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxMzM0NywiZXhwIjoxNzUyODQyMTQ3LCJpYXQiOjE3NTI4MTMzNDd9.CxLPuy9Uf2VKhk9DA4TVY3YvnJw-yW90HtIUv4vdqrs'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:07:16.049 | General Service|:: CompanyIndex:13 SpName: spDOC_GetInvDocument 
 41025
 ,'023/25/'
 ,'115'
 ,'1'
 ,0
 ,' and (a.CostCenterID=c.DocumentID or c.DocumentID=1) and (b.dcCCNID2=c.CCNID2 or c.CCNID2=0)'
 ,1
 ,1
 ,'admin'
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:07:16.049 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxMzM0NywiZXhwIjoxNzUyODQyMTQ3LCJpYXQiOjE3NTI4MTMzNDd9.CxLPuy9Uf2VKhk9DA4TVY3YvnJw-yW90HtIUv4vdqrs'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:07:16.081 | General Service|:: CompanyIndex:13 SpName: spADM_GetListViewDataByIDs 
 '<XML><Row CCID="50011"  TypeID="1"  DBColumnID="566213"  NodeID="1" /><Row CCID="2"  TypeID="10"  DBColumnID="566117"  NodeID="55687" /><Row CCID="2"  TypeID="100"  DBColumnID="566117"  NodeID="55687" /><Row CCID="2"  TypeID="10"  DBColumnID="566254"  NodeID="3" /><Row CCID="2"  TypeID="100"  DBColumnID="566254"  NodeID="3" /><Row CCID="50014"  TypeID="4"  DBColumnID="566216"  NodeID="10366" /><Row CCID="50009"  TypeID="3"  DBColumnID="566211"  NodeID="10570" /><Row CCID="50010"  TypeID="3"  DBColumnID="566212"  NodeID="51868" /><Row CCID="50018"  TypeID="1"  DBColumnID="566220"  NodeID="126" /><Row CCID="50070"  TypeID="1"  DBColumnID="598043"  NodeID="4" /><Row CCID="50011"  TypeID="1"  DBColumnID="566213"  NodeID="1" /><Row CCID="50014"  TypeID="4"  DBColumnID="566216"  NodeID="10366" /><Row CCID="50009"  TypeID="3"  DBColumnID="566211"  NodeID="10570" /><Row CCID="50010"  TypeID="3"  DBColumnID="566212"  NodeID="51868" /><Row CCID="50018"  TypeID="1"  DBColumnID="566220"  NodeID="126" /><Row CCID="50070"  TypeID="1"  DBColumnID="598043"  NodeID="4" /><Row CCID="50002"  TypeID="1"  DBColumnID="566204"  NodeID="27" /><Row CCID="50058"  TypeID="1"  DBColumnID="583442"  NodeID="1" /><Row CCID="50059"  TypeID="1"  DBColumnID="583494"  NodeID="1" /><Row CCID="50061"  TypeID="11"  DBColumnID="583598"  NodeID="11" /><Row CCID="50062"  TypeID="1"  DBColumnID="583650"  NodeID="1" /><Row CCID="50058"  TypeID="1"  DBColumnID="583713"  NodeID="1" /><Row CCID="50060"  TypeID="1"  DBColumnID="583546"  NodeID="1" /></XML>'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:07:16.096 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxMzM0NywiZXhwIjoxNzUyODQyMTQ3LCJpYXQiOjE3NTI4MTMzNDd9.CxLPuy9Uf2VKhk9DA4TVY3YvnJw-yW90HtIUv4vdqrs'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:07:18.721 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select ParentNodeID NodeID from COM_CostCenterCostCenterMap where CostCenterID in (8,300) and ParentCostCenterId=50033 and NodeID=41025'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:07:18.736 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxMzM0NywiZXhwIjoxNzUyODQyMTQ3LCJpYXQiOjE3NTI4MTMzNDd9.CxLPuy9Uf2VKhk9DA4TVY3YvnJw-yW90HtIUv4vdqrs'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:07:19.830 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select ParentNodeID NodeID from COM_CostCenterCostCenterMap where CostCenterID in (8,300) and ParentCostCenterId=50033 and NodeID=41025'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:07:19.830 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxMzM0NywiZXhwIjoxNzUyODQyMTQ3LCJpYXQiOjE3NTI4MTMzNDd9.CxLPuy9Uf2VKhk9DA4TVY3YvnJw-yW90HtIUv4vdqrs'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:07:20.267 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select ParentNodeID NodeID from COM_CostCenterCostCenterMap where CostCenterID in (8,300) and ParentCostCenterId=50033 and NodeID=41025'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:07:20.267 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxMzM0NywiZXhwIjoxNzUyODQyMTQ3LCJpYXQiOjE3NTI4MTMzNDd9.CxLPuy9Uf2VKhk9DA4TVY3YvnJw-yW90HtIUv4vdqrs'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:07:20.705 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select ParentNodeID NodeID from COM_CostCenterCostCenterMap where CostCenterID in (8,300) and ParentCostCenterId=50033 and NodeID=41025'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:07:20.705 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxMzM0NywiZXhwIjoxNzUyODQyMTQ3LCJpYXQiOjE3NTI4MTMzNDd9.CxLPuy9Uf2VKhk9DA4TVY3YvnJw-yW90HtIUv4vdqrs'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:08:28.781 | General Service|:: CompanyIndex:13 SpName: spDOC_GetDocumentDefinition 
 41025
 ,NULL
 ,NULL
 ,''
 ,1
 ,'admin'
 ,1
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:08:28.781 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxMzM0NywiZXhwIjoxNzUyODQyMTQ3LCJpYXQiOjE3NTI4MTMzNDd9.CxLPuy9Uf2VKhk9DA4TVY3YvnJw-yW90HtIUv4vdqrs'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:08:28.828 | General Service|:: CompanyIndex:13 SpName: spDoc_GetCurrencyExchangeRate 
 1
 ,'18-Jul-2025'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:08:28.828 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxMzM0NywiZXhwIjoxNzUyODQyMTQ3LCJpYXQiOjE3NTI4MTMzNDd9.CxLPuy9Uf2VKhk9DA4TVY3YvnJw-yW90HtIUv4vdqrs'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:08:28.859 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'SELECT Code FROM COM_Location WITH(NOLOCK) WHERE NodeID=27'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:08:28.859 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxMzM0NywiZXhwIjoxNzUyODQyMTQ3LCJpYXQiOjE3NTI4MTMzNDd9.CxLPuy9Uf2VKhk9DA4TVY3YvnJw-yW90HtIUv4vdqrs'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:08:28.875 | General Service|:: CompanyIndex:13 SpName: spDOC_GetDocumentPrefix 
 41025
 ,27
 ,''
 ,''
 ,'1'
 ,'1'
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:08:28.875 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxMzM0NywiZXhwIjoxNzUyODQyMTQ3LCJpYXQiOjE3NTI4MTMzNDd9.CxLPuy9Uf2VKhk9DA4TVY3YvnJw-yW90HtIUv4vdqrs'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:08:28.906 | General Service|:: CompanyIndex:13 SpName: spDOC_GetDueDate 
 55687
 ,27
 ,0
 ,0
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:08:28.906 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxMzM0NywiZXhwIjoxNzUyODQyMTQ3LCJpYXQiOjE3NTI4MTMzNDd9.CxLPuy9Uf2VKhk9DA4TVY3YvnJw-yW90HtIUv4vdqrs'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:08:28.938 | General Service|:: CompanyIndex:13 SpName: spDOC_GetCurrentCodeNumber 
 41025
 ,'023/25/'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:08:28.938 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxMzM0NywiZXhwIjoxNzUyODQyMTQ3LCJpYXQiOjE3NTI4MTMzNDd9.CxLPuy9Uf2VKhk9DA4TVY3YvnJw-yW90HtIUv4vdqrs'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:08:28.969 | General Service|:: CompanyIndex:13 SpName: spDOC_GetLinkReferenceData 
 566117
 ,41025
 ,55687
 ,'18/Jul/2025'
 ,55687
 ,'<XML><Row CostCenterID="50011" NODEID="1" /><Row CostCenterID="50002" NODEID="27" /><Row CostCenterID="50058" NODEID="1" /><Row CostCenterID="50059" NODEID="1" /><Row CostCenterID="50061" NODEID="11" /><Row CostCenterID="50062" NODEID="1" /></XML>'
 ,False
 ,'0'
 ,'0'
 ,'0'
 ,NULL
 ,'0'
 ,'0'
 ,'0'
 ,''
 ,'1'
 ,1
 ,'1'
[System: 192.168.1.54] DEBUG | 07-18-2025 10:08:28.969 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxMzM0NywiZXhwIjoxNzUyODQyMTQ3LCJpYXQiOjE3NTI4MTMzNDd9.CxLPuy9Uf2VKhk9DA4TVY3YvnJw-yW90HtIUv4vdqrs'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:08:29.016 | General Service|:: CompanyIndex:13 SpName: spADM_GetListViewDataByIDs 
 '<XML><Row CCID="50011"  TypeID="1"  DBColumnID="566213"  NodeID="1" /><Row CCID="2"  TypeID="10"  DBColumnID="566117"  NodeID="55687" /><Row CCID="2"  TypeID="100"  DBColumnID="566117"  NodeID="55687" /><Row CCID="2"  TypeID="10"  DBColumnID="566254"  NodeID="3" /><Row CCID="2"  TypeID="100"  DBColumnID="566254"  NodeID="3" /><Row CCID="50011"  TypeID="1"  DBColumnID="566213"  NodeID="1" /><Row CCID="50002"  TypeID="1"  DBColumnID="566204"  NodeID="27" /><Row CCID="50058"  TypeID="1"  DBColumnID="583442"  NodeID="1" /><Row CCID="50059"  TypeID="1"  DBColumnID="583494"  NodeID="1" /><Row CCID="50061"  TypeID="11"  DBColumnID="583598"  NodeID="11" /><Row CCID="50062"  TypeID="1"  DBColumnID="583650"  NodeID="1" /><Row CCID="50058"  TypeID="1"  DBColumnID="583713"  NodeID="1" /></XML>'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:08:29.031 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxMzM0NywiZXhwIjoxNzUyODQyMTQ3LCJpYXQiOjE3NTI4MTMzNDd9.CxLPuy9Uf2VKhk9DA4TVY3YvnJw-yW90HtIUv4vdqrs'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:08:29.047 | General Service|:: CompanyIndex:13 SpName: spADM_GetListViewDataByIDs 
 '<XML><Row CCID="50011"  TypeID="1"  DBColumnID="566213"  NodeID="1" /><Row CCID="2"  TypeID="10"  DBColumnID="566117"  NodeID="55687" /><Row CCID="2"  TypeID="100"  DBColumnID="566117"  NodeID="55687" /><Row CCID="2"  TypeID="10"  DBColumnID="566254"  NodeID="3" /><Row CCID="2"  TypeID="100"  DBColumnID="566254"  NodeID="3" /><Row CCID="50011"  TypeID="1"  DBColumnID="566213"  NodeID="1" /><Row CCID="50002"  TypeID="1"  DBColumnID="566204"  NodeID="27" /><Row CCID="50058"  TypeID="1"  DBColumnID="583442"  NodeID="1" /><Row CCID="50059"  TypeID="1"  DBColumnID="583494"  NodeID="1" /><Row CCID="50061"  TypeID="11"  DBColumnID="583598"  NodeID="11" /><Row CCID="50062"  TypeID="1"  DBColumnID="583650"  NodeID="1" /><Row CCID="50058"  TypeID="1"  DBColumnID="583713"  NodeID="1" /></XML>'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:08:29.063 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxMzM0NywiZXhwIjoxNzUyODQyMTQ3LCJpYXQiOjE3NTI4MTMzNDd9.CxLPuy9Uf2VKhk9DA4TVY3YvnJw-yW90HtIUv4vdqrs'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:08:29.078 | General Service|:: CompanyIndex:13 SpName: spDOC_GetLinkReferenceData 
 566117
 ,41025
 ,55687
 ,'18/Jul/2025'
 ,55687
 ,'<XML><Row CostCenterID="50011" NODEID="1" /><Row CostCenterID="50002" NODEID="27" /><Row CostCenterID="50058" NODEID="1" /><Row CostCenterID="50059" NODEID="1" /><Row CostCenterID="50061" NODEID="11" /><Row CostCenterID="50062" NODEID="1" /></XML>'
 ,False
 ,'0'
 ,'0'
 ,'0'
 ,NULL
 ,'0'
 ,'0'
 ,'0'
 ,''
 ,'1'
 ,1
 ,'1'
[System: 192.168.1.54] DEBUG | 07-18-2025 10:08:29.094 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxMzM0NywiZXhwIjoxNzUyODQyMTQ3LCJpYXQiOjE3NTI4MTMzNDd9.CxLPuy9Uf2VKhk9DA4TVY3YvnJw-yW90HtIUv4vdqrs'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:10:11.666 | General Service|:: CompanyIndex:13 SpName: spADM_GetListViewDataByIDs 
 '<XML><Row CCID="50011"  TypeID="1"  DBColumnID="566213"  NodeID="1" /><Row CCID="2"  TypeID="10"  DBColumnID="566117"  NodeID="55687" /><Row CCID="2"  TypeID="100"  DBColumnID="566117"  NodeID="55687" /><Row CCID="2"  TypeID="10"  DBColumnID="566254"  NodeID="3" /><Row CCID="2"  TypeID="100"  DBColumnID="566254"  NodeID="3" /><Row CCID="50011"  TypeID="1"  DBColumnID="566213"  NodeID="1" /><Row CCID="50002"  TypeID="1"  DBColumnID="566204"  NodeID="27" /><Row CCID="50058"  TypeID="1"  DBColumnID="583442"  NodeID="1" /><Row CCID="50059"  TypeID="1"  DBColumnID="583494"  NodeID="1" /><Row CCID="50061"  TypeID="11"  DBColumnID="583598"  NodeID="11" /><Row CCID="50062"  TypeID="1"  DBColumnID="583650"  NodeID="1" /><Row CCID="50058"  TypeID="1"  DBColumnID="583713"  NodeID="1" /></XML>'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:10:11.666 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxMzM0NywiZXhwIjoxNzUyODQyMTQ3LCJpYXQiOjE3NTI4MTMzNDd9.CxLPuy9Uf2VKhk9DA4TVY3YvnJw-yW90HtIUv4vdqrs'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:10:11.728 | General Service|:: CompanyIndex:13 SpName: spADM_GetCostCenterListViewData 
 500055
 ,'a.Name,a.Code,a.ccAlpha11'
 ,''
 ,''
 ,'Name'
 ,''
 ,60
 ,False
 ,''
 ,''
 ,''
 ,''
 ,''
 ,0
 ,False
 ,''
 ,''
 ,'1'
 ,'1'
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:10:11.728 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxMzM0NywiZXhwIjoxNzUyODQyMTQ3LCJpYXQiOjE3NTI4MTMzNDd9.CxLPuy9Uf2VKhk9DA4TVY3YvnJw-yW90HtIUv4vdqrs'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:11:11.064 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:11:11.064 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxMzM0NywiZXhwIjoxNzUyODQyMTQ3LCJpYXQiOjE3NTI4MTMzNDd9.CxLPuy9Uf2VKhk9DA4TVY3YvnJw-yW90HtIUv4vdqrs'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:11:11.157 | General Service|:: CompanyIndex:13 SpName: spCOM_ConfigValues 
 1
 ,'NotifTime'
 ,''
[System: 192.168.1.54] DEBUG | 07-18-2025 10:11:11.157 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxMzM0NywiZXhwIjoxNzUyODQyMTQ3LCJpYXQiOjE3NTI4MTMzNDd9.CxLPuy9Uf2VKhk9DA4TVY3YvnJw-yW90HtIUv4vdqrs'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:11:52.140 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:11:52.140 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxMzM0NywiZXhwIjoxNzUyODQyMTQ3LCJpYXQiOjE3NTI4MTMzNDd9.CxLPuy9Uf2VKhk9DA4TVY3YvnJw-yW90HtIUv4vdqrs'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:12:52.131 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:12:52.147 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxMzM0NywiZXhwIjoxNzUyODQyMTQ3LCJpYXQiOjE3NTI4MTMzNDd9.CxLPuy9Uf2VKhk9DA4TVY3YvnJw-yW90HtIUv4vdqrs'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:13:52.031 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:13:52.031 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxMzM0NywiZXhwIjoxNzUyODQyMTQ3LCJpYXQiOjE3NTI4MTMzNDd9.CxLPuy9Uf2VKhk9DA4TVY3YvnJw-yW90HtIUv4vdqrs'''
 ,1
 ,1
[System: 192.168.1.77] DEBUG | 07-18-2025 10:14:01.891 | General Service|:: CompanyIndex:0 SpName: spADM_GetClientUserDetails2C 
 'admin'
 ,1
 ,0
[System: 192.168.1.77] DEBUG | 07-18-2025 10:14:02.001 | General Service|:: CompanyIndex:0 SpName: spADM_UserLoginCheck 
 2
 ,'admin'
 ,0
 ,'192.168.1.77'
 ,'192.168.1.77'
 ,''
 ,'Web'
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:14:52.060 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:14:52.060 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxMzM0NywiZXhwIjoxNzUyODQyMTQ3LCJpYXQiOjE3NTI4MTMzNDd9.CxLPuy9Uf2VKhk9DA4TVY3YvnJw-yW90HtIUv4vdqrs'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:15:50.947 | General Service|:: CompanyIndex:13 SpName: spCOM_ConfigValues 
 1
 ,'NotifTime'
 ,''
[System: 192.168.1.54] DEBUG | 07-18-2025 10:15:50.947 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxMzM0NywiZXhwIjoxNzUyODQyMTQ3LCJpYXQiOjE3NTI4MTMzNDd9.CxLPuy9Uf2VKhk9DA4TVY3YvnJw-yW90HtIUv4vdqrs'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:15:52.062 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:15:52.062 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxMzM0NywiZXhwIjoxNzUyODQyMTQ3LCJpYXQiOjE3NTI4MTMzNDd9.CxLPuy9Uf2VKhk9DA4TVY3YvnJw-yW90HtIUv4vdqrs'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:17:00.312 | General Service|:: CompanyIndex:0 SpName: spADM_GetClientUserDetails2C 
 'admin'
 ,1
 ,0
[System: 192.168.1.54] DEBUG | 07-18-2025 10:17:00.359 | General Service|:: CompanyIndex:0 SpName: spADM_UserLoginCheck 
 2
 ,'admin'
 ,0
 ,'192.168.1.54'
 ,'192.168.1.54'
 ,''
 ,'Web'
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:17:03.182 | General Service|:: CompanyIndex:13 SpName: spADM_GetClientUserDetails 
 'admin'
 ,1
 ,'26.1.0'
 ,0
[System: 192.168.1.54] DEBUG | 07-18-2025 10:17:03.229 | General Service|:: CompanyIndex:0 SpName: spADM_UserLoginCheck 
 2
 ,'admin'
 ,13
 ,'192.168.1.54'
 ,'192.168.1.54'
 ,''
 ,'Web'
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:17:03.229 | General Service|:: CompanyIndex:0 SpName: spADM_Login 
 1
 ,''
 ,''
 ,''
 ,''
 ,''
 ,13
[System: 192.168.1.54] DEBUG | 07-18-2025 10:17:03.229 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select Value from ADM_GlobalPreferences with (nolock) where name =''EnableReLogin'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:17:03.245 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDAyMywiZXhwIjoxNzUyODQyODIzLCJpYXQiOjE3NTI4MTQwMjN9.tbt0DGq4e-j0uD5joIVc5UeoKEqtG3aNypHZy7KHTdA'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:17:03.276 | General Service|:: CompanyIndex:0 SpName: spADM_Login 
 4
 ,''
 ,''
 ,''
 ,'declare @Cnt int,@ExpiredGUID nvarchar(50),@AllowSession int,@GUID nvarchar(50),@CurrDate float,@UserID INT,@Instances INT,@InstancesExists INT,@LCDBIndex int
set @CurrDate= convert(float,dateadd(minute,-21,getdate()))
set @AllowSession=0
set @GUID=''91af05b3-f5ff-4616-ac92-b809a2afd734''
set @LCDBIndex=0
select top 1 @UserID=UserID,@Instances=InstanceCount from ADM_Users with(nolock) where UserName=''admin''
if exists(select [GUID] from ADM_Login with(nolock) where [GUID]=@GUID)
begin
	update ADM_Login 
	set LastAccessTime=convert(float,getdate()),UserID=@UserID
	where [GUID]=@GUID
    set @AllowSession=1
end
else
begin
	select @Cnt=count(*) from ADM_Login with(nolock) where LCDBIndex=@LCDBIndex and [GUID]!=''ACCESSRIGHTS'' and AP =''WEB''
    if(@Cnt<100)
		set @AllowSession=1
	else
	begin
		select top 1 @ExpiredGUID=[GUID] from ADM_Login with(nolock)
		where [GUID]!=''ACCESSRIGHTS'' and LCDBIndex=@LCDBIndex and LastAccessTime<@CurrDate  and AP =''WEB''
        order by LastAccessTime asc
		if @ExpiredGUID is not null
		begin
			delete from ADM_Login where [GUID]=@ExpiredGUID
			set @AllowSession=1
		end
	end
	if @AllowSession=1
	begin
        select @InstancesExists=COUNT(*) from ADM_Login with(nolock)
		where [GUID]!=''ACCESSRIGHTS'' and LCDBIndex=@LCDBIndex and LastAccessTime>=@CurrDate and UserID=@UserID and AP =''WEB''
		if(@Instances!=0 and @Instances<=@InstancesExists)
			set @AllowSession=2
		else
		    INSERT INTO ADM_Login([GUID],[SysName],IPAddress,[Status],LoginTime,LastAccessTime,AccessRights,UserID,DBIndex,LCDBIndex,AP)
		    VALUES(@GUID,''WEB'',''192.168.1.54'',1,convert(float,getdate()),convert(float,getdate()),null,@UserID,13,@LCDBIndex, ''WEB'')
	end
end

select @AllowSession AllowSession,@Instances Instances,@InstancesExists InstancesExists
'
 ,''
 ,0
[System: 192.168.1.54] DEBUG | 07-18-2025 10:17:03.276 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDAyMywiZXhwIjoxNzUyODQyODIzLCJpYXQiOjE3NTI4MTQwMjN9.tbt0DGq4e-j0uD5joIVc5UeoKEqtG3aNypHZy7KHTdA'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:17:03.292 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'SELECT (SELECT COUNT(*) FROM COM_Location L WITH(NOLOCK) JOIN COM_Status S WITH(NOLOCK) ON S.StatusID=L.StatusID WHERE L.IsGroup=0 AND S.[Status]=''Active'') ML
,(SELECT COUNT(*) FROM ADM_Features WITH(NOLOCK) WHERE ((FeatureID>50000 AND FeatureID<=50050) OR FeatureID>=51000) AND IsEnabled=1) MD
,(SELECT ISNULL(COUNT(*),0) FROM ADM_RevenUReports WITH(NOLOCK) WHERE IsGroup=0 AND ReportID>10000 AND StaticReportType IN (0,-1)) MR'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:17:03.307 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDAyMywiZXhwIjoxNzUyODQyODIzLCJpYXQiOjE3NTI4MTQwMjN9.tbt0DGq4e-j0uD5joIVc5UeoKEqtG3aNypHZy7KHTdA'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:17:04.861 | General Service|:: CompanyIndex:13 SpName: spCOM_ConfigValues 
 1
 ,'NotifTime'
 ,''
[System: 192.168.1.54] DEBUG | 07-18-2025 10:17:04.876 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDAyMywiZXhwIjoxNzUyODQyODIzLCJpYXQiOjE3NTI4MTQwMjN9.tbt0DGq4e-j0uD5joIVc5UeoKEqtG3aNypHZy7KHTdA'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:17:05.033 | General Service|:: CompanyIndex:13 SpName: spADM_GetRibbonView 
 1
 ,1
 ,1
 ,1
 ,0
 ,''
[System: 192.168.1.54] DEBUG | 07-18-2025 10:17:05.033 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDAyMywiZXhwIjoxNzUyODQyODIzLCJpYXQiOjE3NTI4MTQwMjN9.tbt0DGq4e-j0uD5joIVc5UeoKEqtG3aNypHZy7KHTdA'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:17:05.236 | General Service|:: CompanyIndex:13 SpName: spRPT_GetReport 
 2
 ,0
 ,'1'
 ,'1'
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:17:05.236 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDAyMywiZXhwIjoxNzUyODQyODIzLCJpYXQiOjE3NTI4MTQwMjN9.tbt0DGq4e-j0uD5joIVc5UeoKEqtG3aNypHZy7KHTdA'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:17:05.251 | General Service|:: CompanyIndex:13 SpName: spADM_GetDashBoard 
 2
 ,0
 ,0
 ,'1'
 ,'1'
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:17:05.267 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDAyMywiZXhwIjoxNzUyODQyODIzLCJpYXQiOjE3NTI4MTQwMjN9.tbt0DGq4e-j0uD5joIVc5UeoKEqtG3aNypHZy7KHTdA'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:17:05.282 | General Service|:: CompanyIndex:13 SpName: spCOM_ConfigValues 
 1
 ,'LandingDocs'
 ,'1'
[System: 192.168.1.54] DEBUG | 07-18-2025 10:17:05.282 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDAyMywiZXhwIjoxNzUyODQyODIzLCJpYXQiOjE3NTI4MTQwMjN9.tbt0DGq4e-j0uD5joIVc5UeoKEqtG3aNypHZy7KHTdA'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:17:05.314 | General Service|:: CompanyIndex:13 SpName: spADM_GetAllListViewsDef 
 1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:17:05.314 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDAyMywiZXhwIjoxNzUyODQyODIzLCJpYXQiOjE3NTI4MTQwMjN9.tbt0DGq4e-j0uD5joIVc5UeoKEqtG3aNypHZy7KHTdA'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:17:05.329 | General Service|:: CompanyIndex:13 SpName: spCOM_GetFavorites 
 'GETLIST0'
 ,0
 ,'1'
 ,'1'
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:17:05.329 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDAyMywiZXhwIjoxNzUyODQyODIzLCJpYXQiOjE3NTI4MTQwMjN9.tbt0DGq4e-j0uD5joIVc5UeoKEqtG3aNypHZy7KHTdA'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:17:05.392 | General Service|:: CompanyIndex:13 SpName: spADM_GetAllListViewsDef 
 1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:17:05.407 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDAyMywiZXhwIjoxNzUyODQyODIzLCJpYXQiOjE3NTI4MTQwMjN9.tbt0DGq4e-j0uD5joIVc5UeoKEqtG3aNypHZy7KHTdA'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:17:05.517 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'Select CostCenterID,CostCenterColID,CostCenterName,SysTableName,UserColumnName,SysColumnName,ISNULL(UserDefaultValue,'''') UserDefaultValue
From AdM_CostCenterDef WITH(NOLOCK)
Where SysColumnName IN(''CreditAccount'',''DebitAccount'',''ProductID'') 
AND CostCenterID>40000 AND CostCenterID<50000 

SELECT * FROM ADM_Features WITH(NOLOCK) '
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:17:05.517 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDAyMywiZXhwIjoxNzUyODQyODIzLCJpYXQiOjE3NTI4MTQwMjN9.tbt0DGq4e-j0uD5joIVc5UeoKEqtG3aNypHZy7KHTdA'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:17:05.564 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 '  SELECT * FROM PAY_PayrollPreferences WITH(NOLOCK) '
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:17:05.564 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDAyMywiZXhwIjoxNzUyODQyODIzLCJpYXQiOjE3NTI4MTQwMjN9.tbt0DGq4e-j0uD5joIVc5UeoKEqtG3aNypHZy7KHTdA'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:17:05.610 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 '  --0
                                Select * FROM COM_CC50051 WITH(NOLOCK) WHERE IsGroup=0 AND LoginUserID=''admin''
                                --1                                
                                Select * FROM COM_CC50051 WITH(NOLOCK) WHERE RptManager IN (Select NodeID FROM COM_CC50051 WITH(NOLOCK) WHERE IsGroup=0 AND LoginUserID=''admin'')
                                UNION ALL
                                Select * FROM COM_CC50051 WITH(NOLOCK) WHERE RptManager IN 
                                (
	                                Select NodeID FROM COM_CC50051 WITH(NOLOCK) 
	                                WHERE IsGroup=0 AND LoginUserID IN
	                                (
	                                SELECT fe.LoginUserID
	                                FROM INV_DocDetails a WITH(NOLOCK) 
	                                JOIN COM_DocCCData b WITH(NOLOCK) ON b.InvDocDetailsID=a.InvDocDetailsID
	                                JOIN COM_DocNumData c WITH(NOLOCK) ON c.InvDocDetailsID=a.InvDocDetailsID
	                                JOIN COM_DocTextData d WITH(NOLOCK) ON d.InvDocDetailsID=a.InvDocDetailsID
	                                JOIN COM_CC50051 fe WITH(NOLOCK) on fe.NodeID=b.dcCCNID51
	                                JOIN COM_CC50051 te WITH(NOLOCK) on CONVERT(NVARCHAR,te.NodeID)=d.dcAlpha1
	                                WHERE a.CostCenterID=40098 and a.StatusID=369 AND d.dcAlpha3=''Temporary''
	                                AND te.LoginUserID=''admin'' 
	                                AND ISDATE(d.dcAlpha4)=1 AND ISDATE(d.dcAlpha5)=1 
	                                AND CONVERT(DATETIME,''18 Jul 2025'') BETWEEN CONVERT(DATETIME,d.dcAlpha4) AND CONVERT(DATETIME,d.dcAlpha5)
	                                )
                                )
                                --2
                                Select * FROM ADM_USERS WITH(NOLOCK) WHERE USERID=1
                                --3
                                Select * FROM COM_CostCenterCostCenterMap WITH(NOLOCK) WHERE ParentCostCenterID=7 AND ParentNodeID=1
                                --4                                
                                Select * FROM COM_CostCenterCostCenterMap WITH(NOLOCK) WHERE ParentCostCenterID=7 AND ParentNodeID=1
                                AND CostCenterID IN(Select ColumnCostCenterID From ADM_CostCenterDef Where CostCenterID=50051 AND IsColumnInUse=1 AND SysColumnName LIKE ''CCNID%'')
                                --5
                                Select * from COM_Files WITH(NOLOCK) WHERE FeatureID=50051 AND FeaturePK IN (Select NodeID FROM COM_CC50051 WITH(NOLOCK) WHERE IsGroup=0 AND LoginUserID=''admin'')                         
'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:17:05.610 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDAyMywiZXhwIjoxNzUyODQyODIzLCJpYXQiOjE3NTI4MTQwMjN9.tbt0DGq4e-j0uD5joIVc5UeoKEqtG3aNypHZy7KHTdA'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:17:05.735 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:17:05.751 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDAyMywiZXhwIjoxNzUyODQyODIzLCJpYXQiOjE3NTI4MTQwMjN9.tbt0DGq4e-j0uD5joIVc5UeoKEqtG3aNypHZy7KHTdA'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:17:05.970 | General Service|:: CompanyIndex:13 SpName: spADM_GetDashBoard 
 1
 ,8
 ,0
 ,'1'
 ,'1'
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:17:05.970 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDAyMywiZXhwIjoxNzUyODQyODIzLCJpYXQiOjE3NTI4MTQwMjN9.tbt0DGq4e-j0uD5joIVc5UeoKEqtG3aNypHZy7KHTdA'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:17:05.985 | General Service|:: CompanyIndex:13 SpName: spRPT_GetReport 
 0
 ,30456
 ,'1'
 ,'1'
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:17:06.001 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDAyMywiZXhwIjoxNzUyODQyODIzLCJpYXQiOjE3NTI4MTQwMjN9.tbt0DGq4e-j0uD5joIVc5UeoKEqtG3aNypHZy7KHTdA'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:17:06.079 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'SELECT StaticReportType FROM ADM_RevenUReports WITH(NOLOCK) WHERE ReportID=30456'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:17:06.095 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDAyMywiZXhwIjoxNzUyODQyODIzLCJpYXQiOjE3NTI4MTQwMjN9.tbt0DGq4e-j0uD5joIVc5UeoKEqtG3aNypHZy7KHTdA'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:17:06.220 | General Service|:: CompanyIndex:13 SpName: spRPT_GetReportCategoryandField 
 -1
 ,0
 ,1
 ,0
 ,'1'
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:17:06.235 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDAyMywiZXhwIjoxNzUyODQyODIzLCJpYXQiOjE3NTI4MTQwMjN9.tbt0DGq4e-j0uD5joIVc5UeoKEqtG3aNypHZy7KHTdA'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:17:06.282 | General Service|:: CompanyIndex:13 SpName: spRPT_GetReportFields 
 400
 ,0
 ,'1'
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:17:06.282 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDAyMywiZXhwIjoxNzUyODQyODIzLCJpYXQiOjE3NTI4MTQwMjN9.tbt0DGq4e-j0uD5joIVc5UeoKEqtG3aNypHZy7KHTdA'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:17:06.345 | General Service|:: CompanyIndex:13 SpName: spRPT_GetReportData 
 9
 ,1
 ,'<XML UID="1" ShowMyQueue="0"></XML>'
 ,'1'
[System: 192.168.1.54] DEBUG | 07-18-2025 10:17:06.345 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDAyMywiZXhwIjoxNzUyODQyODIzLCJpYXQiOjE3NTI4MTQwMjN9.tbt0DGq4e-j0uD5joIVc5UeoKEqtG3aNypHZy7KHTdA'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:17:06.485 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
                EXEC spRPT_GetReportData @Type=8,@Param1=1,@strXML=null,@RoleID=1
SELECT ACC.VoucherNo [C858bdfa70f884b78b8ec0453808910bb],ACC.VersionNo [C858bdfa70f884b78b8ec0453808910bbVer],CONVERT(DATETIME,ACC.DocDate) [Cf4c1ff96517a40978b75103376667aae],ACC.DocAbbr [C501419b9c341410d8920b953fb30cfbf],ACC.Amount [Cfa623191688842d5ac3c0cd9232cfb2e],NULL [C90a85d26ad47471988897309a5c78218],T1.UserName [Cd0c4cb9a7057416ca691fb5c4774545b],T3.Name [C80a6de4371d045c08bf9d035c1831959],ACC.CommonNarration [Ce66e27446651436893b0d2c967dd0ecb],T4.Status [Ca7da089a0bd542838ddeb39e78a982ea],T5.Name [Cff89130f277d4635b5e1c5e6887cbcb5],ACC.VoucherNo [Cdacb59b3f5e54f18b65dfc4cf3186555],ACC.DocAbbr [Cdacb59b3f5e54f18b65dfc4cf3186555Abr],ACC.DocPrefix [Cdacb59b3f5e54f18b65dfc4cf3186555prf],CONVERT(BIGINT,ACC.DocNumber) [Cdacb59b3f5e54f18b65dfc4cf3186555dno]
 FROM ACC_DocDetails ACC with(nolock) left join ADM_Users T1 with(nolock) on ACC.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on ACC.AccDocDetailsID=TDCC.AccDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on ACC.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (ACC.CostCenterID=41053) AND T4.Status=''Unapproved'' AND ACC.LinkedAccDocDetailsID is null AND WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT ACC.VoucherNo,ACC.VersionNo,CONVERT(DATETIME,ACC.DocDate),ACC.DocAbbr,ACC.Amount,NULL,T1.UserName,T3.Name,ACC.CommonNarration,T4.Status,T5.Name,ACC.VoucherNo,ACC.DocAbbr,ACC.DocPrefix,CONVERT(BIGINT,ACC.DocNumber)
 FROM ACC_DocDetails ACC with(nolock) left join ADM_Users T1 with(nolock) on ACC.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on ACC.AccDocDetailsID=TDCC.AccDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on ACC.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (ACC.CostCenterID=41061) AND T4.Status=''Unapproved'' AND ACC.LinkedAccDocDetailsID is null AND WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT ACC.VoucherNo,ACC.VersionNo,CONVERT(DATETIME,ACC.DocDate),ACC.DocAbbr,ACC.Amount,NULL,T1.UserName,T3.Name,ACC.CommonNarration,T4.Status,T5.Name,ACC.VoucherNo,ACC.DocAbbr,ACC.DocPrefix,CONVERT(BIGINT,ACC.DocNumber)
 FROM ACC_DocDetails ACC with(nolock) left join ADM_Users T1 with(nolock) on ACC.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on ACC.AccDocDetailsID=TDCC.AccDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on ACC.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (ACC.CostCenterID=40023) AND T4.Status=''Unapproved'' AND ACC.LinkedAccDocDetailsID is null AND WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT ACC.VoucherNo,ACC.VersionNo,CONVERT(DATETIME,ACC.DocDate),ACC.DocAbbr,ACC.Amount,NULL,T1.UserName,T3.Name,ACC.CommonNarration,T4.Status,T5.Name,ACC.VoucherNo,ACC.DocAbbr,ACC.DocPrefix,CONVERT(BIGINT,ACC.DocNumber)
 FROM ACC_DocDetails ACC with(nolock) left join ADM_Users T1 with(nolock) on ACC.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on ACC.AccDocDetailsID=TDCC.AccDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on ACC.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (ACC.CostCenterID=41064) AND T4.Status=''Unapproved'' AND ACC.LinkedAccDocDetailsID is null AND WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT ACC.VoucherNo,ACC.VersionNo,CONVERT(DATETIME,ACC.DocDate),ACC.DocAbbr,ACC.Amount,NULL,T1.UserName,T3.Name,ACC.CommonNarration,T4.Status,T5.Name,ACC.VoucherNo,ACC.DocAbbr,ACC.DocPrefix,CONVERT(BIGINT,ACC.DocNumber)
 FROM ACC_DocDetails ACC with(nolock) left join ADM_Users T1 with(nolock) on ACC.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on ACC.AccDocDetailsID=TDCC.AccDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on ACC.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (ACC.CostCenterID=41006) AND T4.Status=''Unapproved'' AND ACC.LinkedAccDocDetailsID is null AND WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT ACC.VoucherNo,ACC.VersionNo,CONVERT(DATETIME,ACC.DocDate),ACC.DocAbbr,ACC.Amount,NULL,T1.UserName,T3.Name,ACC.CommonNarration,T4.Status,T5.Name,ACC.VoucherNo,ACC.DocAbbr,ACC.DocPrefix,CONVERT(BIGINT,ACC.DocNumber)
 FROM ACC_DocDetails ACC with(nolock) left join ADM_Users T1 with(nolock) on ACC.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on ACC.AccDocDetailsID=TDCC.AccDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on ACC.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (ACC.CostCenterID=40022) AND T4.Status=''Unapproved'' AND ACC.LinkedAccDocDetailsID is null AND WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT ACC.VoucherNo,ACC.VersionNo,CONVERT(DATETIME,ACC.DocDate),ACC.DocAbbr,ACC.Amount,NULL,T1.UserName,T3.Name,ACC.CommonNarration,T4.Status,T5.Name,ACC.VoucherNo,ACC.DocAbbr,ACC.DocPrefix,CONVERT(BIGINT,ACC.DocNumber)
 FROM ACC_DocDetails ACC with(nolock) left join ADM_Users T1 with(nolock) on ACC.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on ACC.AccDocDetailsID=TDCC.AccDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on ACC.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (ACC.CostCenterID=41075) AND T4.Status=''Unapproved'' AND ACC.LinkedAccDocDetailsID is null AND WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT ACC.VoucherNo,ACC.VersionNo,CONVERT(DATETIME,ACC.DocDate),ACC.DocAbbr,ACC.Amount,NULL,T1.UserName,T3.Name,ACC.CommonNarration,T4.Status,T5.Name,ACC.VoucherNo,ACC.DocAbbr,ACC.DocPrefix,CONVERT(BIGINT,ACC.DocNumber)
 FROM ACC_DocDetails ACC with(nolock) left join ADM_Users T1 with(nolock) on ACC.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on ACC.AccDocDetailsID=TDCC.AccDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on ACC.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (ACC.CostCenterID=41077) AND T4.Status=''Unapproved'' AND ACC.LinkedAccDocDetailsID is null AND WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT ACC.VoucherNo,ACC.VersionNo,CONVERT(DATETIME,ACC.DocDate),ACC.DocAbbr,ACC.Amount,NULL,T1.UserName,T3.Name,ACC.CommonNarration,T4.Status,T5.Name,ACC.VoucherNo,ACC.DocAbbr,ACC.DocPrefix,CONVERT(BIGINT,ACC.DocNumber)
 FROM ACC_DocDetails ACC with(nolock) left join ADM_Users T1 with(nolock) on ACC.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on ACC.AccDocDetailsID=TDCC.AccDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on ACC.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (ACC.CostCenterID=40014) AND T4.Status=''Unapproved'' AND ACC.LinkedAccDocDetailsID is null AND WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT ACC.VoucherNo,ACC.VersionNo,CONVERT(DATETIME,ACC.DocDate),ACC.DocAbbr,ACC.Amount,NULL,T1.UserName,T3.Name,ACC.CommonNarration,T4.Status,T5.Name,ACC.VoucherNo,ACC.DocAbbr,ACC.DocPrefix,CONVERT(BIGINT,ACC.DocNumber)
 FROM ACC_DocDetails ACC with(nolock) left join ADM_Users T1 with(nolock) on ACC.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on ACC.AccDocDetailsID=TDCC.AccDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on ACC.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (ACC.CostCenterID=41065) AND T4.Status=''Unapproved'' AND ACC.LinkedAccDocDetailsID is null AND WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT ACC.VoucherNo,ACC.VersionNo,CONVERT(DATETIME,ACC.DocDate),ACC.DocAbbr,ACC.Amount,NULL,T1.UserName,T3.Name,ACC.CommonNarration,T4.Status,T5.Name,ACC.VoucherNo,ACC.DocAbbr,ACC.DocPrefix,CONVERT(BIGINT,ACC.DocNumber)
 FROM ACC_DocDetails ACC with(nolock) left join ADM_Users T1 with(nolock) on ACC.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on ACC.AccDocDetailsID=TDCC.AccDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on ACC.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (ACC.CostCenterID=40017) AND T4.Status=''Unapproved'' AND ACC.LinkedAccDocDetailsID is null AND WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT INV.VoucherNo,INV.VersionNo,CONVERT(DATETIME,INV.DocDate),INV.DocAbbr,NULL,CASE WHEN (SELECT DocumentType FROM ADM_DocumentTypes WITH(NOLOCK) WHERE CostCenterID=INV.CostCenterID)=38 AND VoucherType=1 THEN -INV.Gross ELSE INV.Gross END,T1.UserName,T3.Name,INV.CommonNarration,T4.Status,T5.Name,INV.VoucherNo,INV.DocAbbr,INV.DocPrefix,CONVERT(BIGINT,INV.DocNumber)
 FROM INV_DocDetails INV with(nolock) left join ADM_Users T1 with(nolock) on INV.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on INV.InvDocDetailsID=TDCC.InvDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on INV.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (INV.CostCenterID=41018) AND T4.Status=''Unapproved'' AND WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef and INV.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT INV.VoucherNo,INV.VersionNo,CONVERT(DATETIME,INV.DocDate),INV.DocAbbr,NULL,CASE WHEN (SELECT DocumentType FROM ADM_DocumentTypes WITH(NOLOCK) WHERE CostCenterID=INV.CostCenterID)=38 AND VoucherType=1 THEN -INV.Gross ELSE INV.Gross END,T1.UserName,T3.Name,INV.CommonNarration,T4.Status,T5.Name,INV.VoucherNo,INV.DocAbbr,INV.DocPrefix,CONVERT(BIGINT,INV.DocNumber)
 FROM INV_DocDetails INV with(nolock) left join ADM_Users T1 with(nolock) on INV.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on INV.InvDocDetailsID=TDCC.InvDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on INV.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (INV.CostCenterID=40011) AND T4.Status=''Unapproved'' AND WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef and INV.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT INV.VoucherNo,INV.VersionNo,CONVERT(DATETIME,INV.DocDate),INV.DocAbbr,NULL,CASE WHEN (SELECT DocumentType FROM ADM_DocumentTypes WITH(NOLOCK) WHERE CostCenterID=INV.CostCenterID)=38 AND VoucherType=1 THEN -INV.Gross ELSE INV.Gross END,T1.UserName,T3.Name,INV.CommonNarration,T4.Status,T5.Name,INV.VoucherNo,INV.DocAbbr,INV.DocPrefix,CONVERT(BIGINT,INV.DocNumber)
 FROM INV_DocDetails INV with(nolock) left join ADM_Users T1 with(nolock) on INV.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on INV.InvDocDetailsID=TDCC.InvDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on INV.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (INV.CostCenterID=41072) AND T4.Status=''Unapproved'' AND WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef and INV.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT INV.VoucherNo,INV.VersionNo,CONVERT(DATETIME,INV.DocDate),INV.DocAbbr,NULL,CASE WHEN (SELECT DocumentType FROM ADM_DocumentTypes WITH(NOLOCK) WHERE CostCenterID=INV.CostCenterID)=38 AND VoucherType=1 THEN -INV.Gross ELSE INV.Gross END,T1.UserName,T3.Name,INV.CommonNarration,T4.Status,T5.Name,INV.VoucherNo,INV.DocAbbr,INV.DocPrefix,CONVERT(BIGINT,INV.DocNumber)
 FROM INV_DocDetails INV with(nolock) left join ADM_Users T1 with(nolock) on INV.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on INV.InvDocDetailsID=TDCC.InvDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on INV.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (INV.CostCenterID=41057) AND T4.Status=''Unapproved'' AND WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef and INV.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT INV.VoucherNo,INV.VersionNo,CONVERT(DATETIME,INV.DocDate),INV.DocAbbr,NULL,CASE WHEN (SELECT DocumentType FROM ADM_DocumentTypes WITH(NOLOCK) WHERE CostCenterID=INV.CostCenterID)=38 AND VoucherType=1 THEN -INV.Gross ELSE INV.Gross END,T1.UserName,T3.Name,INV.CommonNarration,T4.Status,T5.Name,INV.VoucherNo,INV.DocAbbr,INV.DocPrefix,CONVERT(BIGINT,INV.DocNumber)
 FROM INV_DocDetails INV with(nolock) left join ADM_Users T1 with(nolock) on INV.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on INV.InvDocDetailsID=TDCC.InvDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on INV.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (INV.CostCenterID=41060) AND T4.Status=''Unapproved'' AND WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef and INV.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT INV.VoucherNo,INV.VersionNo,CONVERT(DATETIME,INV.DocDate),INV.DocAbbr,NULL,CASE WHEN (SELECT DocumentType FROM ADM_DocumentTypes WITH(NOLOCK) WHERE CostCenterID=INV.CostCenterID)=38 AND VoucherType=1 THEN -INV.Gross ELSE INV.Gross END,T1.UserName,T3.Name,INV.CommonNarration,T4.Status,T5.Name,INV.VoucherNo,INV.DocAbbr,INV.DocPrefix,CONVERT(BIGINT,INV.DocNumber)
 FROM INV_DocDetails INV with(nolock) left join ADM_Users T1 with(nolock) on INV.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on INV.InvDocDetailsID=TDCC.InvDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on INV.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (INV.CostCenterID=40001) AND T4.Status=''Unapproved'' AND WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef and INV.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT INV.VoucherNo,INV.VersionNo,CONVERT(DATETIME,INV.DocDate),INV.DocAbbr,NULL,CASE WHEN (SELECT DocumentType FROM ADM_DocumentTypes WITH(NOLOCK) WHERE CostCenterID=INV.CostCenterID)=38 AND VoucherType=1 THEN -INV.Gross ELSE INV.Gross END,T1.UserName,T3.Name,INV.CommonNarration,T4.Status,T5.Name,INV.VoucherNo,INV.DocAbbr,INV.DocPrefix,CONVERT(BIGINT,INV.DocNumber)
 FROM INV_DocDetails INV with(nolock) left join ADM_Users T1 with(nolock) on INV.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on INV.InvDocDetailsID=TDCC.InvDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on INV.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (INV.CostCenterID=41054) AND T4.Status=''Unapproved'' AND WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef and INV.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT ACC.VoucherNo,ACC.VersionNo,CONVERT(DATETIME,ACC.DocDate),ACC.DocAbbr,ACC.Amount,NULL,T1.UserName,T3.Name,ACC.CommonNarration,T4.Status,T5.Name,ACC.VoucherNo,ACC.DocAbbr,ACC.DocPrefix,CONVERT(BIGINT,ACC.DocNumber)
 FROM ACC_DocDetails ACC with(nolock) left join ADM_Users T1 with(nolock) on ACC.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on ACC.AccDocDetailsID=TDCC.AccDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on ACC.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (ACC.CostCenterID=41033) AND T4.Status=''Unapproved'' AND ACC.LinkedAccDocDetailsID is null AND WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT ACC.VoucherNo,ACC.VersionNo,CONVERT(DATETIME,ACC.DocDate),ACC.DocAbbr,ACC.Amount,NULL,T1.UserName,T3.Name,ACC.CommonNarration,T4.Status,T5.Name,ACC.VoucherNo,ACC.DocAbbr,ACC.DocPrefix,CONVERT(BIGINT,ACC.DocNumber)
 FROM ACC_DocDetails ACC with(nolock) left join ADM_Users T1 with(nolock) on ACC.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on ACC.AccDocDetailsID=TDCC.AccDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on ACC.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (ACC.CostCenterID=40019) AND T4.Status=''Unapproved'' AND ACC.LinkedAccDocDetailsID is null AND WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT ACC.VoucherNo,ACC.VersionNo,CONVERT(DATETIME,ACC.DocDate),ACC.DocAbbr,ACC.Amount,NULL,T1.UserName,T3.Name,ACC.CommonNarration,T4.Status,T5.Name,ACC.VoucherNo,ACC.DocAbbr,ACC.DocPrefix,CONVERT(BIGINT,ACC.DocNumber)
 FROM ACC_DocDetails ACC with(nolock) left join ADM_Users T1 with(nolock) on ACC.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on ACC.AccDocDetailsID=TDCC.AccDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on ACC.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (ACC.CostCenterID=41013) AND T4.Status=''Unapproved'' AND ACC.LinkedAccDocDetailsID is null AND WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef and ACC.CreatedDate+WF.CtWef<=convert(float,getdate()))) ORDER BY [Cdacb59b3f5e54f18b65dfc4cf3186555Abr] ,[Cdacb59b3f5e54f18b65dfc4cf3186555prf] ,[Cdacb59b3f5e54f18b65dfc4cf3186555dno]  
 DROP TABLE #TblUsrWF'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:17:06.501 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDAyMywiZXhwIjoxNzUyODQyODIzLCJpYXQiOjE3NTI4MTQwMjN9.tbt0DGq4e-j0uD5joIVc5UeoKEqtG3aNypHZy7KHTdA'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:17:07.938 | General Service|:: CompanyIndex:13 SpName: spDOC_GetDocumentDefinition 
 41025
 ,NULL
 ,NULL
 ,''
 ,1
 ,'admin'
 ,1
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:17:07.938 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDAyMywiZXhwIjoxNzUyODQyODIzLCJpYXQiOjE3NTI4MTQwMjN9.tbt0DGq4e-j0uD5joIVc5UeoKEqtG3aNypHZy7KHTdA'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:17:07.969 | General Service|:: CompanyIndex:13 SpName: spDoc_GetCurrencyExchangeRate 
 1
 ,'18-Jul-2025'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:17:07.985 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDAyMywiZXhwIjoxNzUyODQyODIzLCJpYXQiOjE3NTI4MTQwMjN9.tbt0DGq4e-j0uD5joIVc5UeoKEqtG3aNypHZy7KHTdA'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:17:08.001 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'SELECT Code FROM COM_Location WITH(NOLOCK) WHERE NodeID=27'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:17:08.001 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDAyMywiZXhwIjoxNzUyODQyODIzLCJpYXQiOjE3NTI4MTQwMjN9.tbt0DGq4e-j0uD5joIVc5UeoKEqtG3aNypHZy7KHTdA'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:17:08.016 | General Service|:: CompanyIndex:13 SpName: spDOC_GetDocumentPrefix 
 41025
 ,27
 ,''
 ,''
 ,'1'
 ,'1'
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:17:08.016 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDAyMywiZXhwIjoxNzUyODQyODIzLCJpYXQiOjE3NTI4MTQwMjN9.tbt0DGq4e-j0uD5joIVc5UeoKEqtG3aNypHZy7KHTdA'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:17:08.032 | General Service|:: CompanyIndex:13 SpName: spDOC_GetDueDate 
 55687
 ,27
 ,0
 ,0
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:17:08.032 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDAyMywiZXhwIjoxNzUyODQyODIzLCJpYXQiOjE3NTI4MTQwMjN9.tbt0DGq4e-j0uD5joIVc5UeoKEqtG3aNypHZy7KHTdA'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:17:08.032 | General Service|:: CompanyIndex:13 SpName: spDOC_GetCurrentCodeNumber 
 41025
 ,'023/25/'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:17:08.048 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDAyMywiZXhwIjoxNzUyODQyODIzLCJpYXQiOjE3NTI4MTQwMjN9.tbt0DGq4e-j0uD5joIVc5UeoKEqtG3aNypHZy7KHTdA'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:17:08.063 | General Service|:: CompanyIndex:13 SpName: spDOC_GetLinkReferenceData 
 566117
 ,41025
 ,55687
 ,'18/Jul/2025'
 ,55687
 ,'<XML><Row CostCenterID="50011" NODEID="1" /><Row CostCenterID="50002" NODEID="27" /><Row CostCenterID="50058" NODEID="1" /><Row CostCenterID="50059" NODEID="1" /><Row CostCenterID="50061" NODEID="11" /><Row CostCenterID="50062" NODEID="1" /></XML>'
 ,False
 ,'0'
 ,'0'
 ,'0'
 ,NULL
 ,'0'
 ,'0'
 ,'0'
 ,''
 ,'1'
 ,1
 ,'1'
[System: 192.168.1.54] DEBUG | 07-18-2025 10:17:08.063 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDAyMywiZXhwIjoxNzUyODQyODIzLCJpYXQiOjE3NTI4MTQwMjN9.tbt0DGq4e-j0uD5joIVc5UeoKEqtG3aNypHZy7KHTdA'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:17:08.095 | General Service|:: CompanyIndex:13 SpName: spADM_GetListViewDataByIDs 
 '<XML><Row CCID="50011"  TypeID="1"  DBColumnID="566213"  NodeID="1" /><Row CCID="2"  TypeID="10"  DBColumnID="566117"  NodeID="55687" /><Row CCID="2"  TypeID="100"  DBColumnID="566117"  NodeID="55687" /><Row CCID="2"  TypeID="10"  DBColumnID="566254"  NodeID="3" /><Row CCID="2"  TypeID="100"  DBColumnID="566254"  NodeID="3" /><Row CCID="50011"  TypeID="1"  DBColumnID="566213"  NodeID="1" /><Row CCID="50002"  TypeID="1"  DBColumnID="566204"  NodeID="27" /><Row CCID="50058"  TypeID="1"  DBColumnID="583442"  NodeID="1" /><Row CCID="50059"  TypeID="1"  DBColumnID="583494"  NodeID="1" /><Row CCID="50061"  TypeID="11"  DBColumnID="583598"  NodeID="11" /><Row CCID="50062"  TypeID="1"  DBColumnID="583650"  NodeID="1" /><Row CCID="50058"  TypeID="1"  DBColumnID="583713"  NodeID="1" /></XML>'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:17:08.095 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDAyMywiZXhwIjoxNzUyODQyODIzLCJpYXQiOjE3NTI4MTQwMjN9.tbt0DGq4e-j0uD5joIVc5UeoKEqtG3aNypHZy7KHTdA'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:17:08.110 | General Service|:: CompanyIndex:13 SpName: spADM_GetListViewDataByIDs 
 '<XML><Row CCID="50011"  TypeID="1"  DBColumnID="566213"  NodeID="1" /><Row CCID="2"  TypeID="10"  DBColumnID="566117"  NodeID="55687" /><Row CCID="2"  TypeID="100"  DBColumnID="566117"  NodeID="55687" /><Row CCID="2"  TypeID="10"  DBColumnID="566254"  NodeID="3" /><Row CCID="2"  TypeID="100"  DBColumnID="566254"  NodeID="3" /><Row CCID="50011"  TypeID="1"  DBColumnID="566213"  NodeID="1" /><Row CCID="50002"  TypeID="1"  DBColumnID="566204"  NodeID="27" /><Row CCID="50058"  TypeID="1"  DBColumnID="583442"  NodeID="1" /><Row CCID="50059"  TypeID="1"  DBColumnID="583494"  NodeID="1" /><Row CCID="50061"  TypeID="11"  DBColumnID="583598"  NodeID="11" /><Row CCID="50062"  TypeID="1"  DBColumnID="583650"  NodeID="1" /><Row CCID="50058"  TypeID="1"  DBColumnID="583713"  NodeID="1" /></XML>'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:17:08.126 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDAyMywiZXhwIjoxNzUyODQyODIzLCJpYXQiOjE3NTI4MTQwMjN9.tbt0DGq4e-j0uD5joIVc5UeoKEqtG3aNypHZy7KHTdA'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:17:08.141 | General Service|:: CompanyIndex:13 SpName: spDOC_GetLinkReferenceData 
 566117
 ,41025
 ,55687
 ,'18/Jul/2025'
 ,55687
 ,'<XML><Row CostCenterID="50011" NODEID="1" /><Row CostCenterID="50002" NODEID="27" /><Row CostCenterID="50058" NODEID="1" /><Row CostCenterID="50059" NODEID="1" /><Row CostCenterID="50061" NODEID="11" /><Row CostCenterID="50062" NODEID="1" /></XML>'
 ,False
 ,'0'
 ,'0'
 ,'0'
 ,NULL
 ,'0'
 ,'0'
 ,'0'
 ,''
 ,'1'
 ,1
 ,'1'
[System: 192.168.1.54] DEBUG | 07-18-2025 10:17:08.141 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDAyMywiZXhwIjoxNzUyODQyODIzLCJpYXQiOjE3NTI4MTQwMjN9.tbt0DGq4e-j0uD5joIVc5UeoKEqtG3aNypHZy7KHTdA'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:17:08.172 | General Service|:: CompanyIndex:13 SpName: spADM_GetListViewDataByIDs 
 '<XML><Row CCID="50011"  TypeID="1"  DBColumnID="566213"  NodeID="1" /><Row CCID="2"  TypeID="10"  DBColumnID="566117"  NodeID="55687" /><Row CCID="2"  TypeID="100"  DBColumnID="566117"  NodeID="55687" /><Row CCID="2"  TypeID="10"  DBColumnID="566254"  NodeID="3" /><Row CCID="2"  TypeID="100"  DBColumnID="566254"  NodeID="3" /><Row CCID="50011"  TypeID="1"  DBColumnID="566213"  NodeID="1" /><Row CCID="50002"  TypeID="1"  DBColumnID="566204"  NodeID="27" /><Row CCID="50058"  TypeID="1"  DBColumnID="583442"  NodeID="1" /><Row CCID="50059"  TypeID="1"  DBColumnID="583494"  NodeID="1" /><Row CCID="50061"  TypeID="11"  DBColumnID="583598"  NodeID="11" /><Row CCID="50062"  TypeID="1"  DBColumnID="583650"  NodeID="1" /><Row CCID="50058"  TypeID="1"  DBColumnID="583713"  NodeID="1" /></XML>'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:17:08.172 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDAyMywiZXhwIjoxNzUyODQyODIzLCJpYXQiOjE3NTI4MTQwMjN9.tbt0DGq4e-j0uD5joIVc5UeoKEqtG3aNypHZy7KHTdA'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:17:08.235 | General Service|:: CompanyIndex:13 SpName: spADM_GetCostCenterListViewData 
 500055
 ,'a.Name,a.Code,a.ccAlpha11'
 ,''
 ,''
 ,'Name'
 ,''
 ,60
 ,False
 ,''
 ,''
 ,''
 ,''
 ,''
 ,0
 ,False
 ,''
 ,''
 ,'1'
 ,'1'
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:17:08.235 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDAyMywiZXhwIjoxNzUyODQyODIzLCJpYXQiOjE3NTI4MTQwMjN9.tbt0DGq4e-j0uD5joIVc5UeoKEqtG3aNypHZy7KHTdA'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:17:10.141 | General Service|:: CompanyIndex:13 SpName: spDOC_GetInvDocument 
 41025
 ,'023/25/'
 ,'116'
 ,'1'
 ,0
 ,' and (a.CostCenterID=c.DocumentID or c.DocumentID=1) and (b.dcCCNID2=c.CCNID2 or c.CCNID2=0)'
 ,1
 ,1
 ,'admin'
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:17:10.141 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDAyMywiZXhwIjoxNzUyODQyODIzLCJpYXQiOjE3NTI4MTQwMjN9.tbt0DGq4e-j0uD5joIVc5UeoKEqtG3aNypHZy7KHTdA'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:17:10.188 | General Service|:: CompanyIndex:13 SpName: spADM_GetListViewDataByIDs 
 '<XML><Row CCID="50011"  TypeID="1"  DBColumnID="566213"  NodeID="1" /><Row CCID="2"  TypeID="10"  DBColumnID="566117"  NodeID="55687" /><Row CCID="2"  TypeID="100"  DBColumnID="566117"  NodeID="55687" /><Row CCID="2"  TypeID="10"  DBColumnID="566254"  NodeID="3" /><Row CCID="2"  TypeID="100"  DBColumnID="566254"  NodeID="3" /><Row CCID="50014"  TypeID="4"  DBColumnID="566216"  NodeID="10367" /><Row CCID="50009"  TypeID="3"  DBColumnID="566211"  NodeID="10570" /><Row CCID="50010"  TypeID="3"  DBColumnID="566212"  NodeID="51889" /><Row CCID="50018"  TypeID="1"  DBColumnID="566220"  NodeID="135" /><Row CCID="50070"  TypeID="1"  DBColumnID="598043"  NodeID="4" /><Row CCID="50011"  TypeID="1"  DBColumnID="566213"  NodeID="1" /><Row CCID="50014"  TypeID="4"  DBColumnID="566216"  NodeID="10367" /><Row CCID="50009"  TypeID="3"  DBColumnID="566211"  NodeID="10570" /><Row CCID="50010"  TypeID="3"  DBColumnID="566212"  NodeID="51889" /><Row CCID="50018"  TypeID="1"  DBColumnID="566220"  NodeID="135" /><Row CCID="50070"  TypeID="1"  DBColumnID="598043"  NodeID="4" /><Row CCID="50002"  TypeID="1"  DBColumnID="566204"  NodeID="27" /><Row CCID="50058"  TypeID="1"  DBColumnID="583442"  NodeID="1" /><Row CCID="50059"  TypeID="1"  DBColumnID="583494"  NodeID="1" /><Row CCID="50061"  TypeID="11"  DBColumnID="583598"  NodeID="11" /><Row CCID="50062"  TypeID="1"  DBColumnID="583650"  NodeID="1" /><Row CCID="50058"  TypeID="1"  DBColumnID="583713"  NodeID="1" /><Row CCID="44"  TypeID="122"  DBColumnID="566171"  NodeID="641" /><Row CCID="50060"  TypeID="1"  DBColumnID="583546"  NodeID="1" /></XML>'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:17:10.188 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDAyMywiZXhwIjoxNzUyODQyODIzLCJpYXQiOjE3NTI4MTQwMjN9.tbt0DGq4e-j0uD5joIVc5UeoKEqtG3aNypHZy7KHTdA'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:17:10.204 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select ParentNodeID NodeID from COM_CostCenterCostCenterMap where CostCenterID in (8,300) and ParentCostCenterId=50033 and NodeID=41025'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:17:10.204 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDAyMywiZXhwIjoxNzUyODQyODIzLCJpYXQiOjE3NTI4MTQwMjN9.tbt0DGq4e-j0uD5joIVc5UeoKEqtG3aNypHZy7KHTdA'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:17:10.219 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select ParentNodeID NodeID from COM_CostCenterCostCenterMap where CostCenterID in (8,300) and ParentCostCenterId=50033 and NodeID=41025'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:17:10.219 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDAyMywiZXhwIjoxNzUyODQyODIzLCJpYXQiOjE3NTI4MTQwMjN9.tbt0DGq4e-j0uD5joIVc5UeoKEqtG3aNypHZy7KHTdA'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:17:10.235 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select ParentNodeID NodeID from COM_CostCenterCostCenterMap where CostCenterID in (8,300) and ParentCostCenterId=50033 and NodeID=41025'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:17:10.235 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDAyMywiZXhwIjoxNzUyODQyODIzLCJpYXQiOjE3NTI4MTQwMjN9.tbt0DGq4e-j0uD5joIVc5UeoKEqtG3aNypHZy7KHTdA'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:17:10.250 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select ParentNodeID NodeID from COM_CostCenterCostCenterMap where CostCenterID in (8,300) and ParentCostCenterId=50033 and NodeID=41025'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:17:10.250 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDAyMywiZXhwIjoxNzUyODQyODIzLCJpYXQiOjE3NTI4MTQwMjN9.tbt0DGq4e-j0uD5joIVc5UeoKEqtG3aNypHZy7KHTdA'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:17:10.266 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select ParentNodeID NodeID from COM_CostCenterCostCenterMap where CostCenterID in (8,300) and ParentCostCenterId=50033 and NodeID=41025'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:17:10.266 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDAyMywiZXhwIjoxNzUyODQyODIzLCJpYXQiOjE3NTI4MTQwMjN9.tbt0DGq4e-j0uD5joIVc5UeoKEqtG3aNypHZy7KHTdA'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:17:10.266 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select ParentNodeID NodeID from COM_CostCenterCostCenterMap where CostCenterID in (8,300) and ParentCostCenterId=50033 and NodeID=41025'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:17:10.281 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDAyMywiZXhwIjoxNzUyODQyODIzLCJpYXQiOjE3NTI4MTQwMjN9.tbt0DGq4e-j0uD5joIVc5UeoKEqtG3aNypHZy7KHTdA'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:17:10.281 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select ParentNodeID NodeID from COM_CostCenterCostCenterMap where CostCenterID in (8,300) and ParentCostCenterId=50033 and NodeID=41025'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:17:10.281 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDAyMywiZXhwIjoxNzUyODQyODIzLCJpYXQiOjE3NTI4MTQwMjN9.tbt0DGq4e-j0uD5joIVc5UeoKEqtG3aNypHZy7KHTdA'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:17:10.297 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select ParentNodeID NodeID from COM_CostCenterCostCenterMap where CostCenterID in (8,300) and ParentCostCenterId=50033 and NodeID=41025'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:17:10.297 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDAyMywiZXhwIjoxNzUyODQyODIzLCJpYXQiOjE3NTI4MTQwMjN9.tbt0DGq4e-j0uD5joIVc5UeoKEqtG3aNypHZy7KHTdA'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:17:10.313 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select ParentNodeID NodeID from COM_CostCenterCostCenterMap where CostCenterID in (8,300) and ParentCostCenterId=50033 and NodeID=41025'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:17:10.313 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDAyMywiZXhwIjoxNzUyODQyODIzLCJpYXQiOjE3NTI4MTQwMjN9.tbt0DGq4e-j0uD5joIVc5UeoKEqtG3aNypHZy7KHTdA'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:17:10.313 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select ParentNodeID NodeID from COM_CostCenterCostCenterMap where CostCenterID in (8,300) and ParentCostCenterId=50033 and NodeID=41025'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:17:10.313 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDAyMywiZXhwIjoxNzUyODQyODIzLCJpYXQiOjE3NTI4MTQwMjN9.tbt0DGq4e-j0uD5joIVc5UeoKEqtG3aNypHZy7KHTdA'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:17:10.328 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select ParentNodeID NodeID from COM_CostCenterCostCenterMap where CostCenterID in (8,300) and ParentCostCenterId=50033 and NodeID=41025'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:17:10.328 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDAyMywiZXhwIjoxNzUyODQyODIzLCJpYXQiOjE3NTI4MTQwMjN9.tbt0DGq4e-j0uD5joIVc5UeoKEqtG3aNypHZy7KHTdA'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:17:10.344 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select ParentNodeID NodeID from COM_CostCenterCostCenterMap where CostCenterID in (8,300) and ParentCostCenterId=50033 and NodeID=41025'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:17:10.344 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDAyMywiZXhwIjoxNzUyODQyODIzLCJpYXQiOjE3NTI4MTQwMjN9.tbt0DGq4e-j0uD5joIVc5UeoKEqtG3aNypHZy7KHTdA'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:17:10.360 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select ParentNodeID NodeID from COM_CostCenterCostCenterMap where CostCenterID in (8,300) and ParentCostCenterId=50033 and NodeID=41025'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:17:10.360 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDAyMywiZXhwIjoxNzUyODQyODIzLCJpYXQiOjE3NTI4MTQwMjN9.tbt0DGq4e-j0uD5joIVc5UeoKEqtG3aNypHZy7KHTdA'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:17:10.438 | General Service|:: CompanyIndex:13 SpName: spADM_GetCostCenterListViewData 
 362
 ,'a.Name,a.Code'
 ,''
 ,''
 ,'Name'
 ,''
 ,60
 ,False
 ,''
 ,''
 ,'(CCNID9=10570)'
 ,''
 ,''
 ,0
 ,False
 ,''
 ,''
 ,'1'
 ,'1'
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:17:10.438 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDAyMywiZXhwIjoxNzUyODQyODIzLCJpYXQiOjE3NTI4MTQwMjN9.tbt0DGq4e-j0uD5joIVc5UeoKEqtG3aNypHZy7KHTdA'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:18:06.153 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:18:06.153 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDAyMywiZXhwIjoxNzUyODQyODIzLCJpYXQiOjE3NTI4MTQwMjN9.tbt0DGq4e-j0uD5joIVc5UeoKEqtG3aNypHZy7KHTdA'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:19:06.026 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:19:06.042 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDAyMywiZXhwIjoxNzUyODQyODIzLCJpYXQiOjE3NTI4MTQwMjN9.tbt0DGq4e-j0uD5joIVc5UeoKEqtG3aNypHZy7KHTdA'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:20:06.033 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:20:06.049 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDAyMywiZXhwIjoxNzUyODQyODIzLCJpYXQiOjE3NTI4MTQwMjN9.tbt0DGq4e-j0uD5joIVc5UeoKEqtG3aNypHZy7KHTdA'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:20:19.861 | General Service|:: CompanyIndex:0 SpName: spADM_GetClientUserDetails2C 
 'admin'
 ,1
 ,0
[System: 192.168.1.54] DEBUG | 07-18-2025 10:20:19.892 | General Service|:: CompanyIndex:0 SpName: spADM_UserLoginCheck 
 2
 ,'admin'
 ,0
 ,'192.168.1.54'
 ,'192.168.1.54'
 ,''
 ,'Web'
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:20:23.107 | General Service|:: CompanyIndex:13 SpName: spADM_GetClientUserDetails 
 'admin'
 ,1
 ,'26.1.0'
 ,0
[System: 192.168.1.54] DEBUG | 07-18-2025 10:20:23.154 | General Service|:: CompanyIndex:0 SpName: spADM_UserLoginCheck 
 2
 ,'admin'
 ,13
 ,'192.168.1.54'
 ,'192.168.1.54'
 ,''
 ,'Web'
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:20:23.154 | General Service|:: CompanyIndex:0 SpName: spADM_Login 
 1
 ,''
 ,''
 ,''
 ,''
 ,''
 ,13
[System: 192.168.1.54] DEBUG | 07-18-2025 10:20:23.170 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select Value from ADM_GlobalPreferences with (nolock) where name =''EnableReLogin'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:20:23.170 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDIyMywiZXhwIjoxNzUyODQzMDIzLCJpYXQiOjE3NTI4MTQyMjN9.QHjPkTKCxHDHdo6G11vLsBlCBDTo9PjcClsW8T7JBKQ'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:20:23.217 | General Service|:: CompanyIndex:0 SpName: spADM_Login 
 4
 ,''
 ,''
 ,''
 ,'declare @Cnt int,@ExpiredGUID nvarchar(50),@AllowSession int,@GUID nvarchar(50),@CurrDate float,@UserID INT,@Instances INT,@InstancesExists INT,@LCDBIndex int
set @CurrDate= convert(float,dateadd(minute,-21,getdate()))
set @AllowSession=0
set @GUID=''2af74a4c-d392-44f2-a0ba-67781ee6984e''
set @LCDBIndex=0
select top 1 @UserID=UserID,@Instances=InstanceCount from ADM_Users with(nolock) where UserName=''admin''
if exists(select [GUID] from ADM_Login with(nolock) where [GUID]=@GUID)
begin
	update ADM_Login 
	set LastAccessTime=convert(float,getdate()),UserID=@UserID
	where [GUID]=@GUID
    set @AllowSession=1
end
else
begin
	select @Cnt=count(*) from ADM_Login with(nolock) where LCDBIndex=@LCDBIndex and [GUID]!=''ACCESSRIGHTS'' and AP =''WEB''
    if(@Cnt<100)
		set @AllowSession=1
	else
	begin
		select top 1 @ExpiredGUID=[GUID] from ADM_Login with(nolock)
		where [GUID]!=''ACCESSRIGHTS'' and LCDBIndex=@LCDBIndex and LastAccessTime<@CurrDate  and AP =''WEB''
        order by LastAccessTime asc
		if @ExpiredGUID is not null
		begin
			delete from ADM_Login where [GUID]=@ExpiredGUID
			set @AllowSession=1
		end
	end
	if @AllowSession=1
	begin
        select @InstancesExists=COUNT(*) from ADM_Login with(nolock)
		where [GUID]!=''ACCESSRIGHTS'' and LCDBIndex=@LCDBIndex and LastAccessTime>=@CurrDate and UserID=@UserID and AP =''WEB''
		if(@Instances!=0 and @Instances<=@InstancesExists)
			set @AllowSession=2
		else
		    INSERT INTO ADM_Login([GUID],[SysName],IPAddress,[Status],LoginTime,LastAccessTime,AccessRights,UserID,DBIndex,LCDBIndex,AP)
		    VALUES(@GUID,''WEB'',''192.168.1.54'',1,convert(float,getdate()),convert(float,getdate()),null,@UserID,13,@LCDBIndex, ''WEB'')
	end
end

select @AllowSession AllowSession,@Instances Instances,@InstancesExists InstancesExists
'
 ,''
 ,0
[System: 192.168.1.54] DEBUG | 07-18-2025 10:20:23.217 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDIyMywiZXhwIjoxNzUyODQzMDIzLCJpYXQiOjE3NTI4MTQyMjN9.QHjPkTKCxHDHdo6G11vLsBlCBDTo9PjcClsW8T7JBKQ'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:20:23.248 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'SELECT (SELECT COUNT(*) FROM COM_Location L WITH(NOLOCK) JOIN COM_Status S WITH(NOLOCK) ON S.StatusID=L.StatusID WHERE L.IsGroup=0 AND S.[Status]=''Active'') ML
,(SELECT COUNT(*) FROM ADM_Features WITH(NOLOCK) WHERE ((FeatureID>50000 AND FeatureID<=50050) OR FeatureID>=51000) AND IsEnabled=1) MD
,(SELECT ISNULL(COUNT(*),0) FROM ADM_RevenUReports WITH(NOLOCK) WHERE IsGroup=0 AND ReportID>10000 AND StaticReportType IN (0,-1)) MR'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:20:23.248 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDIyMywiZXhwIjoxNzUyODQzMDIzLCJpYXQiOjE3NTI4MTQyMjN9.QHjPkTKCxHDHdo6G11vLsBlCBDTo9PjcClsW8T7JBKQ'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:20:24.826 | General Service|:: CompanyIndex:13 SpName: spCOM_ConfigValues 
 1
 ,'NotifTime'
 ,''
[System: 192.168.1.54] DEBUG | 07-18-2025 10:20:24.826 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDIyMywiZXhwIjoxNzUyODQzMDIzLCJpYXQiOjE3NTI4MTQyMjN9.QHjPkTKCxHDHdo6G11vLsBlCBDTo9PjcClsW8T7JBKQ'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:20:25.014 | General Service|:: CompanyIndex:13 SpName: spADM_GetRibbonView 
 1
 ,1
 ,1
 ,1
 ,0
 ,''
[System: 192.168.1.54] DEBUG | 07-18-2025 10:20:25.014 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDIyMywiZXhwIjoxNzUyODQzMDIzLCJpYXQiOjE3NTI4MTQyMjN9.QHjPkTKCxHDHdo6G11vLsBlCBDTo9PjcClsW8T7JBKQ'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:20:25.201 | General Service|:: CompanyIndex:13 SpName: spRPT_GetReport 
 2
 ,0
 ,'1'
 ,'1'
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:20:25.217 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDIyMywiZXhwIjoxNzUyODQzMDIzLCJpYXQiOjE3NTI4MTQyMjN9.QHjPkTKCxHDHdo6G11vLsBlCBDTo9PjcClsW8T7JBKQ'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:20:25.232 | General Service|:: CompanyIndex:13 SpName: spADM_GetDashBoard 
 2
 ,0
 ,0
 ,'1'
 ,'1'
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:20:25.248 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDIyMywiZXhwIjoxNzUyODQzMDIzLCJpYXQiOjE3NTI4MTQyMjN9.QHjPkTKCxHDHdo6G11vLsBlCBDTo9PjcClsW8T7JBKQ'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:20:25.263 | General Service|:: CompanyIndex:13 SpName: spCOM_ConfigValues 
 1
 ,'LandingDocs'
 ,'1'
[System: 192.168.1.54] DEBUG | 07-18-2025 10:20:25.263 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDIyMywiZXhwIjoxNzUyODQzMDIzLCJpYXQiOjE3NTI4MTQyMjN9.QHjPkTKCxHDHdo6G11vLsBlCBDTo9PjcClsW8T7JBKQ'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:20:25.295 | General Service|:: CompanyIndex:13 SpName: spADM_GetAllListViewsDef 
 1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:20:25.295 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDIyMywiZXhwIjoxNzUyODQzMDIzLCJpYXQiOjE3NTI4MTQyMjN9.QHjPkTKCxHDHdo6G11vLsBlCBDTo9PjcClsW8T7JBKQ'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:20:25.310 | General Service|:: CompanyIndex:13 SpName: spCOM_GetFavorites 
 'GETLIST0'
 ,0
 ,'1'
 ,'1'
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:20:25.310 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDIyMywiZXhwIjoxNzUyODQzMDIzLCJpYXQiOjE3NTI4MTQyMjN9.QHjPkTKCxHDHdo6G11vLsBlCBDTo9PjcClsW8T7JBKQ'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:20:25.373 | General Service|:: CompanyIndex:13 SpName: spADM_GetAllListViewsDef 
 1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:20:25.373 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDIyMywiZXhwIjoxNzUyODQzMDIzLCJpYXQiOjE3NTI4MTQyMjN9.QHjPkTKCxHDHdo6G11vLsBlCBDTo9PjcClsW8T7JBKQ'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:20:25.482 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'Select CostCenterID,CostCenterColID,CostCenterName,SysTableName,UserColumnName,SysColumnName,ISNULL(UserDefaultValue,'''') UserDefaultValue
From AdM_CostCenterDef WITH(NOLOCK)
Where SysColumnName IN(''CreditAccount'',''DebitAccount'',''ProductID'') 
AND CostCenterID>40000 AND CostCenterID<50000 

SELECT * FROM ADM_Features WITH(NOLOCK) '
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:20:25.482 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDIyMywiZXhwIjoxNzUyODQzMDIzLCJpYXQiOjE3NTI4MTQyMjN9.QHjPkTKCxHDHdo6G11vLsBlCBDTo9PjcClsW8T7JBKQ'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:20:25.529 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 '  SELECT * FROM PAY_PayrollPreferences WITH(NOLOCK) '
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:20:25.529 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDIyMywiZXhwIjoxNzUyODQzMDIzLCJpYXQiOjE3NTI4MTQyMjN9.QHjPkTKCxHDHdo6G11vLsBlCBDTo9PjcClsW8T7JBKQ'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:20:25.545 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 '  --0
                                Select * FROM COM_CC50051 WITH(NOLOCK) WHERE IsGroup=0 AND LoginUserID=''admin''
                                --1                                
                                Select * FROM COM_CC50051 WITH(NOLOCK) WHERE RptManager IN (Select NodeID FROM COM_CC50051 WITH(NOLOCK) WHERE IsGroup=0 AND LoginUserID=''admin'')
                                UNION ALL
                                Select * FROM COM_CC50051 WITH(NOLOCK) WHERE RptManager IN 
                                (
	                                Select NodeID FROM COM_CC50051 WITH(NOLOCK) 
	                                WHERE IsGroup=0 AND LoginUserID IN
	                                (
	                                SELECT fe.LoginUserID
	                                FROM INV_DocDetails a WITH(NOLOCK) 
	                                JOIN COM_DocCCData b WITH(NOLOCK) ON b.InvDocDetailsID=a.InvDocDetailsID
	                                JOIN COM_DocNumData c WITH(NOLOCK) ON c.InvDocDetailsID=a.InvDocDetailsID
	                                JOIN COM_DocTextData d WITH(NOLOCK) ON d.InvDocDetailsID=a.InvDocDetailsID
	                                JOIN COM_CC50051 fe WITH(NOLOCK) on fe.NodeID=b.dcCCNID51
	                                JOIN COM_CC50051 te WITH(NOLOCK) on CONVERT(NVARCHAR,te.NodeID)=d.dcAlpha1
	                                WHERE a.CostCenterID=40098 and a.StatusID=369 AND d.dcAlpha3=''Temporary''
	                                AND te.LoginUserID=''admin'' 
	                                AND ISDATE(d.dcAlpha4)=1 AND ISDATE(d.dcAlpha5)=1 
	                                AND CONVERT(DATETIME,''18 Jul 2025'') BETWEEN CONVERT(DATETIME,d.dcAlpha4) AND CONVERT(DATETIME,d.dcAlpha5)
	                                )
                                )
                                --2
                                Select * FROM ADM_USERS WITH(NOLOCK) WHERE USERID=1
                                --3
                                Select * FROM COM_CostCenterCostCenterMap WITH(NOLOCK) WHERE ParentCostCenterID=7 AND ParentNodeID=1
                                --4                                
                                Select * FROM COM_CostCenterCostCenterMap WITH(NOLOCK) WHERE ParentCostCenterID=7 AND ParentNodeID=1
                                AND CostCenterID IN(Select ColumnCostCenterID From ADM_CostCenterDef Where CostCenterID=50051 AND IsColumnInUse=1 AND SysColumnName LIKE ''CCNID%'')
                                --5
                                Select * from COM_Files WITH(NOLOCK) WHERE FeatureID=50051 AND FeaturePK IN (Select NodeID FROM COM_CC50051 WITH(NOLOCK) WHERE IsGroup=0 AND LoginUserID=''admin'')                         
'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:20:25.545 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDIyMywiZXhwIjoxNzUyODQzMDIzLCJpYXQiOjE3NTI4MTQyMjN9.QHjPkTKCxHDHdo6G11vLsBlCBDTo9PjcClsW8T7JBKQ'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:20:25.795 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:20:25.810 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDIyMywiZXhwIjoxNzUyODQzMDIzLCJpYXQiOjE3NTI4MTQyMjN9.QHjPkTKCxHDHdo6G11vLsBlCBDTo9PjcClsW8T7JBKQ'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:20:25.935 | General Service|:: CompanyIndex:13 SpName: spADM_GetDashBoard 
 1
 ,8
 ,0
 ,'1'
 ,'1'
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:20:25.935 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDIyMywiZXhwIjoxNzUyODQzMDIzLCJpYXQiOjE3NTI4MTQyMjN9.QHjPkTKCxHDHdo6G11vLsBlCBDTo9PjcClsW8T7JBKQ'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:20:25.951 | General Service|:: CompanyIndex:13 SpName: spRPT_GetReport 
 0
 ,30456
 ,'1'
 ,'1'
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:20:25.951 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDIyMywiZXhwIjoxNzUyODQzMDIzLCJpYXQiOjE3NTI4MTQyMjN9.QHjPkTKCxHDHdo6G11vLsBlCBDTo9PjcClsW8T7JBKQ'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:20:26.045 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'SELECT StaticReportType FROM ADM_RevenUReports WITH(NOLOCK) WHERE ReportID=30456'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:20:26.060 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDIyMywiZXhwIjoxNzUyODQzMDIzLCJpYXQiOjE3NTI4MTQyMjN9.QHjPkTKCxHDHdo6G11vLsBlCBDTo9PjcClsW8T7JBKQ'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:20:26.154 | General Service|:: CompanyIndex:13 SpName: spRPT_GetReportCategoryandField 
 -1
 ,0
 ,1
 ,0
 ,'1'
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:20:26.170 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDIyMywiZXhwIjoxNzUyODQzMDIzLCJpYXQiOjE3NTI4MTQyMjN9.QHjPkTKCxHDHdo6G11vLsBlCBDTo9PjcClsW8T7JBKQ'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:20:26.201 | General Service|:: CompanyIndex:13 SpName: spRPT_GetReportFields 
 400
 ,0
 ,'1'
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:20:26.201 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDIyMywiZXhwIjoxNzUyODQzMDIzLCJpYXQiOjE3NTI4MTQyMjN9.QHjPkTKCxHDHdo6G11vLsBlCBDTo9PjcClsW8T7JBKQ'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:20:26.248 | General Service|:: CompanyIndex:13 SpName: spRPT_GetReportData 
 9
 ,1
 ,'<XML UID="1" ShowMyQueue="0"></XML>'
 ,'1'
[System: 192.168.1.54] DEBUG | 07-18-2025 10:20:26.248 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDIyMywiZXhwIjoxNzUyODQzMDIzLCJpYXQiOjE3NTI4MTQyMjN9.QHjPkTKCxHDHdo6G11vLsBlCBDTo9PjcClsW8T7JBKQ'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:20:26.404 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
                EXEC spRPT_GetReportData @Type=8,@Param1=1,@strXML=null,@RoleID=1
SELECT ACC.VoucherNo [C858bdfa70f884b78b8ec0453808910bb],ACC.VersionNo [C858bdfa70f884b78b8ec0453808910bbVer],CONVERT(DATETIME,ACC.DocDate) [Cf4c1ff96517a40978b75103376667aae],ACC.DocAbbr [C501419b9c341410d8920b953fb30cfbf],ACC.Amount [Cfa623191688842d5ac3c0cd9232cfb2e],NULL [C90a85d26ad47471988897309a5c78218],T1.UserName [Cd0c4cb9a7057416ca691fb5c4774545b],T3.Name [C80a6de4371d045c08bf9d035c1831959],ACC.CommonNarration [Ce66e27446651436893b0d2c967dd0ecb],T4.Status [Ca7da089a0bd542838ddeb39e78a982ea],T5.Name [Cff89130f277d4635b5e1c5e6887cbcb5],ACC.VoucherNo [Cdacb59b3f5e54f18b65dfc4cf3186555],ACC.DocAbbr [Cdacb59b3f5e54f18b65dfc4cf3186555Abr],ACC.DocPrefix [Cdacb59b3f5e54f18b65dfc4cf3186555prf],CONVERT(BIGINT,ACC.DocNumber) [Cdacb59b3f5e54f18b65dfc4cf3186555dno]
 FROM ACC_DocDetails ACC with(nolock) left join ADM_Users T1 with(nolock) on ACC.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on ACC.AccDocDetailsID=TDCC.AccDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on ACC.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (ACC.CostCenterID=41053) AND T4.Status=''Unapproved'' AND ACC.LinkedAccDocDetailsID is null AND WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT ACC.VoucherNo,ACC.VersionNo,CONVERT(DATETIME,ACC.DocDate),ACC.DocAbbr,ACC.Amount,NULL,T1.UserName,T3.Name,ACC.CommonNarration,T4.Status,T5.Name,ACC.VoucherNo,ACC.DocAbbr,ACC.DocPrefix,CONVERT(BIGINT,ACC.DocNumber)
 FROM ACC_DocDetails ACC with(nolock) left join ADM_Users T1 with(nolock) on ACC.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on ACC.AccDocDetailsID=TDCC.AccDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on ACC.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (ACC.CostCenterID=41061) AND T4.Status=''Unapproved'' AND ACC.LinkedAccDocDetailsID is null AND WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT ACC.VoucherNo,ACC.VersionNo,CONVERT(DATETIME,ACC.DocDate),ACC.DocAbbr,ACC.Amount,NULL,T1.UserName,T3.Name,ACC.CommonNarration,T4.Status,T5.Name,ACC.VoucherNo,ACC.DocAbbr,ACC.DocPrefix,CONVERT(BIGINT,ACC.DocNumber)
 FROM ACC_DocDetails ACC with(nolock) left join ADM_Users T1 with(nolock) on ACC.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on ACC.AccDocDetailsID=TDCC.AccDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on ACC.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (ACC.CostCenterID=40023) AND T4.Status=''Unapproved'' AND ACC.LinkedAccDocDetailsID is null AND WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT ACC.VoucherNo,ACC.VersionNo,CONVERT(DATETIME,ACC.DocDate),ACC.DocAbbr,ACC.Amount,NULL,T1.UserName,T3.Name,ACC.CommonNarration,T4.Status,T5.Name,ACC.VoucherNo,ACC.DocAbbr,ACC.DocPrefix,CONVERT(BIGINT,ACC.DocNumber)
 FROM ACC_DocDetails ACC with(nolock) left join ADM_Users T1 with(nolock) on ACC.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on ACC.AccDocDetailsID=TDCC.AccDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on ACC.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (ACC.CostCenterID=41064) AND T4.Status=''Unapproved'' AND ACC.LinkedAccDocDetailsID is null AND WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT ACC.VoucherNo,ACC.VersionNo,CONVERT(DATETIME,ACC.DocDate),ACC.DocAbbr,ACC.Amount,NULL,T1.UserName,T3.Name,ACC.CommonNarration,T4.Status,T5.Name,ACC.VoucherNo,ACC.DocAbbr,ACC.DocPrefix,CONVERT(BIGINT,ACC.DocNumber)
 FROM ACC_DocDetails ACC with(nolock) left join ADM_Users T1 with(nolock) on ACC.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on ACC.AccDocDetailsID=TDCC.AccDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on ACC.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (ACC.CostCenterID=41006) AND T4.Status=''Unapproved'' AND ACC.LinkedAccDocDetailsID is null AND WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT ACC.VoucherNo,ACC.VersionNo,CONVERT(DATETIME,ACC.DocDate),ACC.DocAbbr,ACC.Amount,NULL,T1.UserName,T3.Name,ACC.CommonNarration,T4.Status,T5.Name,ACC.VoucherNo,ACC.DocAbbr,ACC.DocPrefix,CONVERT(BIGINT,ACC.DocNumber)
 FROM ACC_DocDetails ACC with(nolock) left join ADM_Users T1 with(nolock) on ACC.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on ACC.AccDocDetailsID=TDCC.AccDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on ACC.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (ACC.CostCenterID=40022) AND T4.Status=''Unapproved'' AND ACC.LinkedAccDocDetailsID is null AND WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT ACC.VoucherNo,ACC.VersionNo,CONVERT(DATETIME,ACC.DocDate),ACC.DocAbbr,ACC.Amount,NULL,T1.UserName,T3.Name,ACC.CommonNarration,T4.Status,T5.Name,ACC.VoucherNo,ACC.DocAbbr,ACC.DocPrefix,CONVERT(BIGINT,ACC.DocNumber)
 FROM ACC_DocDetails ACC with(nolock) left join ADM_Users T1 with(nolock) on ACC.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on ACC.AccDocDetailsID=TDCC.AccDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on ACC.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (ACC.CostCenterID=41075) AND T4.Status=''Unapproved'' AND ACC.LinkedAccDocDetailsID is null AND WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT ACC.VoucherNo,ACC.VersionNo,CONVERT(DATETIME,ACC.DocDate),ACC.DocAbbr,ACC.Amount,NULL,T1.UserName,T3.Name,ACC.CommonNarration,T4.Status,T5.Name,ACC.VoucherNo,ACC.DocAbbr,ACC.DocPrefix,CONVERT(BIGINT,ACC.DocNumber)
 FROM ACC_DocDetails ACC with(nolock) left join ADM_Users T1 with(nolock) on ACC.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on ACC.AccDocDetailsID=TDCC.AccDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on ACC.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (ACC.CostCenterID=41077) AND T4.Status=''Unapproved'' AND ACC.LinkedAccDocDetailsID is null AND WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT ACC.VoucherNo,ACC.VersionNo,CONVERT(DATETIME,ACC.DocDate),ACC.DocAbbr,ACC.Amount,NULL,T1.UserName,T3.Name,ACC.CommonNarration,T4.Status,T5.Name,ACC.VoucherNo,ACC.DocAbbr,ACC.DocPrefix,CONVERT(BIGINT,ACC.DocNumber)
 FROM ACC_DocDetails ACC with(nolock) left join ADM_Users T1 with(nolock) on ACC.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on ACC.AccDocDetailsID=TDCC.AccDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on ACC.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (ACC.CostCenterID=40014) AND T4.Status=''Unapproved'' AND ACC.LinkedAccDocDetailsID is null AND WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT ACC.VoucherNo,ACC.VersionNo,CONVERT(DATETIME,ACC.DocDate),ACC.DocAbbr,ACC.Amount,NULL,T1.UserName,T3.Name,ACC.CommonNarration,T4.Status,T5.Name,ACC.VoucherNo,ACC.DocAbbr,ACC.DocPrefix,CONVERT(BIGINT,ACC.DocNumber)
 FROM ACC_DocDetails ACC with(nolock) left join ADM_Users T1 with(nolock) on ACC.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on ACC.AccDocDetailsID=TDCC.AccDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on ACC.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (ACC.CostCenterID=41065) AND T4.Status=''Unapproved'' AND ACC.LinkedAccDocDetailsID is null AND WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT ACC.VoucherNo,ACC.VersionNo,CONVERT(DATETIME,ACC.DocDate),ACC.DocAbbr,ACC.Amount,NULL,T1.UserName,T3.Name,ACC.CommonNarration,T4.Status,T5.Name,ACC.VoucherNo,ACC.DocAbbr,ACC.DocPrefix,CONVERT(BIGINT,ACC.DocNumber)
 FROM ACC_DocDetails ACC with(nolock) left join ADM_Users T1 with(nolock) on ACC.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on ACC.AccDocDetailsID=TDCC.AccDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on ACC.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (ACC.CostCenterID=40017) AND T4.Status=''Unapproved'' AND ACC.LinkedAccDocDetailsID is null AND WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT INV.VoucherNo,INV.VersionNo,CONVERT(DATETIME,INV.DocDate),INV.DocAbbr,NULL,CASE WHEN (SELECT DocumentType FROM ADM_DocumentTypes WITH(NOLOCK) WHERE CostCenterID=INV.CostCenterID)=38 AND VoucherType=1 THEN -INV.Gross ELSE INV.Gross END,T1.UserName,T3.Name,INV.CommonNarration,T4.Status,T5.Name,INV.VoucherNo,INV.DocAbbr,INV.DocPrefix,CONVERT(BIGINT,INV.DocNumber)
 FROM INV_DocDetails INV with(nolock) left join ADM_Users T1 with(nolock) on INV.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on INV.InvDocDetailsID=TDCC.InvDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on INV.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (INV.CostCenterID=41018) AND T4.Status=''Unapproved'' AND WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef and INV.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT INV.VoucherNo,INV.VersionNo,CONVERT(DATETIME,INV.DocDate),INV.DocAbbr,NULL,CASE WHEN (SELECT DocumentType FROM ADM_DocumentTypes WITH(NOLOCK) WHERE CostCenterID=INV.CostCenterID)=38 AND VoucherType=1 THEN -INV.Gross ELSE INV.Gross END,T1.UserName,T3.Name,INV.CommonNarration,T4.Status,T5.Name,INV.VoucherNo,INV.DocAbbr,INV.DocPrefix,CONVERT(BIGINT,INV.DocNumber)
 FROM INV_DocDetails INV with(nolock) left join ADM_Users T1 with(nolock) on INV.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on INV.InvDocDetailsID=TDCC.InvDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on INV.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (INV.CostCenterID=40011) AND T4.Status=''Unapproved'' AND WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef and INV.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT INV.VoucherNo,INV.VersionNo,CONVERT(DATETIME,INV.DocDate),INV.DocAbbr,NULL,CASE WHEN (SELECT DocumentType FROM ADM_DocumentTypes WITH(NOLOCK) WHERE CostCenterID=INV.CostCenterID)=38 AND VoucherType=1 THEN -INV.Gross ELSE INV.Gross END,T1.UserName,T3.Name,INV.CommonNarration,T4.Status,T5.Name,INV.VoucherNo,INV.DocAbbr,INV.DocPrefix,CONVERT(BIGINT,INV.DocNumber)
 FROM INV_DocDetails INV with(nolock) left join ADM_Users T1 with(nolock) on INV.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on INV.InvDocDetailsID=TDCC.InvDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on INV.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (INV.CostCenterID=41072) AND T4.Status=''Unapproved'' AND WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef and INV.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT INV.VoucherNo,INV.VersionNo,CONVERT(DATETIME,INV.DocDate),INV.DocAbbr,NULL,CASE WHEN (SELECT DocumentType FROM ADM_DocumentTypes WITH(NOLOCK) WHERE CostCenterID=INV.CostCenterID)=38 AND VoucherType=1 THEN -INV.Gross ELSE INV.Gross END,T1.UserName,T3.Name,INV.CommonNarration,T4.Status,T5.Name,INV.VoucherNo,INV.DocAbbr,INV.DocPrefix,CONVERT(BIGINT,INV.DocNumber)
 FROM INV_DocDetails INV with(nolock) left join ADM_Users T1 with(nolock) on INV.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on INV.InvDocDetailsID=TDCC.InvDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on INV.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (INV.CostCenterID=41057) AND T4.Status=''Unapproved'' AND WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef and INV.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT INV.VoucherNo,INV.VersionNo,CONVERT(DATETIME,INV.DocDate),INV.DocAbbr,NULL,CASE WHEN (SELECT DocumentType FROM ADM_DocumentTypes WITH(NOLOCK) WHERE CostCenterID=INV.CostCenterID)=38 AND VoucherType=1 THEN -INV.Gross ELSE INV.Gross END,T1.UserName,T3.Name,INV.CommonNarration,T4.Status,T5.Name,INV.VoucherNo,INV.DocAbbr,INV.DocPrefix,CONVERT(BIGINT,INV.DocNumber)
 FROM INV_DocDetails INV with(nolock) left join ADM_Users T1 with(nolock) on INV.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on INV.InvDocDetailsID=TDCC.InvDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on INV.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (INV.CostCenterID=41060) AND T4.Status=''Unapproved'' AND WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef and INV.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT INV.VoucherNo,INV.VersionNo,CONVERT(DATETIME,INV.DocDate),INV.DocAbbr,NULL,CASE WHEN (SELECT DocumentType FROM ADM_DocumentTypes WITH(NOLOCK) WHERE CostCenterID=INV.CostCenterID)=38 AND VoucherType=1 THEN -INV.Gross ELSE INV.Gross END,T1.UserName,T3.Name,INV.CommonNarration,T4.Status,T5.Name,INV.VoucherNo,INV.DocAbbr,INV.DocPrefix,CONVERT(BIGINT,INV.DocNumber)
 FROM INV_DocDetails INV with(nolock) left join ADM_Users T1 with(nolock) on INV.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on INV.InvDocDetailsID=TDCC.InvDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on INV.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (INV.CostCenterID=40001) AND T4.Status=''Unapproved'' AND WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef and INV.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT INV.VoucherNo,INV.VersionNo,CONVERT(DATETIME,INV.DocDate),INV.DocAbbr,NULL,CASE WHEN (SELECT DocumentType FROM ADM_DocumentTypes WITH(NOLOCK) WHERE CostCenterID=INV.CostCenterID)=38 AND VoucherType=1 THEN -INV.Gross ELSE INV.Gross END,T1.UserName,T3.Name,INV.CommonNarration,T4.Status,T5.Name,INV.VoucherNo,INV.DocAbbr,INV.DocPrefix,CONVERT(BIGINT,INV.DocNumber)
 FROM INV_DocDetails INV with(nolock) left join ADM_Users T1 with(nolock) on INV.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on INV.InvDocDetailsID=TDCC.InvDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on INV.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (INV.CostCenterID=41054) AND T4.Status=''Unapproved'' AND WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef and INV.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT ACC.VoucherNo,ACC.VersionNo,CONVERT(DATETIME,ACC.DocDate),ACC.DocAbbr,ACC.Amount,NULL,T1.UserName,T3.Name,ACC.CommonNarration,T4.Status,T5.Name,ACC.VoucherNo,ACC.DocAbbr,ACC.DocPrefix,CONVERT(BIGINT,ACC.DocNumber)
 FROM ACC_DocDetails ACC with(nolock) left join ADM_Users T1 with(nolock) on ACC.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on ACC.AccDocDetailsID=TDCC.AccDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on ACC.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (ACC.CostCenterID=41033) AND T4.Status=''Unapproved'' AND ACC.LinkedAccDocDetailsID is null AND WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT ACC.VoucherNo,ACC.VersionNo,CONVERT(DATETIME,ACC.DocDate),ACC.DocAbbr,ACC.Amount,NULL,T1.UserName,T3.Name,ACC.CommonNarration,T4.Status,T5.Name,ACC.VoucherNo,ACC.DocAbbr,ACC.DocPrefix,CONVERT(BIGINT,ACC.DocNumber)
 FROM ACC_DocDetails ACC with(nolock) left join ADM_Users T1 with(nolock) on ACC.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on ACC.AccDocDetailsID=TDCC.AccDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on ACC.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (ACC.CostCenterID=40019) AND T4.Status=''Unapproved'' AND ACC.LinkedAccDocDetailsID is null AND WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT ACC.VoucherNo,ACC.VersionNo,CONVERT(DATETIME,ACC.DocDate),ACC.DocAbbr,ACC.Amount,NULL,T1.UserName,T3.Name,ACC.CommonNarration,T4.Status,T5.Name,ACC.VoucherNo,ACC.DocAbbr,ACC.DocPrefix,CONVERT(BIGINT,ACC.DocNumber)
 FROM ACC_DocDetails ACC with(nolock) left join ADM_Users T1 with(nolock) on ACC.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on ACC.AccDocDetailsID=TDCC.AccDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on ACC.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (ACC.CostCenterID=41013) AND T4.Status=''Unapproved'' AND ACC.LinkedAccDocDetailsID is null AND WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef and ACC.CreatedDate+WF.CtWef<=convert(float,getdate()))) ORDER BY [Cdacb59b3f5e54f18b65dfc4cf3186555Abr] ,[Cdacb59b3f5e54f18b65dfc4cf3186555prf] ,[Cdacb59b3f5e54f18b65dfc4cf3186555dno]  
 DROP TABLE #TblUsrWF'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:20:26.404 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDIyMywiZXhwIjoxNzUyODQzMDIzLCJpYXQiOjE3NTI4MTQyMjN9.QHjPkTKCxHDHdo6G11vLsBlCBDTo9PjcClsW8T7JBKQ'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:20:27.700 | General Service|:: CompanyIndex:13 SpName: spDOC_GetDocumentDefinition 
 41025
 ,NULL
 ,NULL
 ,''
 ,1
 ,'admin'
 ,1
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:20:27.700 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDIyMywiZXhwIjoxNzUyODQzMDIzLCJpYXQiOjE3NTI4MTQyMjN9.QHjPkTKCxHDHdo6G11vLsBlCBDTo9PjcClsW8T7JBKQ'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:20:27.747 | General Service|:: CompanyIndex:13 SpName: spDoc_GetCurrencyExchangeRate 
 1
 ,'18-Jul-2025'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:20:27.747 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDIyMywiZXhwIjoxNzUyODQzMDIzLCJpYXQiOjE3NTI4MTQyMjN9.QHjPkTKCxHDHdo6G11vLsBlCBDTo9PjcClsW8T7JBKQ'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:20:27.779 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'SELECT Code FROM COM_Location WITH(NOLOCK) WHERE NodeID=27'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:20:27.779 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDIyMywiZXhwIjoxNzUyODQzMDIzLCJpYXQiOjE3NTI4MTQyMjN9.QHjPkTKCxHDHdo6G11vLsBlCBDTo9PjcClsW8T7JBKQ'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:20:27.779 | General Service|:: CompanyIndex:13 SpName: spDOC_GetDocumentPrefix 
 41025
 ,27
 ,''
 ,''
 ,'1'
 ,'1'
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:20:27.779 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDIyMywiZXhwIjoxNzUyODQzMDIzLCJpYXQiOjE3NTI4MTQyMjN9.QHjPkTKCxHDHdo6G11vLsBlCBDTo9PjcClsW8T7JBKQ'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:20:27.794 | General Service|:: CompanyIndex:13 SpName: spDOC_GetDueDate 
 55687
 ,27
 ,0
 ,0
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:20:27.794 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDIyMywiZXhwIjoxNzUyODQzMDIzLCJpYXQiOjE3NTI4MTQyMjN9.QHjPkTKCxHDHdo6G11vLsBlCBDTo9PjcClsW8T7JBKQ'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:20:27.810 | General Service|:: CompanyIndex:13 SpName: spDOC_GetCurrentCodeNumber 
 41025
 ,'023/25/'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:20:27.810 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDIyMywiZXhwIjoxNzUyODQzMDIzLCJpYXQiOjE3NTI4MTQyMjN9.QHjPkTKCxHDHdo6G11vLsBlCBDTo9PjcClsW8T7JBKQ'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:20:27.825 | General Service|:: CompanyIndex:13 SpName: spDOC_GetLinkReferenceData 
 566117
 ,41025
 ,55687
 ,'18/Jul/2025'
 ,55687
 ,'<XML><Row CostCenterID="50011" NODEID="1" /><Row CostCenterID="50002" NODEID="27" /><Row CostCenterID="50058" NODEID="1" /><Row CostCenterID="50059" NODEID="1" /><Row CostCenterID="50061" NODEID="11" /><Row CostCenterID="50062" NODEID="1" /></XML>'
 ,False
 ,'0'
 ,'0'
 ,'0'
 ,NULL
 ,'0'
 ,'0'
 ,'0'
 ,''
 ,'1'
 ,1
 ,'1'
[System: 192.168.1.54] DEBUG | 07-18-2025 10:20:27.825 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDIyMywiZXhwIjoxNzUyODQzMDIzLCJpYXQiOjE3NTI4MTQyMjN9.QHjPkTKCxHDHdo6G11vLsBlCBDTo9PjcClsW8T7JBKQ'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:20:27.857 | General Service|:: CompanyIndex:13 SpName: spADM_GetListViewDataByIDs 
 '<XML><Row CCID="50011"  TypeID="1"  DBColumnID="566213"  NodeID="1" /><Row CCID="2"  TypeID="10"  DBColumnID="566117"  NodeID="55687" /><Row CCID="2"  TypeID="100"  DBColumnID="566117"  NodeID="55687" /><Row CCID="2"  TypeID="10"  DBColumnID="566254"  NodeID="3" /><Row CCID="2"  TypeID="100"  DBColumnID="566254"  NodeID="3" /><Row CCID="50011"  TypeID="1"  DBColumnID="566213"  NodeID="1" /><Row CCID="50002"  TypeID="1"  DBColumnID="566204"  NodeID="27" /><Row CCID="50058"  TypeID="1"  DBColumnID="583442"  NodeID="1" /><Row CCID="50059"  TypeID="1"  DBColumnID="583494"  NodeID="1" /><Row CCID="50061"  TypeID="11"  DBColumnID="583598"  NodeID="11" /><Row CCID="50062"  TypeID="1"  DBColumnID="583650"  NodeID="1" /><Row CCID="50058"  TypeID="1"  DBColumnID="583713"  NodeID="1" /></XML>'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:20:27.857 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDIyMywiZXhwIjoxNzUyODQzMDIzLCJpYXQiOjE3NTI4MTQyMjN9.QHjPkTKCxHDHdo6G11vLsBlCBDTo9PjcClsW8T7JBKQ'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:20:27.872 | General Service|:: CompanyIndex:13 SpName: spADM_GetListViewDataByIDs 
 '<XML><Row CCID="50011"  TypeID="1"  DBColumnID="566213"  NodeID="1" /><Row CCID="2"  TypeID="10"  DBColumnID="566117"  NodeID="55687" /><Row CCID="2"  TypeID="100"  DBColumnID="566117"  NodeID="55687" /><Row CCID="2"  TypeID="10"  DBColumnID="566254"  NodeID="3" /><Row CCID="2"  TypeID="100"  DBColumnID="566254"  NodeID="3" /><Row CCID="50011"  TypeID="1"  DBColumnID="566213"  NodeID="1" /><Row CCID="50002"  TypeID="1"  DBColumnID="566204"  NodeID="27" /><Row CCID="50058"  TypeID="1"  DBColumnID="583442"  NodeID="1" /><Row CCID="50059"  TypeID="1"  DBColumnID="583494"  NodeID="1" /><Row CCID="50061"  TypeID="11"  DBColumnID="583598"  NodeID="11" /><Row CCID="50062"  TypeID="1"  DBColumnID="583650"  NodeID="1" /><Row CCID="50058"  TypeID="1"  DBColumnID="583713"  NodeID="1" /></XML>'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:20:27.872 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDIyMywiZXhwIjoxNzUyODQzMDIzLCJpYXQiOjE3NTI4MTQyMjN9.QHjPkTKCxHDHdo6G11vLsBlCBDTo9PjcClsW8T7JBKQ'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:20:27.888 | General Service|:: CompanyIndex:13 SpName: spDOC_GetLinkReferenceData 
 566117
 ,41025
 ,55687
 ,'18/Jul/2025'
 ,55687
 ,'<XML><Row CostCenterID="50011" NODEID="1" /><Row CostCenterID="50002" NODEID="27" /><Row CostCenterID="50058" NODEID="1" /><Row CostCenterID="50059" NODEID="1" /><Row CostCenterID="50061" NODEID="11" /><Row CostCenterID="50062" NODEID="1" /></XML>'
 ,False
 ,'0'
 ,'0'
 ,'0'
 ,NULL
 ,'0'
 ,'0'
 ,'0'
 ,''
 ,'1'
 ,1
 ,'1'
[System: 192.168.1.54] DEBUG | 07-18-2025 10:20:27.903 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDIyMywiZXhwIjoxNzUyODQzMDIzLCJpYXQiOjE3NTI4MTQyMjN9.QHjPkTKCxHDHdo6G11vLsBlCBDTo9PjcClsW8T7JBKQ'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:20:27.919 | General Service|:: CompanyIndex:13 SpName: spADM_GetListViewDataByIDs 
 '<XML><Row CCID="50011"  TypeID="1"  DBColumnID="566213"  NodeID="1" /><Row CCID="2"  TypeID="10"  DBColumnID="566117"  NodeID="55687" /><Row CCID="2"  TypeID="100"  DBColumnID="566117"  NodeID="55687" /><Row CCID="2"  TypeID="10"  DBColumnID="566254"  NodeID="3" /><Row CCID="2"  TypeID="100"  DBColumnID="566254"  NodeID="3" /><Row CCID="50011"  TypeID="1"  DBColumnID="566213"  NodeID="1" /><Row CCID="50002"  TypeID="1"  DBColumnID="566204"  NodeID="27" /><Row CCID="50058"  TypeID="1"  DBColumnID="583442"  NodeID="1" /><Row CCID="50059"  TypeID="1"  DBColumnID="583494"  NodeID="1" /><Row CCID="50061"  TypeID="11"  DBColumnID="583598"  NodeID="11" /><Row CCID="50062"  TypeID="1"  DBColumnID="583650"  NodeID="1" /><Row CCID="50058"  TypeID="1"  DBColumnID="583713"  NodeID="1" /></XML>'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:20:27.919 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDIyMywiZXhwIjoxNzUyODQzMDIzLCJpYXQiOjE3NTI4MTQyMjN9.QHjPkTKCxHDHdo6G11vLsBlCBDTo9PjcClsW8T7JBKQ'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:20:27.966 | General Service|:: CompanyIndex:13 SpName: spADM_GetCostCenterListViewData 
 500055
 ,'a.Name,a.Code,a.ccAlpha11'
 ,''
 ,''
 ,'Name'
 ,''
 ,60
 ,False
 ,''
 ,''
 ,''
 ,''
 ,''
 ,0
 ,False
 ,''
 ,''
 ,'1'
 ,'1'
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:20:27.966 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDIyMywiZXhwIjoxNzUyODQzMDIzLCJpYXQiOjE3NTI4MTQyMjN9.QHjPkTKCxHDHdo6G11vLsBlCBDTo9PjcClsW8T7JBKQ'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:20:33.949 | General Service|:: CompanyIndex:13 SpName: spDOC_GetInvDocument 
 41025
 ,'023/25/'
 ,'116'
 ,'1'
 ,0
 ,' and (a.CostCenterID=c.DocumentID or c.DocumentID=1) and (b.dcCCNID2=c.CCNID2 or c.CCNID2=0)'
 ,1
 ,1
 ,'admin'
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:20:33.965 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDIyMywiZXhwIjoxNzUyODQzMDIzLCJpYXQiOjE3NTI4MTQyMjN9.QHjPkTKCxHDHdo6G11vLsBlCBDTo9PjcClsW8T7JBKQ'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:20:34.012 | General Service|:: CompanyIndex:13 SpName: spADM_GetListViewDataByIDs 
 '<XML><Row CCID="50011"  TypeID="1"  DBColumnID="566213"  NodeID="1" /><Row CCID="2"  TypeID="10"  DBColumnID="566117"  NodeID="55687" /><Row CCID="2"  TypeID="100"  DBColumnID="566117"  NodeID="55687" /><Row CCID="2"  TypeID="10"  DBColumnID="566254"  NodeID="3" /><Row CCID="2"  TypeID="100"  DBColumnID="566254"  NodeID="3" /><Row CCID="50014"  TypeID="4"  DBColumnID="566216"  NodeID="10367" /><Row CCID="50009"  TypeID="3"  DBColumnID="566211"  NodeID="10570" /><Row CCID="50010"  TypeID="3"  DBColumnID="566212"  NodeID="51889" /><Row CCID="50018"  TypeID="1"  DBColumnID="566220"  NodeID="135" /><Row CCID="50070"  TypeID="1"  DBColumnID="598043"  NodeID="4" /><Row CCID="50011"  TypeID="1"  DBColumnID="566213"  NodeID="1" /><Row CCID="50014"  TypeID="4"  DBColumnID="566216"  NodeID="10367" /><Row CCID="50009"  TypeID="3"  DBColumnID="566211"  NodeID="10570" /><Row CCID="50010"  TypeID="3"  DBColumnID="566212"  NodeID="51889" /><Row CCID="50018"  TypeID="1"  DBColumnID="566220"  NodeID="135" /><Row CCID="50070"  TypeID="1"  DBColumnID="598043"  NodeID="4" /><Row CCID="50002"  TypeID="1"  DBColumnID="566204"  NodeID="27" /><Row CCID="50058"  TypeID="1"  DBColumnID="583442"  NodeID="1" /><Row CCID="50059"  TypeID="1"  DBColumnID="583494"  NodeID="1" /><Row CCID="50061"  TypeID="11"  DBColumnID="583598"  NodeID="11" /><Row CCID="50062"  TypeID="1"  DBColumnID="583650"  NodeID="1" /><Row CCID="50058"  TypeID="1"  DBColumnID="583713"  NodeID="1" /><Row CCID="44"  TypeID="122"  DBColumnID="566171"  NodeID="641" /><Row CCID="50060"  TypeID="1"  DBColumnID="583546"  NodeID="1" /></XML>'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:20:34.012 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDIyMywiZXhwIjoxNzUyODQzMDIzLCJpYXQiOjE3NTI4MTQyMjN9.QHjPkTKCxHDHdo6G11vLsBlCBDTo9PjcClsW8T7JBKQ'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:20:34.027 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select ParentNodeID NodeID from COM_CostCenterCostCenterMap where CostCenterID in (8,300) and ParentCostCenterId=50033 and NodeID=41025'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:20:34.027 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDIyMywiZXhwIjoxNzUyODQzMDIzLCJpYXQiOjE3NTI4MTQyMjN9.QHjPkTKCxHDHdo6G11vLsBlCBDTo9PjcClsW8T7JBKQ'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:20:34.043 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select ParentNodeID NodeID from COM_CostCenterCostCenterMap where CostCenterID in (8,300) and ParentCostCenterId=50033 and NodeID=41025'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:20:34.043 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDIyMywiZXhwIjoxNzUyODQzMDIzLCJpYXQiOjE3NTI4MTQyMjN9.QHjPkTKCxHDHdo6G11vLsBlCBDTo9PjcClsW8T7JBKQ'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:20:34.059 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select ParentNodeID NodeID from COM_CostCenterCostCenterMap where CostCenterID in (8,300) and ParentCostCenterId=50033 and NodeID=41025'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:20:34.059 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDIyMywiZXhwIjoxNzUyODQzMDIzLCJpYXQiOjE3NTI4MTQyMjN9.QHjPkTKCxHDHdo6G11vLsBlCBDTo9PjcClsW8T7JBKQ'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:20:34.074 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select ParentNodeID NodeID from COM_CostCenterCostCenterMap where CostCenterID in (8,300) and ParentCostCenterId=50033 and NodeID=41025'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:20:34.074 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDIyMywiZXhwIjoxNzUyODQzMDIzLCJpYXQiOjE3NTI4MTQyMjN9.QHjPkTKCxHDHdo6G11vLsBlCBDTo9PjcClsW8T7JBKQ'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:20:34.090 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select ParentNodeID NodeID from COM_CostCenterCostCenterMap where CostCenterID in (8,300) and ParentCostCenterId=50033 and NodeID=41025'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:20:34.090 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDIyMywiZXhwIjoxNzUyODQzMDIzLCJpYXQiOjE3NTI4MTQyMjN9.QHjPkTKCxHDHdo6G11vLsBlCBDTo9PjcClsW8T7JBKQ'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:20:34.106 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select ParentNodeID NodeID from COM_CostCenterCostCenterMap where CostCenterID in (8,300) and ParentCostCenterId=50033 and NodeID=41025'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:20:34.106 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDIyMywiZXhwIjoxNzUyODQzMDIzLCJpYXQiOjE3NTI4MTQyMjN9.QHjPkTKCxHDHdo6G11vLsBlCBDTo9PjcClsW8T7JBKQ'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:20:34.121 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select ParentNodeID NodeID from COM_CostCenterCostCenterMap where CostCenterID in (8,300) and ParentCostCenterId=50033 and NodeID=41025'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:20:34.121 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDIyMywiZXhwIjoxNzUyODQzMDIzLCJpYXQiOjE3NTI4MTQyMjN9.QHjPkTKCxHDHdo6G11vLsBlCBDTo9PjcClsW8T7JBKQ'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:20:34.137 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select ParentNodeID NodeID from COM_CostCenterCostCenterMap where CostCenterID in (8,300) and ParentCostCenterId=50033 and NodeID=41025'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:20:34.137 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDIyMywiZXhwIjoxNzUyODQzMDIzLCJpYXQiOjE3NTI4MTQyMjN9.QHjPkTKCxHDHdo6G11vLsBlCBDTo9PjcClsW8T7JBKQ'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:20:34.152 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select ParentNodeID NodeID from COM_CostCenterCostCenterMap where CostCenterID in (8,300) and ParentCostCenterId=50033 and NodeID=41025'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:20:34.152 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDIyMywiZXhwIjoxNzUyODQzMDIzLCJpYXQiOjE3NTI4MTQyMjN9.QHjPkTKCxHDHdo6G11vLsBlCBDTo9PjcClsW8T7JBKQ'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:20:34.168 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select ParentNodeID NodeID from COM_CostCenterCostCenterMap where CostCenterID in (8,300) and ParentCostCenterId=50033 and NodeID=41025'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:20:34.168 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDIyMywiZXhwIjoxNzUyODQzMDIzLCJpYXQiOjE3NTI4MTQyMjN9.QHjPkTKCxHDHdo6G11vLsBlCBDTo9PjcClsW8T7JBKQ'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:20:34.184 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select ParentNodeID NodeID from COM_CostCenterCostCenterMap where CostCenterID in (8,300) and ParentCostCenterId=50033 and NodeID=41025'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:20:34.184 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDIyMywiZXhwIjoxNzUyODQzMDIzLCJpYXQiOjE3NTI4MTQyMjN9.QHjPkTKCxHDHdo6G11vLsBlCBDTo9PjcClsW8T7JBKQ'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:20:34.199 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select ParentNodeID NodeID from COM_CostCenterCostCenterMap where CostCenterID in (8,300) and ParentCostCenterId=50033 and NodeID=41025'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:20:34.199 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDIyMywiZXhwIjoxNzUyODQzMDIzLCJpYXQiOjE3NTI4MTQyMjN9.QHjPkTKCxHDHdo6G11vLsBlCBDTo9PjcClsW8T7JBKQ'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:20:34.215 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select ParentNodeID NodeID from COM_CostCenterCostCenterMap where CostCenterID in (8,300) and ParentCostCenterId=50033 and NodeID=41025'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:20:34.215 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDIyMywiZXhwIjoxNzUyODQzMDIzLCJpYXQiOjE3NTI4MTQyMjN9.QHjPkTKCxHDHdo6G11vLsBlCBDTo9PjcClsW8T7JBKQ'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:20:34.277 | General Service|:: CompanyIndex:13 SpName: spADM_GetCostCenterListViewData 
 362
 ,'a.Name,a.Code'
 ,''
 ,''
 ,'Name'
 ,''
 ,60
 ,False
 ,''
 ,''
 ,'(CCNID9=10570)'
 ,''
 ,''
 ,0
 ,False
 ,''
 ,''
 ,'1'
 ,'1'
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:20:34.293 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDIyMywiZXhwIjoxNzUyODQzMDIzLCJpYXQiOjE3NTI4MTQyMjN9.QHjPkTKCxHDHdo6G11vLsBlCBDTo9PjcClsW8T7JBKQ'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:21:38.998 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:21:38.998 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDIyMywiZXhwIjoxNzUyODQzMDIzLCJpYXQiOjE3NTI4MTQyMjN9.QHjPkTKCxHDHdo6G11vLsBlCBDTo9PjcClsW8T7JBKQ'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:22:26.043 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:22:26.043 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDIyMywiZXhwIjoxNzUyODQzMDIzLCJpYXQiOjE3NTI4MTQyMjN9.QHjPkTKCxHDHdo6G11vLsBlCBDTo9PjcClsW8T7JBKQ'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:23:12.172 | General Service|:: CompanyIndex:0 SpName: spADM_GetClientUserDetails2C 
 'admin'
 ,1
 ,0
[System: 192.168.1.54] DEBUG | 07-18-2025 10:23:12.204 | General Service|:: CompanyIndex:0 SpName: spADM_UserLoginCheck 
 2
 ,'admin'
 ,0
 ,'192.168.1.54'
 ,'192.168.1.54'
 ,''
 ,'Web'
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:23:14.833 | General Service|:: CompanyIndex:13 SpName: spADM_GetClientUserDetails 
 'admin'
 ,1
 ,'26.1.0'
 ,0
[System: 192.168.1.54] DEBUG | 07-18-2025 10:23:14.880 | General Service|:: CompanyIndex:0 SpName: spADM_UserLoginCheck 
 2
 ,'admin'
 ,13
 ,'192.168.1.54'
 ,'192.168.1.54'
 ,''
 ,'Web'
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:23:14.880 | General Service|:: CompanyIndex:0 SpName: spADM_Login 
 1
 ,''
 ,''
 ,''
 ,''
 ,''
 ,13
[System: 192.168.1.54] DEBUG | 07-18-2025 10:23:14.880 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select Value from ADM_GlobalPreferences with (nolock) where name =''EnableReLogin'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:23:14.895 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDM5NCwiZXhwIjoxNzUyODQzMTk0LCJpYXQiOjE3NTI4MTQzOTR9.meKFK6zGV3FQj-faywPpDFUwqDExJsTTHn7ihvnQ08c'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:23:14.927 | General Service|:: CompanyIndex:0 SpName: spADM_Login 
 4
 ,''
 ,''
 ,''
 ,'declare @Cnt int,@ExpiredGUID nvarchar(50),@AllowSession int,@GUID nvarchar(50),@CurrDate float,@UserID INT,@Instances INT,@InstancesExists INT,@LCDBIndex int
set @CurrDate= convert(float,dateadd(minute,-21,getdate()))
set @AllowSession=0
set @GUID=''fa7066aa-78ef-43e3-b913-49c4f066907e''
set @LCDBIndex=0
select top 1 @UserID=UserID,@Instances=InstanceCount from ADM_Users with(nolock) where UserName=''admin''
if exists(select [GUID] from ADM_Login with(nolock) where [GUID]=@GUID)
begin
	update ADM_Login 
	set LastAccessTime=convert(float,getdate()),UserID=@UserID
	where [GUID]=@GUID
    set @AllowSession=1
end
else
begin
	select @Cnt=count(*) from ADM_Login with(nolock) where LCDBIndex=@LCDBIndex and [GUID]!=''ACCESSRIGHTS'' and AP =''WEB''
    if(@Cnt<100)
		set @AllowSession=1
	else
	begin
		select top 1 @ExpiredGUID=[GUID] from ADM_Login with(nolock)
		where [GUID]!=''ACCESSRIGHTS'' and LCDBIndex=@LCDBIndex and LastAccessTime<@CurrDate  and AP =''WEB''
        order by LastAccessTime asc
		if @ExpiredGUID is not null
		begin
			delete from ADM_Login where [GUID]=@ExpiredGUID
			set @AllowSession=1
		end
	end
	if @AllowSession=1
	begin
        select @InstancesExists=COUNT(*) from ADM_Login with(nolock)
		where [GUID]!=''ACCESSRIGHTS'' and LCDBIndex=@LCDBIndex and LastAccessTime>=@CurrDate and UserID=@UserID and AP =''WEB''
		if(@Instances!=0 and @Instances<=@InstancesExists)
			set @AllowSession=2
		else
		    INSERT INTO ADM_Login([GUID],[SysName],IPAddress,[Status],LoginTime,LastAccessTime,AccessRights,UserID,DBIndex,LCDBIndex,AP)
		    VALUES(@GUID,''WEB'',''192.168.1.54'',1,convert(float,getdate()),convert(float,getdate()),null,@UserID,13,@LCDBIndex, ''WEB'')
	end
end

select @AllowSession AllowSession,@Instances Instances,@InstancesExists InstancesExists
'
 ,''
 ,0
[System: 192.168.1.54] DEBUG | 07-18-2025 10:23:14.927 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDM5NCwiZXhwIjoxNzUyODQzMTk0LCJpYXQiOjE3NTI4MTQzOTR9.meKFK6zGV3FQj-faywPpDFUwqDExJsTTHn7ihvnQ08c'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:23:14.958 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'SELECT (SELECT COUNT(*) FROM COM_Location L WITH(NOLOCK) JOIN COM_Status S WITH(NOLOCK) ON S.StatusID=L.StatusID WHERE L.IsGroup=0 AND S.[Status]=''Active'') ML
,(SELECT COUNT(*) FROM ADM_Features WITH(NOLOCK) WHERE ((FeatureID>50000 AND FeatureID<=50050) OR FeatureID>=51000) AND IsEnabled=1) MD
,(SELECT ISNULL(COUNT(*),0) FROM ADM_RevenUReports WITH(NOLOCK) WHERE IsGroup=0 AND ReportID>10000 AND StaticReportType IN (0,-1)) MR'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:23:14.958 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDM5NCwiZXhwIjoxNzUyODQzMTk0LCJpYXQiOjE3NTI4MTQzOTR9.meKFK6zGV3FQj-faywPpDFUwqDExJsTTHn7ihvnQ08c'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:23:16.630 | General Service|:: CompanyIndex:13 SpName: spCOM_ConfigValues 
 1
 ,'NotifTime'
 ,''
[System: 192.168.1.54] DEBUG | 07-18-2025 10:23:16.630 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDM5NCwiZXhwIjoxNzUyODQzMTk0LCJpYXQiOjE3NTI4MTQzOTR9.meKFK6zGV3FQj-faywPpDFUwqDExJsTTHn7ihvnQ08c'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:23:16.801 | General Service|:: CompanyIndex:13 SpName: spADM_GetRibbonView 
 1
 ,1
 ,1
 ,1
 ,0
 ,''
[System: 192.168.1.54] DEBUG | 07-18-2025 10:23:16.817 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDM5NCwiZXhwIjoxNzUyODQzMTk0LCJpYXQiOjE3NTI4MTQzOTR9.meKFK6zGV3FQj-faywPpDFUwqDExJsTTHn7ihvnQ08c'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:23:17.005 | General Service|:: CompanyIndex:13 SpName: spRPT_GetReport 
 2
 ,0
 ,'1'
 ,'1'
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:23:17.020 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDM5NCwiZXhwIjoxNzUyODQzMTk0LCJpYXQiOjE3NTI4MTQzOTR9.meKFK6zGV3FQj-faywPpDFUwqDExJsTTHn7ihvnQ08c'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:23:17.036 | General Service|:: CompanyIndex:13 SpName: spADM_GetDashBoard 
 2
 ,0
 ,0
 ,'1'
 ,'1'
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:23:17.036 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDM5NCwiZXhwIjoxNzUyODQzMTk0LCJpYXQiOjE3NTI4MTQzOTR9.meKFK6zGV3FQj-faywPpDFUwqDExJsTTHn7ihvnQ08c'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:23:17.051 | General Service|:: CompanyIndex:13 SpName: spCOM_ConfigValues 
 1
 ,'LandingDocs'
 ,'1'
[System: 192.168.1.54] DEBUG | 07-18-2025 10:23:17.067 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDM5NCwiZXhwIjoxNzUyODQzMTk0LCJpYXQiOjE3NTI4MTQzOTR9.meKFK6zGV3FQj-faywPpDFUwqDExJsTTHn7ihvnQ08c'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:23:17.114 | General Service|:: CompanyIndex:13 SpName: spCOM_GetFavorites 
 'GETLIST0'
 ,0
 ,'1'
 ,'1'
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:23:17.114 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDM5NCwiZXhwIjoxNzUyODQzMTk0LCJpYXQiOjE3NTI4MTQzOTR9.meKFK6zGV3FQj-faywPpDFUwqDExJsTTHn7ihvnQ08c'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:23:17.114 | General Service|:: CompanyIndex:13 SpName: spADM_GetAllListViewsDef 
 1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:23:17.114 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDM5NCwiZXhwIjoxNzUyODQzMTk0LCJpYXQiOjE3NTI4MTQzOTR9.meKFK6zGV3FQj-faywPpDFUwqDExJsTTHn7ihvnQ08c'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:23:17.223 | General Service|:: CompanyIndex:13 SpName: spADM_GetAllListViewsDef 
 1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:23:17.223 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDM5NCwiZXhwIjoxNzUyODQzMTk0LCJpYXQiOjE3NTI4MTQzOTR9.meKFK6zGV3FQj-faywPpDFUwqDExJsTTHn7ihvnQ08c'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:23:17.317 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'Select CostCenterID,CostCenterColID,CostCenterName,SysTableName,UserColumnName,SysColumnName,ISNULL(UserDefaultValue,'''') UserDefaultValue
From AdM_CostCenterDef WITH(NOLOCK)
Where SysColumnName IN(''CreditAccount'',''DebitAccount'',''ProductID'') 
AND CostCenterID>40000 AND CostCenterID<50000 

SELECT * FROM ADM_Features WITH(NOLOCK) '
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:23:17.317 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDM5NCwiZXhwIjoxNzUyODQzMTk0LCJpYXQiOjE3NTI4MTQzOTR9.meKFK6zGV3FQj-faywPpDFUwqDExJsTTHn7ihvnQ08c'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:23:17.348 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 '  SELECT * FROM PAY_PayrollPreferences WITH(NOLOCK) '
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:23:17.364 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDM5NCwiZXhwIjoxNzUyODQzMTk0LCJpYXQiOjE3NTI4MTQzOTR9.meKFK6zGV3FQj-faywPpDFUwqDExJsTTHn7ihvnQ08c'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:23:17.379 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 '  --0
                                Select * FROM COM_CC50051 WITH(NOLOCK) WHERE IsGroup=0 AND LoginUserID=''admin''
                                --1                                
                                Select * FROM COM_CC50051 WITH(NOLOCK) WHERE RptManager IN (Select NodeID FROM COM_CC50051 WITH(NOLOCK) WHERE IsGroup=0 AND LoginUserID=''admin'')
                                UNION ALL
                                Select * FROM COM_CC50051 WITH(NOLOCK) WHERE RptManager IN 
                                (
	                                Select NodeID FROM COM_CC50051 WITH(NOLOCK) 
	                                WHERE IsGroup=0 AND LoginUserID IN
	                                (
	                                SELECT fe.LoginUserID
	                                FROM INV_DocDetails a WITH(NOLOCK) 
	                                JOIN COM_DocCCData b WITH(NOLOCK) ON b.InvDocDetailsID=a.InvDocDetailsID
	                                JOIN COM_DocNumData c WITH(NOLOCK) ON c.InvDocDetailsID=a.InvDocDetailsID
	                                JOIN COM_DocTextData d WITH(NOLOCK) ON d.InvDocDetailsID=a.InvDocDetailsID
	                                JOIN COM_CC50051 fe WITH(NOLOCK) on fe.NodeID=b.dcCCNID51
	                                JOIN COM_CC50051 te WITH(NOLOCK) on CONVERT(NVARCHAR,te.NodeID)=d.dcAlpha1
	                                WHERE a.CostCenterID=40098 and a.StatusID=369 AND d.dcAlpha3=''Temporary''
	                                AND te.LoginUserID=''admin'' 
	                                AND ISDATE(d.dcAlpha4)=1 AND ISDATE(d.dcAlpha5)=1 
	                                AND CONVERT(DATETIME,''18 Jul 2025'') BETWEEN CONVERT(DATETIME,d.dcAlpha4) AND CONVERT(DATETIME,d.dcAlpha5)
	                                )
                                )
                                --2
                                Select * FROM ADM_USERS WITH(NOLOCK) WHERE USERID=1
                                --3
                                Select * FROM COM_CostCenterCostCenterMap WITH(NOLOCK) WHERE ParentCostCenterID=7 AND ParentNodeID=1
                                --4                                
                                Select * FROM COM_CostCenterCostCenterMap WITH(NOLOCK) WHERE ParentCostCenterID=7 AND ParentNodeID=1
                                AND CostCenterID IN(Select ColumnCostCenterID From ADM_CostCenterDef Where CostCenterID=50051 AND IsColumnInUse=1 AND SysColumnName LIKE ''CCNID%'')
                                --5
                                Select * from COM_Files WITH(NOLOCK) WHERE FeatureID=50051 AND FeaturePK IN (Select NodeID FROM COM_CC50051 WITH(NOLOCK) WHERE IsGroup=0 AND LoginUserID=''admin'')                         
'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:23:17.379 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDM5NCwiZXhwIjoxNzUyODQzMTk0LCJpYXQiOjE3NTI4MTQzOTR9.meKFK6zGV3FQj-faywPpDFUwqDExJsTTHn7ihvnQ08c'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:23:17.504 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:23:17.504 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDM5NCwiZXhwIjoxNzUyODQzMTk0LCJpYXQiOjE3NTI4MTQzOTR9.meKFK6zGV3FQj-faywPpDFUwqDExJsTTHn7ihvnQ08c'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:23:17.754 | General Service|:: CompanyIndex:13 SpName: spADM_GetDashBoard 
 1
 ,8
 ,0
 ,'1'
 ,'1'
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:23:17.754 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDM5NCwiZXhwIjoxNzUyODQzMTk0LCJpYXQiOjE3NTI4MTQzOTR9.meKFK6zGV3FQj-faywPpDFUwqDExJsTTHn7ihvnQ08c'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:23:17.770 | General Service|:: CompanyIndex:13 SpName: spRPT_GetReport 
 0
 ,30456
 ,'1'
 ,'1'
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:23:17.785 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDM5NCwiZXhwIjoxNzUyODQzMTk0LCJpYXQiOjE3NTI4MTQzOTR9.meKFK6zGV3FQj-faywPpDFUwqDExJsTTHn7ihvnQ08c'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:23:17.879 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'SELECT StaticReportType FROM ADM_RevenUReports WITH(NOLOCK) WHERE ReportID=30456'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:23:17.879 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDM5NCwiZXhwIjoxNzUyODQzMTk0LCJpYXQiOjE3NTI4MTQzOTR9.meKFK6zGV3FQj-faywPpDFUwqDExJsTTHn7ihvnQ08c'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:23:18.035 | General Service|:: CompanyIndex:13 SpName: spRPT_GetReportCategoryandField 
 -1
 ,0
 ,1
 ,0
 ,'1'
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:23:18.035 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDM5NCwiZXhwIjoxNzUyODQzMTk0LCJpYXQiOjE3NTI4MTQzOTR9.meKFK6zGV3FQj-faywPpDFUwqDExJsTTHn7ihvnQ08c'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:23:18.067 | General Service|:: CompanyIndex:13 SpName: spRPT_GetReportFields 
 400
 ,0
 ,'1'
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:23:18.067 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDM5NCwiZXhwIjoxNzUyODQzMTk0LCJpYXQiOjE3NTI4MTQzOTR9.meKFK6zGV3FQj-faywPpDFUwqDExJsTTHn7ihvnQ08c'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:23:18.114 | General Service|:: CompanyIndex:13 SpName: spRPT_GetReportData 
 9
 ,1
 ,'<XML UID="1" ShowMyQueue="0"></XML>'
 ,'1'
[System: 192.168.1.54] DEBUG | 07-18-2025 10:23:18.129 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDM5NCwiZXhwIjoxNzUyODQzMTk0LCJpYXQiOjE3NTI4MTQzOTR9.meKFK6zGV3FQj-faywPpDFUwqDExJsTTHn7ihvnQ08c'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:23:18.285 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
                EXEC spRPT_GetReportData @Type=8,@Param1=1,@strXML=null,@RoleID=1
SELECT ACC.VoucherNo [C858bdfa70f884b78b8ec0453808910bb],ACC.VersionNo [C858bdfa70f884b78b8ec0453808910bbVer],CONVERT(DATETIME,ACC.DocDate) [Cf4c1ff96517a40978b75103376667aae],ACC.DocAbbr [C501419b9c341410d8920b953fb30cfbf],ACC.Amount [Cfa623191688842d5ac3c0cd9232cfb2e],NULL [C90a85d26ad47471988897309a5c78218],T1.UserName [Cd0c4cb9a7057416ca691fb5c4774545b],T3.Name [C80a6de4371d045c08bf9d035c1831959],ACC.CommonNarration [Ce66e27446651436893b0d2c967dd0ecb],T4.Status [Ca7da089a0bd542838ddeb39e78a982ea],T5.Name [Cff89130f277d4635b5e1c5e6887cbcb5],ACC.VoucherNo [Cdacb59b3f5e54f18b65dfc4cf3186555],ACC.DocAbbr [Cdacb59b3f5e54f18b65dfc4cf3186555Abr],ACC.DocPrefix [Cdacb59b3f5e54f18b65dfc4cf3186555prf],CONVERT(BIGINT,ACC.DocNumber) [Cdacb59b3f5e54f18b65dfc4cf3186555dno]
 FROM ACC_DocDetails ACC with(nolock) left join ADM_Users T1 with(nolock) on ACC.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on ACC.AccDocDetailsID=TDCC.AccDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on ACC.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (ACC.CostCenterID=41053) AND T4.Status=''Unapproved'' AND ACC.LinkedAccDocDetailsID is null AND WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT ACC.VoucherNo,ACC.VersionNo,CONVERT(DATETIME,ACC.DocDate),ACC.DocAbbr,ACC.Amount,NULL,T1.UserName,T3.Name,ACC.CommonNarration,T4.Status,T5.Name,ACC.VoucherNo,ACC.DocAbbr,ACC.DocPrefix,CONVERT(BIGINT,ACC.DocNumber)
 FROM ACC_DocDetails ACC with(nolock) left join ADM_Users T1 with(nolock) on ACC.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on ACC.AccDocDetailsID=TDCC.AccDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on ACC.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (ACC.CostCenterID=41061) AND T4.Status=''Unapproved'' AND ACC.LinkedAccDocDetailsID is null AND WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT ACC.VoucherNo,ACC.VersionNo,CONVERT(DATETIME,ACC.DocDate),ACC.DocAbbr,ACC.Amount,NULL,T1.UserName,T3.Name,ACC.CommonNarration,T4.Status,T5.Name,ACC.VoucherNo,ACC.DocAbbr,ACC.DocPrefix,CONVERT(BIGINT,ACC.DocNumber)
 FROM ACC_DocDetails ACC with(nolock) left join ADM_Users T1 with(nolock) on ACC.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on ACC.AccDocDetailsID=TDCC.AccDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on ACC.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (ACC.CostCenterID=40023) AND T4.Status=''Unapproved'' AND ACC.LinkedAccDocDetailsID is null AND WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT ACC.VoucherNo,ACC.VersionNo,CONVERT(DATETIME,ACC.DocDate),ACC.DocAbbr,ACC.Amount,NULL,T1.UserName,T3.Name,ACC.CommonNarration,T4.Status,T5.Name,ACC.VoucherNo,ACC.DocAbbr,ACC.DocPrefix,CONVERT(BIGINT,ACC.DocNumber)
 FROM ACC_DocDetails ACC with(nolock) left join ADM_Users T1 with(nolock) on ACC.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on ACC.AccDocDetailsID=TDCC.AccDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on ACC.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (ACC.CostCenterID=41064) AND T4.Status=''Unapproved'' AND ACC.LinkedAccDocDetailsID is null AND WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT ACC.VoucherNo,ACC.VersionNo,CONVERT(DATETIME,ACC.DocDate),ACC.DocAbbr,ACC.Amount,NULL,T1.UserName,T3.Name,ACC.CommonNarration,T4.Status,T5.Name,ACC.VoucherNo,ACC.DocAbbr,ACC.DocPrefix,CONVERT(BIGINT,ACC.DocNumber)
 FROM ACC_DocDetails ACC with(nolock) left join ADM_Users T1 with(nolock) on ACC.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on ACC.AccDocDetailsID=TDCC.AccDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on ACC.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (ACC.CostCenterID=41006) AND T4.Status=''Unapproved'' AND ACC.LinkedAccDocDetailsID is null AND WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT ACC.VoucherNo,ACC.VersionNo,CONVERT(DATETIME,ACC.DocDate),ACC.DocAbbr,ACC.Amount,NULL,T1.UserName,T3.Name,ACC.CommonNarration,T4.Status,T5.Name,ACC.VoucherNo,ACC.DocAbbr,ACC.DocPrefix,CONVERT(BIGINT,ACC.DocNumber)
 FROM ACC_DocDetails ACC with(nolock) left join ADM_Users T1 with(nolock) on ACC.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on ACC.AccDocDetailsID=TDCC.AccDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on ACC.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (ACC.CostCenterID=40022) AND T4.Status=''Unapproved'' AND ACC.LinkedAccDocDetailsID is null AND WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT ACC.VoucherNo,ACC.VersionNo,CONVERT(DATETIME,ACC.DocDate),ACC.DocAbbr,ACC.Amount,NULL,T1.UserName,T3.Name,ACC.CommonNarration,T4.Status,T5.Name,ACC.VoucherNo,ACC.DocAbbr,ACC.DocPrefix,CONVERT(BIGINT,ACC.DocNumber)
 FROM ACC_DocDetails ACC with(nolock) left join ADM_Users T1 with(nolock) on ACC.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on ACC.AccDocDetailsID=TDCC.AccDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on ACC.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (ACC.CostCenterID=41075) AND T4.Status=''Unapproved'' AND ACC.LinkedAccDocDetailsID is null AND WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT ACC.VoucherNo,ACC.VersionNo,CONVERT(DATETIME,ACC.DocDate),ACC.DocAbbr,ACC.Amount,NULL,T1.UserName,T3.Name,ACC.CommonNarration,T4.Status,T5.Name,ACC.VoucherNo,ACC.DocAbbr,ACC.DocPrefix,CONVERT(BIGINT,ACC.DocNumber)
 FROM ACC_DocDetails ACC with(nolock) left join ADM_Users T1 with(nolock) on ACC.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on ACC.AccDocDetailsID=TDCC.AccDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on ACC.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (ACC.CostCenterID=41077) AND T4.Status=''Unapproved'' AND ACC.LinkedAccDocDetailsID is null AND WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT ACC.VoucherNo,ACC.VersionNo,CONVERT(DATETIME,ACC.DocDate),ACC.DocAbbr,ACC.Amount,NULL,T1.UserName,T3.Name,ACC.CommonNarration,T4.Status,T5.Name,ACC.VoucherNo,ACC.DocAbbr,ACC.DocPrefix,CONVERT(BIGINT,ACC.DocNumber)
 FROM ACC_DocDetails ACC with(nolock) left join ADM_Users T1 with(nolock) on ACC.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on ACC.AccDocDetailsID=TDCC.AccDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on ACC.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (ACC.CostCenterID=40014) AND T4.Status=''Unapproved'' AND ACC.LinkedAccDocDetailsID is null AND WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT ACC.VoucherNo,ACC.VersionNo,CONVERT(DATETIME,ACC.DocDate),ACC.DocAbbr,ACC.Amount,NULL,T1.UserName,T3.Name,ACC.CommonNarration,T4.Status,T5.Name,ACC.VoucherNo,ACC.DocAbbr,ACC.DocPrefix,CONVERT(BIGINT,ACC.DocNumber)
 FROM ACC_DocDetails ACC with(nolock) left join ADM_Users T1 with(nolock) on ACC.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on ACC.AccDocDetailsID=TDCC.AccDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on ACC.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (ACC.CostCenterID=41065) AND T4.Status=''Unapproved'' AND ACC.LinkedAccDocDetailsID is null AND WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT ACC.VoucherNo,ACC.VersionNo,CONVERT(DATETIME,ACC.DocDate),ACC.DocAbbr,ACC.Amount,NULL,T1.UserName,T3.Name,ACC.CommonNarration,T4.Status,T5.Name,ACC.VoucherNo,ACC.DocAbbr,ACC.DocPrefix,CONVERT(BIGINT,ACC.DocNumber)
 FROM ACC_DocDetails ACC with(nolock) left join ADM_Users T1 with(nolock) on ACC.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on ACC.AccDocDetailsID=TDCC.AccDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on ACC.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (ACC.CostCenterID=40017) AND T4.Status=''Unapproved'' AND ACC.LinkedAccDocDetailsID is null AND WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT INV.VoucherNo,INV.VersionNo,CONVERT(DATETIME,INV.DocDate),INV.DocAbbr,NULL,CASE WHEN (SELECT DocumentType FROM ADM_DocumentTypes WITH(NOLOCK) WHERE CostCenterID=INV.CostCenterID)=38 AND VoucherType=1 THEN -INV.Gross ELSE INV.Gross END,T1.UserName,T3.Name,INV.CommonNarration,T4.Status,T5.Name,INV.VoucherNo,INV.DocAbbr,INV.DocPrefix,CONVERT(BIGINT,INV.DocNumber)
 FROM INV_DocDetails INV with(nolock) left join ADM_Users T1 with(nolock) on INV.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on INV.InvDocDetailsID=TDCC.InvDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on INV.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (INV.CostCenterID=41018) AND T4.Status=''Unapproved'' AND WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef and INV.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT INV.VoucherNo,INV.VersionNo,CONVERT(DATETIME,INV.DocDate),INV.DocAbbr,NULL,CASE WHEN (SELECT DocumentType FROM ADM_DocumentTypes WITH(NOLOCK) WHERE CostCenterID=INV.CostCenterID)=38 AND VoucherType=1 THEN -INV.Gross ELSE INV.Gross END,T1.UserName,T3.Name,INV.CommonNarration,T4.Status,T5.Name,INV.VoucherNo,INV.DocAbbr,INV.DocPrefix,CONVERT(BIGINT,INV.DocNumber)
 FROM INV_DocDetails INV with(nolock) left join ADM_Users T1 with(nolock) on INV.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on INV.InvDocDetailsID=TDCC.InvDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on INV.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (INV.CostCenterID=40011) AND T4.Status=''Unapproved'' AND WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef and INV.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT INV.VoucherNo,INV.VersionNo,CONVERT(DATETIME,INV.DocDate),INV.DocAbbr,NULL,CASE WHEN (SELECT DocumentType FROM ADM_DocumentTypes WITH(NOLOCK) WHERE CostCenterID=INV.CostCenterID)=38 AND VoucherType=1 THEN -INV.Gross ELSE INV.Gross END,T1.UserName,T3.Name,INV.CommonNarration,T4.Status,T5.Name,INV.VoucherNo,INV.DocAbbr,INV.DocPrefix,CONVERT(BIGINT,INV.DocNumber)
 FROM INV_DocDetails INV with(nolock) left join ADM_Users T1 with(nolock) on INV.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on INV.InvDocDetailsID=TDCC.InvDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on INV.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (INV.CostCenterID=41072) AND T4.Status=''Unapproved'' AND WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef and INV.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT INV.VoucherNo,INV.VersionNo,CONVERT(DATETIME,INV.DocDate),INV.DocAbbr,NULL,CASE WHEN (SELECT DocumentType FROM ADM_DocumentTypes WITH(NOLOCK) WHERE CostCenterID=INV.CostCenterID)=38 AND VoucherType=1 THEN -INV.Gross ELSE INV.Gross END,T1.UserName,T3.Name,INV.CommonNarration,T4.Status,T5.Name,INV.VoucherNo,INV.DocAbbr,INV.DocPrefix,CONVERT(BIGINT,INV.DocNumber)
 FROM INV_DocDetails INV with(nolock) left join ADM_Users T1 with(nolock) on INV.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on INV.InvDocDetailsID=TDCC.InvDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on INV.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (INV.CostCenterID=41057) AND T4.Status=''Unapproved'' AND WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef and INV.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT INV.VoucherNo,INV.VersionNo,CONVERT(DATETIME,INV.DocDate),INV.DocAbbr,NULL,CASE WHEN (SELECT DocumentType FROM ADM_DocumentTypes WITH(NOLOCK) WHERE CostCenterID=INV.CostCenterID)=38 AND VoucherType=1 THEN -INV.Gross ELSE INV.Gross END,T1.UserName,T3.Name,INV.CommonNarration,T4.Status,T5.Name,INV.VoucherNo,INV.DocAbbr,INV.DocPrefix,CONVERT(BIGINT,INV.DocNumber)
 FROM INV_DocDetails INV with(nolock) left join ADM_Users T1 with(nolock) on INV.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on INV.InvDocDetailsID=TDCC.InvDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on INV.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (INV.CostCenterID=41060) AND T4.Status=''Unapproved'' AND WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef and INV.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT INV.VoucherNo,INV.VersionNo,CONVERT(DATETIME,INV.DocDate),INV.DocAbbr,NULL,CASE WHEN (SELECT DocumentType FROM ADM_DocumentTypes WITH(NOLOCK) WHERE CostCenterID=INV.CostCenterID)=38 AND VoucherType=1 THEN -INV.Gross ELSE INV.Gross END,T1.UserName,T3.Name,INV.CommonNarration,T4.Status,T5.Name,INV.VoucherNo,INV.DocAbbr,INV.DocPrefix,CONVERT(BIGINT,INV.DocNumber)
 FROM INV_DocDetails INV with(nolock) left join ADM_Users T1 with(nolock) on INV.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on INV.InvDocDetailsID=TDCC.InvDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on INV.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (INV.CostCenterID=40001) AND T4.Status=''Unapproved'' AND WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef and INV.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT INV.VoucherNo,INV.VersionNo,CONVERT(DATETIME,INV.DocDate),INV.DocAbbr,NULL,CASE WHEN (SELECT DocumentType FROM ADM_DocumentTypes WITH(NOLOCK) WHERE CostCenterID=INV.CostCenterID)=38 AND VoucherType=1 THEN -INV.Gross ELSE INV.Gross END,T1.UserName,T3.Name,INV.CommonNarration,T4.Status,T5.Name,INV.VoucherNo,INV.DocAbbr,INV.DocPrefix,CONVERT(BIGINT,INV.DocNumber)
 FROM INV_DocDetails INV with(nolock) left join ADM_Users T1 with(nolock) on INV.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on INV.InvDocDetailsID=TDCC.InvDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on INV.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (INV.CostCenterID=41054) AND T4.Status=''Unapproved'' AND WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef and INV.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT ACC.VoucherNo,ACC.VersionNo,CONVERT(DATETIME,ACC.DocDate),ACC.DocAbbr,ACC.Amount,NULL,T1.UserName,T3.Name,ACC.CommonNarration,T4.Status,T5.Name,ACC.VoucherNo,ACC.DocAbbr,ACC.DocPrefix,CONVERT(BIGINT,ACC.DocNumber)
 FROM ACC_DocDetails ACC with(nolock) left join ADM_Users T1 with(nolock) on ACC.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on ACC.AccDocDetailsID=TDCC.AccDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on ACC.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (ACC.CostCenterID=41033) AND T4.Status=''Unapproved'' AND ACC.LinkedAccDocDetailsID is null AND WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT ACC.VoucherNo,ACC.VersionNo,CONVERT(DATETIME,ACC.DocDate),ACC.DocAbbr,ACC.Amount,NULL,T1.UserName,T3.Name,ACC.CommonNarration,T4.Status,T5.Name,ACC.VoucherNo,ACC.DocAbbr,ACC.DocPrefix,CONVERT(BIGINT,ACC.DocNumber)
 FROM ACC_DocDetails ACC with(nolock) left join ADM_Users T1 with(nolock) on ACC.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on ACC.AccDocDetailsID=TDCC.AccDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on ACC.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (ACC.CostCenterID=40019) AND T4.Status=''Unapproved'' AND ACC.LinkedAccDocDetailsID is null AND WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT ACC.VoucherNo,ACC.VersionNo,CONVERT(DATETIME,ACC.DocDate),ACC.DocAbbr,ACC.Amount,NULL,T1.UserName,T3.Name,ACC.CommonNarration,T4.Status,T5.Name,ACC.VoucherNo,ACC.DocAbbr,ACC.DocPrefix,CONVERT(BIGINT,ACC.DocNumber)
 FROM ACC_DocDetails ACC with(nolock) left join ADM_Users T1 with(nolock) on ACC.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on ACC.AccDocDetailsID=TDCC.AccDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on ACC.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (ACC.CostCenterID=41013) AND T4.Status=''Unapproved'' AND ACC.LinkedAccDocDetailsID is null AND WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef and ACC.CreatedDate+WF.CtWef<=convert(float,getdate()))) ORDER BY [Cdacb59b3f5e54f18b65dfc4cf3186555Abr] ,[Cdacb59b3f5e54f18b65dfc4cf3186555prf] ,[Cdacb59b3f5e54f18b65dfc4cf3186555dno]  
 DROP TABLE #TblUsrWF'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:23:18.285 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDM5NCwiZXhwIjoxNzUyODQzMTk0LCJpYXQiOjE3NTI4MTQzOTR9.meKFK6zGV3FQj-faywPpDFUwqDExJsTTHn7ihvnQ08c'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:23:19.321 | General Service|:: CompanyIndex:13 SpName: spDOC_GetDocumentDefinition 
 41025
 ,NULL
 ,NULL
 ,''
 ,1
 ,'admin'
 ,1
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:23:19.321 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDM5NCwiZXhwIjoxNzUyODQzMTk0LCJpYXQiOjE3NTI4MTQzOTR9.meKFK6zGV3FQj-faywPpDFUwqDExJsTTHn7ihvnQ08c'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:23:19.368 | General Service|:: CompanyIndex:13 SpName: spDoc_GetCurrencyExchangeRate 
 1
 ,'18-Jul-2025'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:23:19.368 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDM5NCwiZXhwIjoxNzUyODQzMTk0LCJpYXQiOjE3NTI4MTQzOTR9.meKFK6zGV3FQj-faywPpDFUwqDExJsTTHn7ihvnQ08c'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:23:19.399 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'SELECT Code FROM COM_Location WITH(NOLOCK) WHERE NodeID=27'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:23:19.399 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDM5NCwiZXhwIjoxNzUyODQzMTk0LCJpYXQiOjE3NTI4MTQzOTR9.meKFK6zGV3FQj-faywPpDFUwqDExJsTTHn7ihvnQ08c'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:23:19.415 | General Service|:: CompanyIndex:13 SpName: spDOC_GetDocumentPrefix 
 41025
 ,27
 ,''
 ,''
 ,'1'
 ,'1'
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:23:19.415 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDM5NCwiZXhwIjoxNzUyODQzMTk0LCJpYXQiOjE3NTI4MTQzOTR9.meKFK6zGV3FQj-faywPpDFUwqDExJsTTHn7ihvnQ08c'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:23:19.415 | General Service|:: CompanyIndex:13 SpName: spDOC_GetDueDate 
 55687
 ,27
 ,0
 ,0
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:23:19.431 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDM5NCwiZXhwIjoxNzUyODQzMTk0LCJpYXQiOjE3NTI4MTQzOTR9.meKFK6zGV3FQj-faywPpDFUwqDExJsTTHn7ihvnQ08c'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:23:19.431 | General Service|:: CompanyIndex:13 SpName: spDOC_GetCurrentCodeNumber 
 41025
 ,'023/25/'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:23:19.431 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDM5NCwiZXhwIjoxNzUyODQzMTk0LCJpYXQiOjE3NTI4MTQzOTR9.meKFK6zGV3FQj-faywPpDFUwqDExJsTTHn7ihvnQ08c'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:23:19.462 | General Service|:: CompanyIndex:13 SpName: spDOC_GetLinkReferenceData 
 566117
 ,41025
 ,55687
 ,'18/Jul/2025'
 ,55687
 ,'<XML><Row CostCenterID="50011" NODEID="1" /><Row CostCenterID="50002" NODEID="27" /><Row CostCenterID="50058" NODEID="1" /><Row CostCenterID="50059" NODEID="1" /><Row CostCenterID="50061" NODEID="11" /><Row CostCenterID="50062" NODEID="1" /></XML>'
 ,False
 ,'0'
 ,'0'
 ,'0'
 ,NULL
 ,'0'
 ,'0'
 ,'0'
 ,''
 ,'1'
 ,1
 ,'1'
[System: 192.168.1.54] DEBUG | 07-18-2025 10:23:19.462 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDM5NCwiZXhwIjoxNzUyODQzMTk0LCJpYXQiOjE3NTI4MTQzOTR9.meKFK6zGV3FQj-faywPpDFUwqDExJsTTHn7ihvnQ08c'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:23:19.493 | General Service|:: CompanyIndex:13 SpName: spADM_GetListViewDataByIDs 
 '<XML><Row CCID="50011"  TypeID="1"  DBColumnID="566213"  NodeID="1" /><Row CCID="2"  TypeID="10"  DBColumnID="566117"  NodeID="55687" /><Row CCID="2"  TypeID="100"  DBColumnID="566117"  NodeID="55687" /><Row CCID="2"  TypeID="10"  DBColumnID="566254"  NodeID="3" /><Row CCID="2"  TypeID="100"  DBColumnID="566254"  NodeID="3" /><Row CCID="50011"  TypeID="1"  DBColumnID="566213"  NodeID="1" /><Row CCID="50002"  TypeID="1"  DBColumnID="566204"  NodeID="27" /><Row CCID="50058"  TypeID="1"  DBColumnID="583442"  NodeID="1" /><Row CCID="50059"  TypeID="1"  DBColumnID="583494"  NodeID="1" /><Row CCID="50061"  TypeID="11"  DBColumnID="583598"  NodeID="11" /><Row CCID="50062"  TypeID="1"  DBColumnID="583650"  NodeID="1" /><Row CCID="50058"  TypeID="1"  DBColumnID="583713"  NodeID="1" /></XML>'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:23:19.493 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDM5NCwiZXhwIjoxNzUyODQzMTk0LCJpYXQiOjE3NTI4MTQzOTR9.meKFK6zGV3FQj-faywPpDFUwqDExJsTTHn7ihvnQ08c'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:23:19.525 | General Service|:: CompanyIndex:13 SpName: spADM_GetListViewDataByIDs 
 '<XML><Row CCID="50011"  TypeID="1"  DBColumnID="566213"  NodeID="1" /><Row CCID="2"  TypeID="10"  DBColumnID="566117"  NodeID="55687" /><Row CCID="2"  TypeID="100"  DBColumnID="566117"  NodeID="55687" /><Row CCID="2"  TypeID="10"  DBColumnID="566254"  NodeID="3" /><Row CCID="2"  TypeID="100"  DBColumnID="566254"  NodeID="3" /><Row CCID="50011"  TypeID="1"  DBColumnID="566213"  NodeID="1" /><Row CCID="50002"  TypeID="1"  DBColumnID="566204"  NodeID="27" /><Row CCID="50058"  TypeID="1"  DBColumnID="583442"  NodeID="1" /><Row CCID="50059"  TypeID="1"  DBColumnID="583494"  NodeID="1" /><Row CCID="50061"  TypeID="11"  DBColumnID="583598"  NodeID="11" /><Row CCID="50062"  TypeID="1"  DBColumnID="583650"  NodeID="1" /><Row CCID="50058"  TypeID="1"  DBColumnID="583713"  NodeID="1" /></XML>'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:23:19.525 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDM5NCwiZXhwIjoxNzUyODQzMTk0LCJpYXQiOjE3NTI4MTQzOTR9.meKFK6zGV3FQj-faywPpDFUwqDExJsTTHn7ihvnQ08c'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:23:19.556 | General Service|:: CompanyIndex:13 SpName: spDOC_GetLinkReferenceData 
 566117
 ,41025
 ,55687
 ,'18/Jul/2025'
 ,55687
 ,'<XML><Row CostCenterID="50011" NODEID="1" /><Row CostCenterID="50002" NODEID="27" /><Row CostCenterID="50058" NODEID="1" /><Row CostCenterID="50059" NODEID="1" /><Row CostCenterID="50061" NODEID="11" /><Row CostCenterID="50062" NODEID="1" /></XML>'
 ,False
 ,'0'
 ,'0'
 ,'0'
 ,NULL
 ,'0'
 ,'0'
 ,'0'
 ,''
 ,'1'
 ,1
 ,'1'
[System: 192.168.1.54] DEBUG | 07-18-2025 10:23:19.556 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDM5NCwiZXhwIjoxNzUyODQzMTk0LCJpYXQiOjE3NTI4MTQzOTR9.meKFK6zGV3FQj-faywPpDFUwqDExJsTTHn7ihvnQ08c'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:23:19.587 | General Service|:: CompanyIndex:13 SpName: spADM_GetListViewDataByIDs 
 '<XML><Row CCID="50011"  TypeID="1"  DBColumnID="566213"  NodeID="1" /><Row CCID="2"  TypeID="10"  DBColumnID="566117"  NodeID="55687" /><Row CCID="2"  TypeID="100"  DBColumnID="566117"  NodeID="55687" /><Row CCID="2"  TypeID="10"  DBColumnID="566254"  NodeID="3" /><Row CCID="2"  TypeID="100"  DBColumnID="566254"  NodeID="3" /><Row CCID="50011"  TypeID="1"  DBColumnID="566213"  NodeID="1" /><Row CCID="50002"  TypeID="1"  DBColumnID="566204"  NodeID="27" /><Row CCID="50058"  TypeID="1"  DBColumnID="583442"  NodeID="1" /><Row CCID="50059"  TypeID="1"  DBColumnID="583494"  NodeID="1" /><Row CCID="50061"  TypeID="11"  DBColumnID="583598"  NodeID="11" /><Row CCID="50062"  TypeID="1"  DBColumnID="583650"  NodeID="1" /><Row CCID="50058"  TypeID="1"  DBColumnID="583713"  NodeID="1" /></XML>'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:23:19.587 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDM5NCwiZXhwIjoxNzUyODQzMTk0LCJpYXQiOjE3NTI4MTQzOTR9.meKFK6zGV3FQj-faywPpDFUwqDExJsTTHn7ihvnQ08c'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:23:19.634 | General Service|:: CompanyIndex:13 SpName: spADM_GetCostCenterListViewData 
 500055
 ,'a.Name,a.Code,a.ccAlpha11'
 ,''
 ,''
 ,'Name'
 ,''
 ,60
 ,False
 ,''
 ,''
 ,''
 ,''
 ,''
 ,0
 ,False
 ,''
 ,''
 ,'1'
 ,'1'
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:23:19.634 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDM5NCwiZXhwIjoxNzUyODQzMTk0LCJpYXQiOjE3NTI4MTQzOTR9.meKFK6zGV3FQj-faywPpDFUwqDExJsTTHn7ihvnQ08c'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:23:21.642 | General Service|:: CompanyIndex:13 SpName: spDOC_GetInvDocument 
 41025
 ,'023/25/'
 ,'116'
 ,'1'
 ,0
 ,' and (a.CostCenterID=c.DocumentID or c.DocumentID=1) and (b.dcCCNID2=c.CCNID2 or c.CCNID2=0)'
 ,1
 ,1
 ,'admin'
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:23:21.642 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDM5NCwiZXhwIjoxNzUyODQzMTk0LCJpYXQiOjE3NTI4MTQzOTR9.meKFK6zGV3FQj-faywPpDFUwqDExJsTTHn7ihvnQ08c'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:23:21.689 | General Service|:: CompanyIndex:13 SpName: spADM_GetListViewDataByIDs 
 '<XML><Row CCID="50011"  TypeID="1"  DBColumnID="566213"  NodeID="1" /><Row CCID="2"  TypeID="10"  DBColumnID="566117"  NodeID="55687" /><Row CCID="2"  TypeID="100"  DBColumnID="566117"  NodeID="55687" /><Row CCID="2"  TypeID="10"  DBColumnID="566254"  NodeID="3" /><Row CCID="2"  TypeID="100"  DBColumnID="566254"  NodeID="3" /><Row CCID="50014"  TypeID="4"  DBColumnID="566216"  NodeID="10367" /><Row CCID="50009"  TypeID="3"  DBColumnID="566211"  NodeID="10570" /><Row CCID="50010"  TypeID="3"  DBColumnID="566212"  NodeID="51889" /><Row CCID="50018"  TypeID="1"  DBColumnID="566220"  NodeID="135" /><Row CCID="50070"  TypeID="1"  DBColumnID="598043"  NodeID="4" /><Row CCID="50011"  TypeID="1"  DBColumnID="566213"  NodeID="1" /><Row CCID="50014"  TypeID="4"  DBColumnID="566216"  NodeID="10367" /><Row CCID="50009"  TypeID="3"  DBColumnID="566211"  NodeID="10570" /><Row CCID="50010"  TypeID="3"  DBColumnID="566212"  NodeID="51889" /><Row CCID="50018"  TypeID="1"  DBColumnID="566220"  NodeID="135" /><Row CCID="50070"  TypeID="1"  DBColumnID="598043"  NodeID="4" /><Row CCID="50002"  TypeID="1"  DBColumnID="566204"  NodeID="27" /><Row CCID="50058"  TypeID="1"  DBColumnID="583442"  NodeID="1" /><Row CCID="50059"  TypeID="1"  DBColumnID="583494"  NodeID="1" /><Row CCID="50061"  TypeID="11"  DBColumnID="583598"  NodeID="11" /><Row CCID="50062"  TypeID="1"  DBColumnID="583650"  NodeID="1" /><Row CCID="50058"  TypeID="1"  DBColumnID="583713"  NodeID="1" /><Row CCID="44"  TypeID="122"  DBColumnID="566171"  NodeID="641" /><Row CCID="50060"  TypeID="1"  DBColumnID="583546"  NodeID="1" /></XML>'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:23:21.705 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDM5NCwiZXhwIjoxNzUyODQzMTk0LCJpYXQiOjE3NTI4MTQzOTR9.meKFK6zGV3FQj-faywPpDFUwqDExJsTTHn7ihvnQ08c'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:23:21.720 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select ParentNodeID NodeID from COM_CostCenterCostCenterMap where CostCenterID in (8,300) and ParentCostCenterId=50033 and NodeID=41025'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:23:21.736 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDM5NCwiZXhwIjoxNzUyODQzMTk0LCJpYXQiOjE3NTI4MTQzOTR9.meKFK6zGV3FQj-faywPpDFUwqDExJsTTHn7ihvnQ08c'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:23:21.751 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select ParentNodeID NodeID from COM_CostCenterCostCenterMap where CostCenterID in (8,300) and ParentCostCenterId=50033 and NodeID=41025'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:23:21.751 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDM5NCwiZXhwIjoxNzUyODQzMTk0LCJpYXQiOjE3NTI4MTQzOTR9.meKFK6zGV3FQj-faywPpDFUwqDExJsTTHn7ihvnQ08c'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:23:21.767 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select ParentNodeID NodeID from COM_CostCenterCostCenterMap where CostCenterID in (8,300) and ParentCostCenterId=50033 and NodeID=41025'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:23:21.767 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDM5NCwiZXhwIjoxNzUyODQzMTk0LCJpYXQiOjE3NTI4MTQzOTR9.meKFK6zGV3FQj-faywPpDFUwqDExJsTTHn7ihvnQ08c'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:23:21.783 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select ParentNodeID NodeID from COM_CostCenterCostCenterMap where CostCenterID in (8,300) and ParentCostCenterId=50033 and NodeID=41025'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:23:21.783 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDM5NCwiZXhwIjoxNzUyODQzMTk0LCJpYXQiOjE3NTI4MTQzOTR9.meKFK6zGV3FQj-faywPpDFUwqDExJsTTHn7ihvnQ08c'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:23:21.798 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select ParentNodeID NodeID from COM_CostCenterCostCenterMap where CostCenterID in (8,300) and ParentCostCenterId=50033 and NodeID=41025'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:23:21.814 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDM5NCwiZXhwIjoxNzUyODQzMTk0LCJpYXQiOjE3NTI4MTQzOTR9.meKFK6zGV3FQj-faywPpDFUwqDExJsTTHn7ihvnQ08c'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:23:21.814 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select ParentNodeID NodeID from COM_CostCenterCostCenterMap where CostCenterID in (8,300) and ParentCostCenterId=50033 and NodeID=41025'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:23:21.829 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDM5NCwiZXhwIjoxNzUyODQzMTk0LCJpYXQiOjE3NTI4MTQzOTR9.meKFK6zGV3FQj-faywPpDFUwqDExJsTTHn7ihvnQ08c'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:23:21.829 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select ParentNodeID NodeID from COM_CostCenterCostCenterMap where CostCenterID in (8,300) and ParentCostCenterId=50033 and NodeID=41025'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:23:21.845 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDM5NCwiZXhwIjoxNzUyODQzMTk0LCJpYXQiOjE3NTI4MTQzOTR9.meKFK6zGV3FQj-faywPpDFUwqDExJsTTHn7ihvnQ08c'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:23:21.861 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select ParentNodeID NodeID from COM_CostCenterCostCenterMap where CostCenterID in (8,300) and ParentCostCenterId=50033 and NodeID=41025'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:23:21.861 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDM5NCwiZXhwIjoxNzUyODQzMTk0LCJpYXQiOjE3NTI4MTQzOTR9.meKFK6zGV3FQj-faywPpDFUwqDExJsTTHn7ihvnQ08c'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:23:21.876 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select ParentNodeID NodeID from COM_CostCenterCostCenterMap where CostCenterID in (8,300) and ParentCostCenterId=50033 and NodeID=41025'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:23:21.876 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDM5NCwiZXhwIjoxNzUyODQzMTk0LCJpYXQiOjE3NTI4MTQzOTR9.meKFK6zGV3FQj-faywPpDFUwqDExJsTTHn7ihvnQ08c'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:23:21.892 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select ParentNodeID NodeID from COM_CostCenterCostCenterMap where CostCenterID in (8,300) and ParentCostCenterId=50033 and NodeID=41025'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:23:21.892 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDM5NCwiZXhwIjoxNzUyODQzMTk0LCJpYXQiOjE3NTI4MTQzOTR9.meKFK6zGV3FQj-faywPpDFUwqDExJsTTHn7ihvnQ08c'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:23:21.908 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select ParentNodeID NodeID from COM_CostCenterCostCenterMap where CostCenterID in (8,300) and ParentCostCenterId=50033 and NodeID=41025'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:23:21.908 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDM5NCwiZXhwIjoxNzUyODQzMTk0LCJpYXQiOjE3NTI4MTQzOTR9.meKFK6zGV3FQj-faywPpDFUwqDExJsTTHn7ihvnQ08c'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:23:21.923 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select ParentNodeID NodeID from COM_CostCenterCostCenterMap where CostCenterID in (8,300) and ParentCostCenterId=50033 and NodeID=41025'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:23:21.923 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDM5NCwiZXhwIjoxNzUyODQzMTk0LCJpYXQiOjE3NTI4MTQzOTR9.meKFK6zGV3FQj-faywPpDFUwqDExJsTTHn7ihvnQ08c'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:23:21.939 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select ParentNodeID NodeID from COM_CostCenterCostCenterMap where CostCenterID in (8,300) and ParentCostCenterId=50033 and NodeID=41025'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:23:21.939 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDM5NCwiZXhwIjoxNzUyODQzMTk0LCJpYXQiOjE3NTI4MTQzOTR9.meKFK6zGV3FQj-faywPpDFUwqDExJsTTHn7ihvnQ08c'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:23:22.017 | General Service|:: CompanyIndex:13 SpName: spADM_GetCostCenterListViewData 
 362
 ,'a.Name,a.Code'
 ,''
 ,''
 ,'Name'
 ,''
 ,60
 ,False
 ,''
 ,''
 ,'(CCNID9=10570)'
 ,''
 ,''
 ,0
 ,False
 ,''
 ,''
 ,'1'
 ,'1'
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:23:22.017 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDM5NCwiZXhwIjoxNzUyODQzMTk0LCJpYXQiOjE3NTI4MTQzOTR9.meKFK6zGV3FQj-faywPpDFUwqDExJsTTHn7ihvnQ08c'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:24:18.154 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:24:18.154 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDM5NCwiZXhwIjoxNzUyODQzMTk0LCJpYXQiOjE3NTI4MTQzOTR9.meKFK6zGV3FQj-faywPpDFUwqDExJsTTHn7ihvnQ08c'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:24:55.105 | General Service|:: CompanyIndex:0 SpName: spADM_GetClientUserDetails2C 
 'admin'
 ,1
 ,0
[System: 192.168.1.54] DEBUG | 07-18-2025 10:24:55.151 | General Service|:: CompanyIndex:0 SpName: spADM_UserLoginCheck 
 2
 ,'admin'
 ,0
 ,'192.168.1.54'
 ,'192.168.1.54'
 ,''
 ,'Web'
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:24:58.874 | General Service|:: CompanyIndex:13 SpName: spADM_GetClientUserDetails 
 'admin'
 ,1
 ,'26.1.0'
 ,0
[System: 192.168.1.54] DEBUG | 07-18-2025 10:24:58.921 | General Service|:: CompanyIndex:0 SpName: spADM_UserLoginCheck 
 2
 ,'admin'
 ,13
 ,'192.168.1.54'
 ,'192.168.1.54'
 ,''
 ,'Web'
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:24:58.921 | General Service|:: CompanyIndex:0 SpName: spADM_Login 
 1
 ,''
 ,''
 ,''
 ,''
 ,''
 ,13
[System: 192.168.1.54] DEBUG | 07-18-2025 10:24:58.937 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select Value from ADM_GlobalPreferences with (nolock) where name =''EnableReLogin'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:24:58.937 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDQ5OCwiZXhwIjoxNzUyODQzMjk4LCJpYXQiOjE3NTI4MTQ0OTh9.m9011VKGTgvXLGEE6vGzyfZKw06t7V8e8lpDBs7YliM'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:24:58.968 | General Service|:: CompanyIndex:0 SpName: spADM_Login 
 4
 ,''
 ,''
 ,''
 ,'declare @Cnt int,@ExpiredGUID nvarchar(50),@AllowSession int,@GUID nvarchar(50),@CurrDate float,@UserID INT,@Instances INT,@InstancesExists INT,@LCDBIndex int
set @CurrDate= convert(float,dateadd(minute,-21,getdate()))
set @AllowSession=0
set @GUID=''f0cf5b4c-4523-4630-9071-59fe7ec187bc''
set @LCDBIndex=0
select top 1 @UserID=UserID,@Instances=InstanceCount from ADM_Users with(nolock) where UserName=''admin''
if exists(select [GUID] from ADM_Login with(nolock) where [GUID]=@GUID)
begin
	update ADM_Login 
	set LastAccessTime=convert(float,getdate()),UserID=@UserID
	where [GUID]=@GUID
    set @AllowSession=1
end
else
begin
	select @Cnt=count(*) from ADM_Login with(nolock) where LCDBIndex=@LCDBIndex and [GUID]!=''ACCESSRIGHTS'' and AP =''WEB''
    if(@Cnt<100)
		set @AllowSession=1
	else
	begin
		select top 1 @ExpiredGUID=[GUID] from ADM_Login with(nolock)
		where [GUID]!=''ACCESSRIGHTS'' and LCDBIndex=@LCDBIndex and LastAccessTime<@CurrDate  and AP =''WEB''
        order by LastAccessTime asc
		if @ExpiredGUID is not null
		begin
			delete from ADM_Login where [GUID]=@ExpiredGUID
			set @AllowSession=1
		end
	end
	if @AllowSession=1
	begin
        select @InstancesExists=COUNT(*) from ADM_Login with(nolock)
		where [GUID]!=''ACCESSRIGHTS'' and LCDBIndex=@LCDBIndex and LastAccessTime>=@CurrDate and UserID=@UserID and AP =''WEB''
		if(@Instances!=0 and @Instances<=@InstancesExists)
			set @AllowSession=2
		else
		    INSERT INTO ADM_Login([GUID],[SysName],IPAddress,[Status],LoginTime,LastAccessTime,AccessRights,UserID,DBIndex,LCDBIndex,AP)
		    VALUES(@GUID,''WEB'',''192.168.1.54'',1,convert(float,getdate()),convert(float,getdate()),null,@UserID,13,@LCDBIndex, ''WEB'')
	end
end

select @AllowSession AllowSession,@Instances Instances,@InstancesExists InstancesExists
'
 ,''
 ,0
[System: 192.168.1.54] DEBUG | 07-18-2025 10:24:58.968 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDQ5OCwiZXhwIjoxNzUyODQzMjk4LCJpYXQiOjE3NTI4MTQ0OTh9.m9011VKGTgvXLGEE6vGzyfZKw06t7V8e8lpDBs7YliM'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:24:58.999 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'SELECT (SELECT COUNT(*) FROM COM_Location L WITH(NOLOCK) JOIN COM_Status S WITH(NOLOCK) ON S.StatusID=L.StatusID WHERE L.IsGroup=0 AND S.[Status]=''Active'') ML
,(SELECT COUNT(*) FROM ADM_Features WITH(NOLOCK) WHERE ((FeatureID>50000 AND FeatureID<=50050) OR FeatureID>=51000) AND IsEnabled=1) MD
,(SELECT ISNULL(COUNT(*),0) FROM ADM_RevenUReports WITH(NOLOCK) WHERE IsGroup=0 AND ReportID>10000 AND StaticReportType IN (0,-1)) MR'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:24:58.999 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDQ5OCwiZXhwIjoxNzUyODQzMjk4LCJpYXQiOjE3NTI4MTQ0OTh9.m9011VKGTgvXLGEE6vGzyfZKw06t7V8e8lpDBs7YliM'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:25:00.455 | General Service|:: CompanyIndex:13 SpName: spCOM_ConfigValues 
 1
 ,'NotifTime'
 ,''
[System: 192.168.1.54] DEBUG | 07-18-2025 10:25:00.455 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDQ5OCwiZXhwIjoxNzUyODQzMjk4LCJpYXQiOjE3NTI4MTQ0OTh9.m9011VKGTgvXLGEE6vGzyfZKw06t7V8e8lpDBs7YliM'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:25:00.627 | General Service|:: CompanyIndex:13 SpName: spADM_GetRibbonView 
 1
 ,1
 ,1
 ,1
 ,0
 ,''
[System: 192.168.1.54] DEBUG | 07-18-2025 10:25:00.643 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDQ5OCwiZXhwIjoxNzUyODQzMjk4LCJpYXQiOjE3NTI4MTQ0OTh9.m9011VKGTgvXLGEE6vGzyfZKw06t7V8e8lpDBs7YliM'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:25:00.830 | General Service|:: CompanyIndex:13 SpName: spRPT_GetReport 
 2
 ,0
 ,'1'
 ,'1'
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:25:00.846 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDQ5OCwiZXhwIjoxNzUyODQzMjk4LCJpYXQiOjE3NTI4MTQ0OTh9.m9011VKGTgvXLGEE6vGzyfZKw06t7V8e8lpDBs7YliM'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:25:00.846 | General Service|:: CompanyIndex:13 SpName: spADM_GetDashBoard 
 2
 ,0
 ,0
 ,'1'
 ,'1'
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:25:00.862 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDQ5OCwiZXhwIjoxNzUyODQzMjk4LCJpYXQiOjE3NTI4MTQ0OTh9.m9011VKGTgvXLGEE6vGzyfZKw06t7V8e8lpDBs7YliM'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:25:00.862 | General Service|:: CompanyIndex:13 SpName: spCOM_ConfigValues 
 1
 ,'LandingDocs'
 ,'1'
[System: 192.168.1.54] DEBUG | 07-18-2025 10:25:00.877 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDQ5OCwiZXhwIjoxNzUyODQzMjk4LCJpYXQiOjE3NTI4MTQ0OTh9.m9011VKGTgvXLGEE6vGzyfZKw06t7V8e8lpDBs7YliM'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:25:00.908 | General Service|:: CompanyIndex:13 SpName: spADM_GetAllListViewsDef 
 1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:25:00.908 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDQ5OCwiZXhwIjoxNzUyODQzMjk4LCJpYXQiOjE3NTI4MTQ0OTh9.m9011VKGTgvXLGEE6vGzyfZKw06t7V8e8lpDBs7YliM'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:25:00.908 | General Service|:: CompanyIndex:13 SpName: spCOM_GetFavorites 
 'GETLIST0'
 ,0
 ,'1'
 ,'1'
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:25:00.908 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDQ5OCwiZXhwIjoxNzUyODQzMjk4LCJpYXQiOjE3NTI4MTQ0OTh9.m9011VKGTgvXLGEE6vGzyfZKw06t7V8e8lpDBs7YliM'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:25:00.986 | General Service|:: CompanyIndex:13 SpName: spADM_GetAllListViewsDef 
 1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:25:00.986 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDQ5OCwiZXhwIjoxNzUyODQzMjk4LCJpYXQiOjE3NTI4MTQ0OTh9.m9011VKGTgvXLGEE6vGzyfZKw06t7V8e8lpDBs7YliM'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:25:01.096 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'Select CostCenterID,CostCenterColID,CostCenterName,SysTableName,UserColumnName,SysColumnName,ISNULL(UserDefaultValue,'''') UserDefaultValue
From AdM_CostCenterDef WITH(NOLOCK)
Where SysColumnName IN(''CreditAccount'',''DebitAccount'',''ProductID'') 
AND CostCenterID>40000 AND CostCenterID<50000 

SELECT * FROM ADM_Features WITH(NOLOCK) '
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:25:01.111 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDQ5OCwiZXhwIjoxNzUyODQzMjk4LCJpYXQiOjE3NTI4MTQ0OTh9.m9011VKGTgvXLGEE6vGzyfZKw06t7V8e8lpDBs7YliM'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:25:01.158 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 '  SELECT * FROM PAY_PayrollPreferences WITH(NOLOCK) '
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:25:01.158 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDQ5OCwiZXhwIjoxNzUyODQzMjk4LCJpYXQiOjE3NTI4MTQ0OTh9.m9011VKGTgvXLGEE6vGzyfZKw06t7V8e8lpDBs7YliM'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:25:01.205 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 '  --0
                                Select * FROM COM_CC50051 WITH(NOLOCK) WHERE IsGroup=0 AND LoginUserID=''admin''
                                --1                                
                                Select * FROM COM_CC50051 WITH(NOLOCK) WHERE RptManager IN (Select NodeID FROM COM_CC50051 WITH(NOLOCK) WHERE IsGroup=0 AND LoginUserID=''admin'')
                                UNION ALL
                                Select * FROM COM_CC50051 WITH(NOLOCK) WHERE RptManager IN 
                                (
	                                Select NodeID FROM COM_CC50051 WITH(NOLOCK) 
	                                WHERE IsGroup=0 AND LoginUserID IN
	                                (
	                                SELECT fe.LoginUserID
	                                FROM INV_DocDetails a WITH(NOLOCK) 
	                                JOIN COM_DocCCData b WITH(NOLOCK) ON b.InvDocDetailsID=a.InvDocDetailsID
	                                JOIN COM_DocNumData c WITH(NOLOCK) ON c.InvDocDetailsID=a.InvDocDetailsID
	                                JOIN COM_DocTextData d WITH(NOLOCK) ON d.InvDocDetailsID=a.InvDocDetailsID
	                                JOIN COM_CC50051 fe WITH(NOLOCK) on fe.NodeID=b.dcCCNID51
	                                JOIN COM_CC50051 te WITH(NOLOCK) on CONVERT(NVARCHAR,te.NodeID)=d.dcAlpha1
	                                WHERE a.CostCenterID=40098 and a.StatusID=369 AND d.dcAlpha3=''Temporary''
	                                AND te.LoginUserID=''admin'' 
	                                AND ISDATE(d.dcAlpha4)=1 AND ISDATE(d.dcAlpha5)=1 
	                                AND CONVERT(DATETIME,''18 Jul 2025'') BETWEEN CONVERT(DATETIME,d.dcAlpha4) AND CONVERT(DATETIME,d.dcAlpha5)
	                                )
                                )
                                --2
                                Select * FROM ADM_USERS WITH(NOLOCK) WHERE USERID=1
                                --3
                                Select * FROM COM_CostCenterCostCenterMap WITH(NOLOCK) WHERE ParentCostCenterID=7 AND ParentNodeID=1
                                --4                                
                                Select * FROM COM_CostCenterCostCenterMap WITH(NOLOCK) WHERE ParentCostCenterID=7 AND ParentNodeID=1
                                AND CostCenterID IN(Select ColumnCostCenterID From ADM_CostCenterDef Where CostCenterID=50051 AND IsColumnInUse=1 AND SysColumnName LIKE ''CCNID%'')
                                --5
                                Select * from COM_Files WITH(NOLOCK) WHERE FeatureID=50051 AND FeaturePK IN (Select NodeID FROM COM_CC50051 WITH(NOLOCK) WHERE IsGroup=0 AND LoginUserID=''admin'')                         
'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:25:01.205 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDQ5OCwiZXhwIjoxNzUyODQzMjk4LCJpYXQiOjE3NTI4MTQ0OTh9.m9011VKGTgvXLGEE6vGzyfZKw06t7V8e8lpDBs7YliM'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:25:01.330 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:25:01.330 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDQ5OCwiZXhwIjoxNzUyODQzMjk4LCJpYXQiOjE3NTI4MTQ0OTh9.m9011VKGTgvXLGEE6vGzyfZKw06t7V8e8lpDBs7YliM'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:25:01.596 | General Service|:: CompanyIndex:13 SpName: spADM_GetDashBoard 
 1
 ,8
 ,0
 ,'1'
 ,'1'
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:25:01.596 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDQ5OCwiZXhwIjoxNzUyODQzMjk4LCJpYXQiOjE3NTI4MTQ0OTh9.m9011VKGTgvXLGEE6vGzyfZKw06t7V8e8lpDBs7YliM'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:25:01.627 | General Service|:: CompanyIndex:13 SpName: spRPT_GetReport 
 0
 ,30456
 ,'1'
 ,'1'
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:25:01.627 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDQ5OCwiZXhwIjoxNzUyODQzMjk4LCJpYXQiOjE3NTI4MTQ0OTh9.m9011VKGTgvXLGEE6vGzyfZKw06t7V8e8lpDBs7YliM'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:25:01.721 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'SELECT StaticReportType FROM ADM_RevenUReports WITH(NOLOCK) WHERE ReportID=30456'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:25:01.721 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDQ5OCwiZXhwIjoxNzUyODQzMjk4LCJpYXQiOjE3NTI4MTQ0OTh9.m9011VKGTgvXLGEE6vGzyfZKw06t7V8e8lpDBs7YliM'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:25:01.861 | General Service|:: CompanyIndex:13 SpName: spRPT_GetReportCategoryandField 
 -1
 ,0
 ,1
 ,0
 ,'1'
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:25:01.861 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDQ5OCwiZXhwIjoxNzUyODQzMjk4LCJpYXQiOjE3NTI4MTQ0OTh9.m9011VKGTgvXLGEE6vGzyfZKw06t7V8e8lpDBs7YliM'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:25:01.908 | General Service|:: CompanyIndex:13 SpName: spRPT_GetReportFields 
 400
 ,0
 ,'1'
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:25:01.908 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDQ5OCwiZXhwIjoxNzUyODQzMjk4LCJpYXQiOjE3NTI4MTQ0OTh9.m9011VKGTgvXLGEE6vGzyfZKw06t7V8e8lpDBs7YliM'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:25:01.971 | General Service|:: CompanyIndex:13 SpName: spRPT_GetReportData 
 9
 ,1
 ,'<XML UID="1" ShowMyQueue="0"></XML>'
 ,'1'
[System: 192.168.1.54] DEBUG | 07-18-2025 10:25:01.971 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDQ5OCwiZXhwIjoxNzUyODQzMjk4LCJpYXQiOjE3NTI4MTQ0OTh9.m9011VKGTgvXLGEE6vGzyfZKw06t7V8e8lpDBs7YliM'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:25:02.142 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
                EXEC spRPT_GetReportData @Type=8,@Param1=1,@strXML=null,@RoleID=1
SELECT ACC.VoucherNo [C858bdfa70f884b78b8ec0453808910bb],ACC.VersionNo [C858bdfa70f884b78b8ec0453808910bbVer],CONVERT(DATETIME,ACC.DocDate) [Cf4c1ff96517a40978b75103376667aae],ACC.DocAbbr [C501419b9c341410d8920b953fb30cfbf],ACC.Amount [Cfa623191688842d5ac3c0cd9232cfb2e],NULL [C90a85d26ad47471988897309a5c78218],T1.UserName [Cd0c4cb9a7057416ca691fb5c4774545b],T3.Name [C80a6de4371d045c08bf9d035c1831959],ACC.CommonNarration [Ce66e27446651436893b0d2c967dd0ecb],T4.Status [Ca7da089a0bd542838ddeb39e78a982ea],T5.Name [Cff89130f277d4635b5e1c5e6887cbcb5],ACC.VoucherNo [Cdacb59b3f5e54f18b65dfc4cf3186555],ACC.DocAbbr [Cdacb59b3f5e54f18b65dfc4cf3186555Abr],ACC.DocPrefix [Cdacb59b3f5e54f18b65dfc4cf3186555prf],CONVERT(BIGINT,ACC.DocNumber) [Cdacb59b3f5e54f18b65dfc4cf3186555dno]
 FROM ACC_DocDetails ACC with(nolock) left join ADM_Users T1 with(nolock) on ACC.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on ACC.AccDocDetailsID=TDCC.AccDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on ACC.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (ACC.CostCenterID=41053) AND T4.Status=''Unapproved'' AND ACC.LinkedAccDocDetailsID is null AND WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT ACC.VoucherNo,ACC.VersionNo,CONVERT(DATETIME,ACC.DocDate),ACC.DocAbbr,ACC.Amount,NULL,T1.UserName,T3.Name,ACC.CommonNarration,T4.Status,T5.Name,ACC.VoucherNo,ACC.DocAbbr,ACC.DocPrefix,CONVERT(BIGINT,ACC.DocNumber)
 FROM ACC_DocDetails ACC with(nolock) left join ADM_Users T1 with(nolock) on ACC.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on ACC.AccDocDetailsID=TDCC.AccDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on ACC.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (ACC.CostCenterID=41061) AND T4.Status=''Unapproved'' AND ACC.LinkedAccDocDetailsID is null AND WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT ACC.VoucherNo,ACC.VersionNo,CONVERT(DATETIME,ACC.DocDate),ACC.DocAbbr,ACC.Amount,NULL,T1.UserName,T3.Name,ACC.CommonNarration,T4.Status,T5.Name,ACC.VoucherNo,ACC.DocAbbr,ACC.DocPrefix,CONVERT(BIGINT,ACC.DocNumber)
 FROM ACC_DocDetails ACC with(nolock) left join ADM_Users T1 with(nolock) on ACC.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on ACC.AccDocDetailsID=TDCC.AccDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on ACC.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (ACC.CostCenterID=40023) AND T4.Status=''Unapproved'' AND ACC.LinkedAccDocDetailsID is null AND WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT ACC.VoucherNo,ACC.VersionNo,CONVERT(DATETIME,ACC.DocDate),ACC.DocAbbr,ACC.Amount,NULL,T1.UserName,T3.Name,ACC.CommonNarration,T4.Status,T5.Name,ACC.VoucherNo,ACC.DocAbbr,ACC.DocPrefix,CONVERT(BIGINT,ACC.DocNumber)
 FROM ACC_DocDetails ACC with(nolock) left join ADM_Users T1 with(nolock) on ACC.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on ACC.AccDocDetailsID=TDCC.AccDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on ACC.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (ACC.CostCenterID=41064) AND T4.Status=''Unapproved'' AND ACC.LinkedAccDocDetailsID is null AND WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT ACC.VoucherNo,ACC.VersionNo,CONVERT(DATETIME,ACC.DocDate),ACC.DocAbbr,ACC.Amount,NULL,T1.UserName,T3.Name,ACC.CommonNarration,T4.Status,T5.Name,ACC.VoucherNo,ACC.DocAbbr,ACC.DocPrefix,CONVERT(BIGINT,ACC.DocNumber)
 FROM ACC_DocDetails ACC with(nolock) left join ADM_Users T1 with(nolock) on ACC.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on ACC.AccDocDetailsID=TDCC.AccDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on ACC.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (ACC.CostCenterID=41006) AND T4.Status=''Unapproved'' AND ACC.LinkedAccDocDetailsID is null AND WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT ACC.VoucherNo,ACC.VersionNo,CONVERT(DATETIME,ACC.DocDate),ACC.DocAbbr,ACC.Amount,NULL,T1.UserName,T3.Name,ACC.CommonNarration,T4.Status,T5.Name,ACC.VoucherNo,ACC.DocAbbr,ACC.DocPrefix,CONVERT(BIGINT,ACC.DocNumber)
 FROM ACC_DocDetails ACC with(nolock) left join ADM_Users T1 with(nolock) on ACC.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on ACC.AccDocDetailsID=TDCC.AccDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on ACC.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (ACC.CostCenterID=40022) AND T4.Status=''Unapproved'' AND ACC.LinkedAccDocDetailsID is null AND WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT ACC.VoucherNo,ACC.VersionNo,CONVERT(DATETIME,ACC.DocDate),ACC.DocAbbr,ACC.Amount,NULL,T1.UserName,T3.Name,ACC.CommonNarration,T4.Status,T5.Name,ACC.VoucherNo,ACC.DocAbbr,ACC.DocPrefix,CONVERT(BIGINT,ACC.DocNumber)
 FROM ACC_DocDetails ACC with(nolock) left join ADM_Users T1 with(nolock) on ACC.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on ACC.AccDocDetailsID=TDCC.AccDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on ACC.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (ACC.CostCenterID=41075) AND T4.Status=''Unapproved'' AND ACC.LinkedAccDocDetailsID is null AND WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT ACC.VoucherNo,ACC.VersionNo,CONVERT(DATETIME,ACC.DocDate),ACC.DocAbbr,ACC.Amount,NULL,T1.UserName,T3.Name,ACC.CommonNarration,T4.Status,T5.Name,ACC.VoucherNo,ACC.DocAbbr,ACC.DocPrefix,CONVERT(BIGINT,ACC.DocNumber)
 FROM ACC_DocDetails ACC with(nolock) left join ADM_Users T1 with(nolock) on ACC.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on ACC.AccDocDetailsID=TDCC.AccDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on ACC.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (ACC.CostCenterID=41077) AND T4.Status=''Unapproved'' AND ACC.LinkedAccDocDetailsID is null AND WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT ACC.VoucherNo,ACC.VersionNo,CONVERT(DATETIME,ACC.DocDate),ACC.DocAbbr,ACC.Amount,NULL,T1.UserName,T3.Name,ACC.CommonNarration,T4.Status,T5.Name,ACC.VoucherNo,ACC.DocAbbr,ACC.DocPrefix,CONVERT(BIGINT,ACC.DocNumber)
 FROM ACC_DocDetails ACC with(nolock) left join ADM_Users T1 with(nolock) on ACC.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on ACC.AccDocDetailsID=TDCC.AccDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on ACC.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (ACC.CostCenterID=40014) AND T4.Status=''Unapproved'' AND ACC.LinkedAccDocDetailsID is null AND WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT ACC.VoucherNo,ACC.VersionNo,CONVERT(DATETIME,ACC.DocDate),ACC.DocAbbr,ACC.Amount,NULL,T1.UserName,T3.Name,ACC.CommonNarration,T4.Status,T5.Name,ACC.VoucherNo,ACC.DocAbbr,ACC.DocPrefix,CONVERT(BIGINT,ACC.DocNumber)
 FROM ACC_DocDetails ACC with(nolock) left join ADM_Users T1 with(nolock) on ACC.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on ACC.AccDocDetailsID=TDCC.AccDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on ACC.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (ACC.CostCenterID=41065) AND T4.Status=''Unapproved'' AND ACC.LinkedAccDocDetailsID is null AND WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT ACC.VoucherNo,ACC.VersionNo,CONVERT(DATETIME,ACC.DocDate),ACC.DocAbbr,ACC.Amount,NULL,T1.UserName,T3.Name,ACC.CommonNarration,T4.Status,T5.Name,ACC.VoucherNo,ACC.DocAbbr,ACC.DocPrefix,CONVERT(BIGINT,ACC.DocNumber)
 FROM ACC_DocDetails ACC with(nolock) left join ADM_Users T1 with(nolock) on ACC.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on ACC.AccDocDetailsID=TDCC.AccDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on ACC.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (ACC.CostCenterID=40017) AND T4.Status=''Unapproved'' AND ACC.LinkedAccDocDetailsID is null AND WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT INV.VoucherNo,INV.VersionNo,CONVERT(DATETIME,INV.DocDate),INV.DocAbbr,NULL,CASE WHEN (SELECT DocumentType FROM ADM_DocumentTypes WITH(NOLOCK) WHERE CostCenterID=INV.CostCenterID)=38 AND VoucherType=1 THEN -INV.Gross ELSE INV.Gross END,T1.UserName,T3.Name,INV.CommonNarration,T4.Status,T5.Name,INV.VoucherNo,INV.DocAbbr,INV.DocPrefix,CONVERT(BIGINT,INV.DocNumber)
 FROM INV_DocDetails INV with(nolock) left join ADM_Users T1 with(nolock) on INV.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on INV.InvDocDetailsID=TDCC.InvDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on INV.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (INV.CostCenterID=41018) AND T4.Status=''Unapproved'' AND WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef and INV.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT INV.VoucherNo,INV.VersionNo,CONVERT(DATETIME,INV.DocDate),INV.DocAbbr,NULL,CASE WHEN (SELECT DocumentType FROM ADM_DocumentTypes WITH(NOLOCK) WHERE CostCenterID=INV.CostCenterID)=38 AND VoucherType=1 THEN -INV.Gross ELSE INV.Gross END,T1.UserName,T3.Name,INV.CommonNarration,T4.Status,T5.Name,INV.VoucherNo,INV.DocAbbr,INV.DocPrefix,CONVERT(BIGINT,INV.DocNumber)
 FROM INV_DocDetails INV with(nolock) left join ADM_Users T1 with(nolock) on INV.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on INV.InvDocDetailsID=TDCC.InvDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on INV.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (INV.CostCenterID=40011) AND T4.Status=''Unapproved'' AND WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef and INV.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT INV.VoucherNo,INV.VersionNo,CONVERT(DATETIME,INV.DocDate),INV.DocAbbr,NULL,CASE WHEN (SELECT DocumentType FROM ADM_DocumentTypes WITH(NOLOCK) WHERE CostCenterID=INV.CostCenterID)=38 AND VoucherType=1 THEN -INV.Gross ELSE INV.Gross END,T1.UserName,T3.Name,INV.CommonNarration,T4.Status,T5.Name,INV.VoucherNo,INV.DocAbbr,INV.DocPrefix,CONVERT(BIGINT,INV.DocNumber)
 FROM INV_DocDetails INV with(nolock) left join ADM_Users T1 with(nolock) on INV.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on INV.InvDocDetailsID=TDCC.InvDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on INV.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (INV.CostCenterID=41072) AND T4.Status=''Unapproved'' AND WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef and INV.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT INV.VoucherNo,INV.VersionNo,CONVERT(DATETIME,INV.DocDate),INV.DocAbbr,NULL,CASE WHEN (SELECT DocumentType FROM ADM_DocumentTypes WITH(NOLOCK) WHERE CostCenterID=INV.CostCenterID)=38 AND VoucherType=1 THEN -INV.Gross ELSE INV.Gross END,T1.UserName,T3.Name,INV.CommonNarration,T4.Status,T5.Name,INV.VoucherNo,INV.DocAbbr,INV.DocPrefix,CONVERT(BIGINT,INV.DocNumber)
 FROM INV_DocDetails INV with(nolock) left join ADM_Users T1 with(nolock) on INV.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on INV.InvDocDetailsID=TDCC.InvDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on INV.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (INV.CostCenterID=41057) AND T4.Status=''Unapproved'' AND WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef and INV.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT INV.VoucherNo,INV.VersionNo,CONVERT(DATETIME,INV.DocDate),INV.DocAbbr,NULL,CASE WHEN (SELECT DocumentType FROM ADM_DocumentTypes WITH(NOLOCK) WHERE CostCenterID=INV.CostCenterID)=38 AND VoucherType=1 THEN -INV.Gross ELSE INV.Gross END,T1.UserName,T3.Name,INV.CommonNarration,T4.Status,T5.Name,INV.VoucherNo,INV.DocAbbr,INV.DocPrefix,CONVERT(BIGINT,INV.DocNumber)
 FROM INV_DocDetails INV with(nolock) left join ADM_Users T1 with(nolock) on INV.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on INV.InvDocDetailsID=TDCC.InvDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on INV.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (INV.CostCenterID=41060) AND T4.Status=''Unapproved'' AND WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef and INV.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT INV.VoucherNo,INV.VersionNo,CONVERT(DATETIME,INV.DocDate),INV.DocAbbr,NULL,CASE WHEN (SELECT DocumentType FROM ADM_DocumentTypes WITH(NOLOCK) WHERE CostCenterID=INV.CostCenterID)=38 AND VoucherType=1 THEN -INV.Gross ELSE INV.Gross END,T1.UserName,T3.Name,INV.CommonNarration,T4.Status,T5.Name,INV.VoucherNo,INV.DocAbbr,INV.DocPrefix,CONVERT(BIGINT,INV.DocNumber)
 FROM INV_DocDetails INV with(nolock) left join ADM_Users T1 with(nolock) on INV.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on INV.InvDocDetailsID=TDCC.InvDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on INV.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (INV.CostCenterID=40001) AND T4.Status=''Unapproved'' AND WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef and INV.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT INV.VoucherNo,INV.VersionNo,CONVERT(DATETIME,INV.DocDate),INV.DocAbbr,NULL,CASE WHEN (SELECT DocumentType FROM ADM_DocumentTypes WITH(NOLOCK) WHERE CostCenterID=INV.CostCenterID)=38 AND VoucherType=1 THEN -INV.Gross ELSE INV.Gross END,T1.UserName,T3.Name,INV.CommonNarration,T4.Status,T5.Name,INV.VoucherNo,INV.DocAbbr,INV.DocPrefix,CONVERT(BIGINT,INV.DocNumber)
 FROM INV_DocDetails INV with(nolock) left join ADM_Users T1 with(nolock) on INV.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on INV.InvDocDetailsID=TDCC.InvDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on INV.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (INV.CostCenterID=41054) AND T4.Status=''Unapproved'' AND WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef and INV.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT ACC.VoucherNo,ACC.VersionNo,CONVERT(DATETIME,ACC.DocDate),ACC.DocAbbr,ACC.Amount,NULL,T1.UserName,T3.Name,ACC.CommonNarration,T4.Status,T5.Name,ACC.VoucherNo,ACC.DocAbbr,ACC.DocPrefix,CONVERT(BIGINT,ACC.DocNumber)
 FROM ACC_DocDetails ACC with(nolock) left join ADM_Users T1 with(nolock) on ACC.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on ACC.AccDocDetailsID=TDCC.AccDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on ACC.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (ACC.CostCenterID=41033) AND T4.Status=''Unapproved'' AND ACC.LinkedAccDocDetailsID is null AND WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT ACC.VoucherNo,ACC.VersionNo,CONVERT(DATETIME,ACC.DocDate),ACC.DocAbbr,ACC.Amount,NULL,T1.UserName,T3.Name,ACC.CommonNarration,T4.Status,T5.Name,ACC.VoucherNo,ACC.DocAbbr,ACC.DocPrefix,CONVERT(BIGINT,ACC.DocNumber)
 FROM ACC_DocDetails ACC with(nolock) left join ADM_Users T1 with(nolock) on ACC.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on ACC.AccDocDetailsID=TDCC.AccDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on ACC.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (ACC.CostCenterID=40019) AND T4.Status=''Unapproved'' AND ACC.LinkedAccDocDetailsID is null AND WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT ACC.VoucherNo,ACC.VersionNo,CONVERT(DATETIME,ACC.DocDate),ACC.DocAbbr,ACC.Amount,NULL,T1.UserName,T3.Name,ACC.CommonNarration,T4.Status,T5.Name,ACC.VoucherNo,ACC.DocAbbr,ACC.DocPrefix,CONVERT(BIGINT,ACC.DocNumber)
 FROM ACC_DocDetails ACC with(nolock) left join ADM_Users T1 with(nolock) on ACC.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on ACC.AccDocDetailsID=TDCC.AccDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on ACC.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (ACC.CostCenterID=41013) AND T4.Status=''Unapproved'' AND ACC.LinkedAccDocDetailsID is null AND WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef and ACC.CreatedDate+WF.CtWef<=convert(float,getdate()))) ORDER BY [Cdacb59b3f5e54f18b65dfc4cf3186555Abr] ,[Cdacb59b3f5e54f18b65dfc4cf3186555prf] ,[Cdacb59b3f5e54f18b65dfc4cf3186555dno]  
 DROP TABLE #TblUsrWF'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:25:02.142 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDQ5OCwiZXhwIjoxNzUyODQzMjk4LCJpYXQiOjE3NTI4MTQ0OTh9.m9011VKGTgvXLGEE6vGzyfZKw06t7V8e8lpDBs7YliM'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:25:02.844 | General Service|:: CompanyIndex:13 SpName: spDOC_GetDocumentDefinition 
 41025
 ,NULL
 ,NULL
 ,''
 ,1
 ,'admin'
 ,1
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:25:02.859 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDQ5OCwiZXhwIjoxNzUyODQzMjk4LCJpYXQiOjE3NTI4MTQ0OTh9.m9011VKGTgvXLGEE6vGzyfZKw06t7V8e8lpDBs7YliM'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:25:02.906 | General Service|:: CompanyIndex:13 SpName: spDoc_GetCurrencyExchangeRate 
 1
 ,'18-Jul-2025'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:25:02.906 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDQ5OCwiZXhwIjoxNzUyODQzMjk4LCJpYXQiOjE3NTI4MTQ0OTh9.m9011VKGTgvXLGEE6vGzyfZKw06t7V8e8lpDBs7YliM'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:25:02.938 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'SELECT Code FROM COM_Location WITH(NOLOCK) WHERE NodeID=27'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:25:02.938 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDQ5OCwiZXhwIjoxNzUyODQzMjk4LCJpYXQiOjE3NTI4MTQ0OTh9.m9011VKGTgvXLGEE6vGzyfZKw06t7V8e8lpDBs7YliM'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:25:02.953 | General Service|:: CompanyIndex:13 SpName: spDOC_GetDocumentPrefix 
 41025
 ,27
 ,''
 ,''
 ,'1'
 ,'1'
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:25:02.953 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDQ5OCwiZXhwIjoxNzUyODQzMjk4LCJpYXQiOjE3NTI4MTQ0OTh9.m9011VKGTgvXLGEE6vGzyfZKw06t7V8e8lpDBs7YliM'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:25:02.969 | General Service|:: CompanyIndex:13 SpName: spDOC_GetDueDate 
 55687
 ,27
 ,0
 ,0
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:25:02.984 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDQ5OCwiZXhwIjoxNzUyODQzMjk4LCJpYXQiOjE3NTI4MTQ0OTh9.m9011VKGTgvXLGEE6vGzyfZKw06t7V8e8lpDBs7YliM'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:25:03.000 | General Service|:: CompanyIndex:13 SpName: spDOC_GetCurrentCodeNumber 
 41025
 ,'023/25/'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:25:03.000 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDQ5OCwiZXhwIjoxNzUyODQzMjk4LCJpYXQiOjE3NTI4MTQ0OTh9.m9011VKGTgvXLGEE6vGzyfZKw06t7V8e8lpDBs7YliM'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:25:03.031 | General Service|:: CompanyIndex:13 SpName: spDOC_GetLinkReferenceData 
 566117
 ,41025
 ,55687
 ,'18/Jul/2025'
 ,55687
 ,'<XML><Row CostCenterID="50011" NODEID="1" /><Row CostCenterID="50002" NODEID="27" /><Row CostCenterID="50058" NODEID="1" /><Row CostCenterID="50059" NODEID="1" /><Row CostCenterID="50061" NODEID="11" /><Row CostCenterID="50062" NODEID="1" /></XML>'
 ,False
 ,'0'
 ,'0'
 ,'0'
 ,NULL
 ,'0'
 ,'0'
 ,'0'
 ,''
 ,'1'
 ,1
 ,'1'
[System: 192.168.1.54] DEBUG | 07-18-2025 10:25:03.047 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDQ5OCwiZXhwIjoxNzUyODQzMjk4LCJpYXQiOjE3NTI4MTQ0OTh9.m9011VKGTgvXLGEE6vGzyfZKw06t7V8e8lpDBs7YliM'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:25:03.078 | General Service|:: CompanyIndex:13 SpName: spADM_GetListViewDataByIDs 
 '<XML><Row CCID="50011"  TypeID="1"  DBColumnID="566213"  NodeID="1" /><Row CCID="2"  TypeID="10"  DBColumnID="566117"  NodeID="55687" /><Row CCID="2"  TypeID="100"  DBColumnID="566117"  NodeID="55687" /><Row CCID="2"  TypeID="10"  DBColumnID="566254"  NodeID="3" /><Row CCID="2"  TypeID="100"  DBColumnID="566254"  NodeID="3" /><Row CCID="50011"  TypeID="1"  DBColumnID="566213"  NodeID="1" /><Row CCID="50002"  TypeID="1"  DBColumnID="566204"  NodeID="27" /><Row CCID="50058"  TypeID="1"  DBColumnID="583442"  NodeID="1" /><Row CCID="50059"  TypeID="1"  DBColumnID="583494"  NodeID="1" /><Row CCID="50061"  TypeID="11"  DBColumnID="583598"  NodeID="11" /><Row CCID="50062"  TypeID="1"  DBColumnID="583650"  NodeID="1" /><Row CCID="50058"  TypeID="1"  DBColumnID="583713"  NodeID="1" /></XML>'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:25:03.078 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDQ5OCwiZXhwIjoxNzUyODQzMjk4LCJpYXQiOjE3NTI4MTQ0OTh9.m9011VKGTgvXLGEE6vGzyfZKw06t7V8e8lpDBs7YliM'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:25:03.110 | General Service|:: CompanyIndex:13 SpName: spADM_GetListViewDataByIDs 
 '<XML><Row CCID="50011"  TypeID="1"  DBColumnID="566213"  NodeID="1" /><Row CCID="2"  TypeID="10"  DBColumnID="566117"  NodeID="55687" /><Row CCID="2"  TypeID="100"  DBColumnID="566117"  NodeID="55687" /><Row CCID="2"  TypeID="10"  DBColumnID="566254"  NodeID="3" /><Row CCID="2"  TypeID="100"  DBColumnID="566254"  NodeID="3" /><Row CCID="50011"  TypeID="1"  DBColumnID="566213"  NodeID="1" /><Row CCID="50002"  TypeID="1"  DBColumnID="566204"  NodeID="27" /><Row CCID="50058"  TypeID="1"  DBColumnID="583442"  NodeID="1" /><Row CCID="50059"  TypeID="1"  DBColumnID="583494"  NodeID="1" /><Row CCID="50061"  TypeID="11"  DBColumnID="583598"  NodeID="11" /><Row CCID="50062"  TypeID="1"  DBColumnID="583650"  NodeID="1" /><Row CCID="50058"  TypeID="1"  DBColumnID="583713"  NodeID="1" /></XML>'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:25:03.110 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDQ5OCwiZXhwIjoxNzUyODQzMjk4LCJpYXQiOjE3NTI4MTQ0OTh9.m9011VKGTgvXLGEE6vGzyfZKw06t7V8e8lpDBs7YliM'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:25:03.141 | General Service|:: CompanyIndex:13 SpName: spDOC_GetLinkReferenceData 
 566117
 ,41025
 ,55687
 ,'18/Jul/2025'
 ,55687
 ,'<XML><Row CostCenterID="50011" NODEID="1" /><Row CostCenterID="50002" NODEID="27" /><Row CostCenterID="50058" NODEID="1" /><Row CostCenterID="50059" NODEID="1" /><Row CostCenterID="50061" NODEID="11" /><Row CostCenterID="50062" NODEID="1" /></XML>'
 ,False
 ,'0'
 ,'0'
 ,'0'
 ,NULL
 ,'0'
 ,'0'
 ,'0'
 ,''
 ,'1'
 ,1
 ,'1'
[System: 192.168.1.54] DEBUG | 07-18-2025 10:25:03.141 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDQ5OCwiZXhwIjoxNzUyODQzMjk4LCJpYXQiOjE3NTI4MTQ0OTh9.m9011VKGTgvXLGEE6vGzyfZKw06t7V8e8lpDBs7YliM'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:25:03.172 | General Service|:: CompanyIndex:13 SpName: spADM_GetListViewDataByIDs 
 '<XML><Row CCID="50011"  TypeID="1"  DBColumnID="566213"  NodeID="1" /><Row CCID="2"  TypeID="10"  DBColumnID="566117"  NodeID="55687" /><Row CCID="2"  TypeID="100"  DBColumnID="566117"  NodeID="55687" /><Row CCID="2"  TypeID="10"  DBColumnID="566254"  NodeID="3" /><Row CCID="2"  TypeID="100"  DBColumnID="566254"  NodeID="3" /><Row CCID="50011"  TypeID="1"  DBColumnID="566213"  NodeID="1" /><Row CCID="50002"  TypeID="1"  DBColumnID="566204"  NodeID="27" /><Row CCID="50058"  TypeID="1"  DBColumnID="583442"  NodeID="1" /><Row CCID="50059"  TypeID="1"  DBColumnID="583494"  NodeID="1" /><Row CCID="50061"  TypeID="11"  DBColumnID="583598"  NodeID="11" /><Row CCID="50062"  TypeID="1"  DBColumnID="583650"  NodeID="1" /><Row CCID="50058"  TypeID="1"  DBColumnID="583713"  NodeID="1" /></XML>'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:25:03.172 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDQ5OCwiZXhwIjoxNzUyODQzMjk4LCJpYXQiOjE3NTI4MTQ0OTh9.m9011VKGTgvXLGEE6vGzyfZKw06t7V8e8lpDBs7YliM'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:25:03.234 | General Service|:: CompanyIndex:13 SpName: spADM_GetCostCenterListViewData 
 500055
 ,'a.Name,a.Code,a.ccAlpha11'
 ,''
 ,''
 ,'Name'
 ,''
 ,60
 ,False
 ,''
 ,''
 ,''
 ,''
 ,''
 ,0
 ,False
 ,''
 ,''
 ,'1'
 ,'1'
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:25:03.250 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDQ5OCwiZXhwIjoxNzUyODQzMjk4LCJpYXQiOjE3NTI4MTQ0OTh9.m9011VKGTgvXLGEE6vGzyfZKw06t7V8e8lpDBs7YliM'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:25:04.656 | General Service|:: CompanyIndex:13 SpName: spDOC_GetInvDocument 
 41025
 ,'023/25/'
 ,'116'
 ,'1'
 ,0
 ,' and (a.CostCenterID=c.DocumentID or c.DocumentID=1) and (b.dcCCNID2=c.CCNID2 or c.CCNID2=0)'
 ,1
 ,1
 ,'admin'
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:25:04.656 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDQ5OCwiZXhwIjoxNzUyODQzMjk4LCJpYXQiOjE3NTI4MTQ0OTh9.m9011VKGTgvXLGEE6vGzyfZKw06t7V8e8lpDBs7YliM'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:25:04.703 | General Service|:: CompanyIndex:13 SpName: spADM_GetListViewDataByIDs 
 '<XML><Row CCID="50011"  TypeID="1"  DBColumnID="566213"  NodeID="1" /><Row CCID="2"  TypeID="10"  DBColumnID="566117"  NodeID="55687" /><Row CCID="2"  TypeID="100"  DBColumnID="566117"  NodeID="55687" /><Row CCID="2"  TypeID="10"  DBColumnID="566254"  NodeID="3" /><Row CCID="2"  TypeID="100"  DBColumnID="566254"  NodeID="3" /><Row CCID="50014"  TypeID="4"  DBColumnID="566216"  NodeID="10367" /><Row CCID="50009"  TypeID="3"  DBColumnID="566211"  NodeID="10570" /><Row CCID="50010"  TypeID="3"  DBColumnID="566212"  NodeID="51889" /><Row CCID="50018"  TypeID="1"  DBColumnID="566220"  NodeID="135" /><Row CCID="50070"  TypeID="1"  DBColumnID="598043"  NodeID="4" /><Row CCID="50011"  TypeID="1"  DBColumnID="566213"  NodeID="1" /><Row CCID="50014"  TypeID="4"  DBColumnID="566216"  NodeID="10367" /><Row CCID="50009"  TypeID="3"  DBColumnID="566211"  NodeID="10570" /><Row CCID="50010"  TypeID="3"  DBColumnID="566212"  NodeID="51889" /><Row CCID="50018"  TypeID="1"  DBColumnID="566220"  NodeID="135" /><Row CCID="50070"  TypeID="1"  DBColumnID="598043"  NodeID="4" /><Row CCID="50002"  TypeID="1"  DBColumnID="566204"  NodeID="27" /><Row CCID="50058"  TypeID="1"  DBColumnID="583442"  NodeID="1" /><Row CCID="50059"  TypeID="1"  DBColumnID="583494"  NodeID="1" /><Row CCID="50061"  TypeID="11"  DBColumnID="583598"  NodeID="11" /><Row CCID="50062"  TypeID="1"  DBColumnID="583650"  NodeID="1" /><Row CCID="50058"  TypeID="1"  DBColumnID="583713"  NodeID="1" /><Row CCID="44"  TypeID="122"  DBColumnID="566171"  NodeID="641" /><Row CCID="50060"  TypeID="1"  DBColumnID="583546"  NodeID="1" /></XML>'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:25:04.703 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDQ5OCwiZXhwIjoxNzUyODQzMjk4LCJpYXQiOjE3NTI4MTQ0OTh9.m9011VKGTgvXLGEE6vGzyfZKw06t7V8e8lpDBs7YliM'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:25:04.734 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select ParentNodeID NodeID from COM_CostCenterCostCenterMap where CostCenterID in (8,300) and ParentCostCenterId=50033 and NodeID=41025'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:25:04.734 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDQ5OCwiZXhwIjoxNzUyODQzMjk4LCJpYXQiOjE3NTI4MTQ0OTh9.m9011VKGTgvXLGEE6vGzyfZKw06t7V8e8lpDBs7YliM'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:25:04.750 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select ParentNodeID NodeID from COM_CostCenterCostCenterMap where CostCenterID in (8,300) and ParentCostCenterId=50033 and NodeID=41025'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:25:04.750 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDQ5OCwiZXhwIjoxNzUyODQzMjk4LCJpYXQiOjE3NTI4MTQ0OTh9.m9011VKGTgvXLGEE6vGzyfZKw06t7V8e8lpDBs7YliM'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:25:04.781 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select ParentNodeID NodeID from COM_CostCenterCostCenterMap where CostCenterID in (8,300) and ParentCostCenterId=50033 and NodeID=41025'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:25:04.781 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDQ5OCwiZXhwIjoxNzUyODQzMjk4LCJpYXQiOjE3NTI4MTQ0OTh9.m9011VKGTgvXLGEE6vGzyfZKw06t7V8e8lpDBs7YliM'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:25:04.797 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select ParentNodeID NodeID from COM_CostCenterCostCenterMap where CostCenterID in (8,300) and ParentCostCenterId=50033 and NodeID=41025'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:25:04.797 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDQ5OCwiZXhwIjoxNzUyODQzMjk4LCJpYXQiOjE3NTI4MTQ0OTh9.m9011VKGTgvXLGEE6vGzyfZKw06t7V8e8lpDBs7YliM'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:25:04.813 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select ParentNodeID NodeID from COM_CostCenterCostCenterMap where CostCenterID in (8,300) and ParentCostCenterId=50033 and NodeID=41025'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:25:04.813 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDQ5OCwiZXhwIjoxNzUyODQzMjk4LCJpYXQiOjE3NTI4MTQ0OTh9.m9011VKGTgvXLGEE6vGzyfZKw06t7V8e8lpDBs7YliM'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:25:04.828 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select ParentNodeID NodeID from COM_CostCenterCostCenterMap where CostCenterID in (8,300) and ParentCostCenterId=50033 and NodeID=41025'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:25:04.828 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDQ5OCwiZXhwIjoxNzUyODQzMjk4LCJpYXQiOjE3NTI4MTQ0OTh9.m9011VKGTgvXLGEE6vGzyfZKw06t7V8e8lpDBs7YliM'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:25:04.844 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select ParentNodeID NodeID from COM_CostCenterCostCenterMap where CostCenterID in (8,300) and ParentCostCenterId=50033 and NodeID=41025'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:25:04.859 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDQ5OCwiZXhwIjoxNzUyODQzMjk4LCJpYXQiOjE3NTI4MTQ0OTh9.m9011VKGTgvXLGEE6vGzyfZKw06t7V8e8lpDBs7YliM'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:25:04.859 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select ParentNodeID NodeID from COM_CostCenterCostCenterMap where CostCenterID in (8,300) and ParentCostCenterId=50033 and NodeID=41025'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:25:04.875 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDQ5OCwiZXhwIjoxNzUyODQzMjk4LCJpYXQiOjE3NTI4MTQ0OTh9.m9011VKGTgvXLGEE6vGzyfZKw06t7V8e8lpDBs7YliM'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:25:04.891 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select ParentNodeID NodeID from COM_CostCenterCostCenterMap where CostCenterID in (8,300) and ParentCostCenterId=50033 and NodeID=41025'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:25:04.891 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDQ5OCwiZXhwIjoxNzUyODQzMjk4LCJpYXQiOjE3NTI4MTQ0OTh9.m9011VKGTgvXLGEE6vGzyfZKw06t7V8e8lpDBs7YliM'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:25:04.906 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select ParentNodeID NodeID from COM_CostCenterCostCenterMap where CostCenterID in (8,300) and ParentCostCenterId=50033 and NodeID=41025'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:25:04.906 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDQ5OCwiZXhwIjoxNzUyODQzMjk4LCJpYXQiOjE3NTI4MTQ0OTh9.m9011VKGTgvXLGEE6vGzyfZKw06t7V8e8lpDBs7YliM'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:25:04.922 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select ParentNodeID NodeID from COM_CostCenterCostCenterMap where CostCenterID in (8,300) and ParentCostCenterId=50033 and NodeID=41025'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:25:04.922 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDQ5OCwiZXhwIjoxNzUyODQzMjk4LCJpYXQiOjE3NTI4MTQ0OTh9.m9011VKGTgvXLGEE6vGzyfZKw06t7V8e8lpDBs7YliM'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:25:04.937 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select ParentNodeID NodeID from COM_CostCenterCostCenterMap where CostCenterID in (8,300) and ParentCostCenterId=50033 and NodeID=41025'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:25:04.937 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDQ5OCwiZXhwIjoxNzUyODQzMjk4LCJpYXQiOjE3NTI4MTQ0OTh9.m9011VKGTgvXLGEE6vGzyfZKw06t7V8e8lpDBs7YliM'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:25:04.953 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select ParentNodeID NodeID from COM_CostCenterCostCenterMap where CostCenterID in (8,300) and ParentCostCenterId=50033 and NodeID=41025'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:25:04.953 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDQ5OCwiZXhwIjoxNzUyODQzMjk4LCJpYXQiOjE3NTI4MTQ0OTh9.m9011VKGTgvXLGEE6vGzyfZKw06t7V8e8lpDBs7YliM'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:25:05.063 | General Service|:: CompanyIndex:13 SpName: spADM_GetCostCenterListViewData 
 362
 ,'a.Name,a.Code'
 ,''
 ,''
 ,'Name'
 ,''
 ,60
 ,False
 ,''
 ,''
 ,'(CCNID9=10570)'
 ,''
 ,''
 ,0
 ,False
 ,''
 ,''
 ,'1'
 ,'1'
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:25:05.063 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDQ5OCwiZXhwIjoxNzUyODQzMjk4LCJpYXQiOjE3NTI4MTQ0OTh9.m9011VKGTgvXLGEE6vGzyfZKw06t7V8e8lpDBs7YliM'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:26:02.034 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:26:02.034 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDQ5OCwiZXhwIjoxNzUyODQzMjk4LCJpYXQiOjE3NTI4MTQ0OTh9.m9011VKGTgvXLGEE6vGzyfZKw06t7V8e8lpDBs7YliM'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:27:02.118 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:27:02.118 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDQ5OCwiZXhwIjoxNzUyODQzMjk4LCJpYXQiOjE3NTI4MTQ0OTh9.m9011VKGTgvXLGEE6vGzyfZKw06t7V8e8lpDBs7YliM'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:28:02.170 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:28:02.186 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDQ5OCwiZXhwIjoxNzUyODQzMjk4LCJpYXQiOjE3NTI4MTQ0OTh9.m9011VKGTgvXLGEE6vGzyfZKw06t7V8e8lpDBs7YliM'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:29:42.019 | General Service|:: CompanyIndex:0 SpName: spADM_GetClientUserDetails2C 
 'admin'
 ,1
 ,0
[System: 192.168.1.54] DEBUG | 07-18-2025 10:29:42.050 | General Service|:: CompanyIndex:0 SpName: spADM_UserLoginCheck 
 2
 ,'admin'
 ,0
 ,'192.168.1.54'
 ,'192.168.1.54'
 ,''
 ,'Web'
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:29:45.377 | General Service|:: CompanyIndex:13 SpName: spADM_GetClientUserDetails 
 'admin'
 ,1
 ,'26.1.0'
 ,0
[System: 192.168.1.54] DEBUG | 07-18-2025 10:29:45.409 | General Service|:: CompanyIndex:0 SpName: spADM_UserLoginCheck 
 2
 ,'admin'
 ,13
 ,'192.168.1.54'
 ,'192.168.1.54'
 ,''
 ,'Web'
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:29:45.424 | General Service|:: CompanyIndex:0 SpName: spADM_Login 
 1
 ,''
 ,''
 ,''
 ,''
 ,''
 ,13
[System: 192.168.1.54] DEBUG | 07-18-2025 10:29:45.424 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select Value from ADM_GlobalPreferences with (nolock) where name =''EnableReLogin'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:29:45.424 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDc4NSwiZXhwIjoxNzUyODQzNTg1LCJpYXQiOjE3NTI4MTQ3ODV9.ggc29q5xy3SmkhGgqPRaZrFADvDV15kvhqq3oT5RQXo'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:29:45.456 | General Service|:: CompanyIndex:0 SpName: spADM_Login 
 4
 ,''
 ,''
 ,''
 ,'declare @Cnt int,@ExpiredGUID nvarchar(50),@AllowSession int,@GUID nvarchar(50),@CurrDate float,@UserID INT,@Instances INT,@InstancesExists INT,@LCDBIndex int
set @CurrDate= convert(float,dateadd(minute,-21,getdate()))
set @AllowSession=0
set @GUID=''2816c200-cc4c-4cda-a03b-ae35e8844ce6''
set @LCDBIndex=0
select top 1 @UserID=UserID,@Instances=InstanceCount from ADM_Users with(nolock) where UserName=''admin''
if exists(select [GUID] from ADM_Login with(nolock) where [GUID]=@GUID)
begin
	update ADM_Login 
	set LastAccessTime=convert(float,getdate()),UserID=@UserID
	where [GUID]=@GUID
    set @AllowSession=1
end
else
begin
	select @Cnt=count(*) from ADM_Login with(nolock) where LCDBIndex=@LCDBIndex and [GUID]!=''ACCESSRIGHTS'' and AP =''WEB''
    if(@Cnt<100)
		set @AllowSession=1
	else
	begin
		select top 1 @ExpiredGUID=[GUID] from ADM_Login with(nolock)
		where [GUID]!=''ACCESSRIGHTS'' and LCDBIndex=@LCDBIndex and LastAccessTime<@CurrDate  and AP =''WEB''
        order by LastAccessTime asc
		if @ExpiredGUID is not null
		begin
			delete from ADM_Login where [GUID]=@ExpiredGUID
			set @AllowSession=1
		end
	end
	if @AllowSession=1
	begin
        select @InstancesExists=COUNT(*) from ADM_Login with(nolock)
		where [GUID]!=''ACCESSRIGHTS'' and LCDBIndex=@LCDBIndex and LastAccessTime>=@CurrDate and UserID=@UserID and AP =''WEB''
		if(@Instances!=0 and @Instances<=@InstancesExists)
			set @AllowSession=2
		else
		    INSERT INTO ADM_Login([GUID],[SysName],IPAddress,[Status],LoginTime,LastAccessTime,AccessRights,UserID,DBIndex,LCDBIndex,AP)
		    VALUES(@GUID,''WEB'',''192.168.1.54'',1,convert(float,getdate()),convert(float,getdate()),null,@UserID,13,@LCDBIndex, ''WEB'')
	end
end

select @AllowSession AllowSession,@Instances Instances,@InstancesExists InstancesExists
'
 ,''
 ,0
[System: 192.168.1.54] DEBUG | 07-18-2025 10:29:45.456 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDc4NSwiZXhwIjoxNzUyODQzNTg1LCJpYXQiOjE3NTI4MTQ3ODV9.ggc29q5xy3SmkhGgqPRaZrFADvDV15kvhqq3oT5RQXo'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:29:45.471 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'SELECT (SELECT COUNT(*) FROM COM_Location L WITH(NOLOCK) JOIN COM_Status S WITH(NOLOCK) ON S.StatusID=L.StatusID WHERE L.IsGroup=0 AND S.[Status]=''Active'') ML
,(SELECT COUNT(*) FROM ADM_Features WITH(NOLOCK) WHERE ((FeatureID>50000 AND FeatureID<=50050) OR FeatureID>=51000) AND IsEnabled=1) MD
,(SELECT ISNULL(COUNT(*),0) FROM ADM_RevenUReports WITH(NOLOCK) WHERE IsGroup=0 AND ReportID>10000 AND StaticReportType IN (0,-1)) MR'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:29:45.487 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDc4NSwiZXhwIjoxNzUyODQzNTg1LCJpYXQiOjE3NTI4MTQ3ODV9.ggc29q5xy3SmkhGgqPRaZrFADvDV15kvhqq3oT5RQXo'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:29:47.002 | General Service|:: CompanyIndex:13 SpName: spCOM_ConfigValues 
 1
 ,'NotifTime'
 ,''
[System: 192.168.1.54] DEBUG | 07-18-2025 10:29:47.002 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDc4NSwiZXhwIjoxNzUyODQzNTg1LCJpYXQiOjE3NTI4MTQ3ODV9.ggc29q5xy3SmkhGgqPRaZrFADvDV15kvhqq3oT5RQXo'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:29:47.174 | General Service|:: CompanyIndex:13 SpName: spADM_GetRibbonView 
 1
 ,1
 ,1
 ,1
 ,0
 ,''
[System: 192.168.1.54] DEBUG | 07-18-2025 10:29:47.174 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDc4NSwiZXhwIjoxNzUyODQzNTg1LCJpYXQiOjE3NTI4MTQ3ODV9.ggc29q5xy3SmkhGgqPRaZrFADvDV15kvhqq3oT5RQXo'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:29:47.377 | General Service|:: CompanyIndex:13 SpName: spRPT_GetReport 
 2
 ,0
 ,'1'
 ,'1'
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:29:47.377 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDc4NSwiZXhwIjoxNzUyODQzNTg1LCJpYXQiOjE3NTI4MTQ3ODV9.ggc29q5xy3SmkhGgqPRaZrFADvDV15kvhqq3oT5RQXo'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:29:47.408 | General Service|:: CompanyIndex:13 SpName: spADM_GetDashBoard 
 2
 ,0
 ,0
 ,'1'
 ,'1'
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:29:47.408 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDc4NSwiZXhwIjoxNzUyODQzNTg1LCJpYXQiOjE3NTI4MTQ3ODV9.ggc29q5xy3SmkhGgqPRaZrFADvDV15kvhqq3oT5RQXo'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:29:47.424 | General Service|:: CompanyIndex:13 SpName: spCOM_ConfigValues 
 1
 ,'LandingDocs'
 ,'1'
[System: 192.168.1.54] DEBUG | 07-18-2025 10:29:47.439 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDc4NSwiZXhwIjoxNzUyODQzNTg1LCJpYXQiOjE3NTI4MTQ3ODV9.ggc29q5xy3SmkhGgqPRaZrFADvDV15kvhqq3oT5RQXo'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:29:47.471 | General Service|:: CompanyIndex:13 SpName: spADM_GetAllListViewsDef 
 1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:29:47.471 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDc4NSwiZXhwIjoxNzUyODQzNTg1LCJpYXQiOjE3NTI4MTQ3ODV9.ggc29q5xy3SmkhGgqPRaZrFADvDV15kvhqq3oT5RQXo'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:29:47.471 | General Service|:: CompanyIndex:13 SpName: spCOM_GetFavorites 
 'GETLIST0'
 ,0
 ,'1'
 ,'1'
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:29:47.486 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDc4NSwiZXhwIjoxNzUyODQzNTg1LCJpYXQiOjE3NTI4MTQ3ODV9.ggc29q5xy3SmkhGgqPRaZrFADvDV15kvhqq3oT5RQXo'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:29:47.549 | General Service|:: CompanyIndex:13 SpName: spADM_GetAllListViewsDef 
 1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:29:47.549 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDc4NSwiZXhwIjoxNzUyODQzNTg1LCJpYXQiOjE3NTI4MTQ3ODV9.ggc29q5xy3SmkhGgqPRaZrFADvDV15kvhqq3oT5RQXo'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:29:47.658 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'Select CostCenterID,CostCenterColID,CostCenterName,SysTableName,UserColumnName,SysColumnName,ISNULL(UserDefaultValue,'''') UserDefaultValue
From AdM_CostCenterDef WITH(NOLOCK)
Where SysColumnName IN(''CreditAccount'',''DebitAccount'',''ProductID'') 
AND CostCenterID>40000 AND CostCenterID<50000 

SELECT * FROM ADM_Features WITH(NOLOCK) '
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:29:47.658 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDc4NSwiZXhwIjoxNzUyODQzNTg1LCJpYXQiOjE3NTI4MTQ3ODV9.ggc29q5xy3SmkhGgqPRaZrFADvDV15kvhqq3oT5RQXo'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:29:47.689 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 '  SELECT * FROM PAY_PayrollPreferences WITH(NOLOCK) '
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:29:47.705 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDc4NSwiZXhwIjoxNzUyODQzNTg1LCJpYXQiOjE3NTI4MTQ3ODV9.ggc29q5xy3SmkhGgqPRaZrFADvDV15kvhqq3oT5RQXo'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:29:47.720 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 '  --0
                                Select * FROM COM_CC50051 WITH(NOLOCK) WHERE IsGroup=0 AND LoginUserID=''admin''
                                --1                                
                                Select * FROM COM_CC50051 WITH(NOLOCK) WHERE RptManager IN (Select NodeID FROM COM_CC50051 WITH(NOLOCK) WHERE IsGroup=0 AND LoginUserID=''admin'')
                                UNION ALL
                                Select * FROM COM_CC50051 WITH(NOLOCK) WHERE RptManager IN 
                                (
	                                Select NodeID FROM COM_CC50051 WITH(NOLOCK) 
	                                WHERE IsGroup=0 AND LoginUserID IN
	                                (
	                                SELECT fe.LoginUserID
	                                FROM INV_DocDetails a WITH(NOLOCK) 
	                                JOIN COM_DocCCData b WITH(NOLOCK) ON b.InvDocDetailsID=a.InvDocDetailsID
	                                JOIN COM_DocNumData c WITH(NOLOCK) ON c.InvDocDetailsID=a.InvDocDetailsID
	                                JOIN COM_DocTextData d WITH(NOLOCK) ON d.InvDocDetailsID=a.InvDocDetailsID
	                                JOIN COM_CC50051 fe WITH(NOLOCK) on fe.NodeID=b.dcCCNID51
	                                JOIN COM_CC50051 te WITH(NOLOCK) on CONVERT(NVARCHAR,te.NodeID)=d.dcAlpha1
	                                WHERE a.CostCenterID=40098 and a.StatusID=369 AND d.dcAlpha3=''Temporary''
	                                AND te.LoginUserID=''admin'' 
	                                AND ISDATE(d.dcAlpha4)=1 AND ISDATE(d.dcAlpha5)=1 
	                                AND CONVERT(DATETIME,''18 Jul 2025'') BETWEEN CONVERT(DATETIME,d.dcAlpha4) AND CONVERT(DATETIME,d.dcAlpha5)
	                                )
                                )
                                --2
                                Select * FROM ADM_USERS WITH(NOLOCK) WHERE USERID=1
                                --3
                                Select * FROM COM_CostCenterCostCenterMap WITH(NOLOCK) WHERE ParentCostCenterID=7 AND ParentNodeID=1
                                --4                                
                                Select * FROM COM_CostCenterCostCenterMap WITH(NOLOCK) WHERE ParentCostCenterID=7 AND ParentNodeID=1
                                AND CostCenterID IN(Select ColumnCostCenterID From ADM_CostCenterDef Where CostCenterID=50051 AND IsColumnInUse=1 AND SysColumnName LIKE ''CCNID%'')
                                --5
                                Select * from COM_Files WITH(NOLOCK) WHERE FeatureID=50051 AND FeaturePK IN (Select NodeID FROM COM_CC50051 WITH(NOLOCK) WHERE IsGroup=0 AND LoginUserID=''admin'')                         
'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:29:47.720 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDc4NSwiZXhwIjoxNzUyODQzNTg1LCJpYXQiOjE3NTI4MTQ3ODV9.ggc29q5xy3SmkhGgqPRaZrFADvDV15kvhqq3oT5RQXo'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:29:47.845 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:29:47.845 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDc4NSwiZXhwIjoxNzUyODQzNTg1LCJpYXQiOjE3NTI4MTQ3ODV9.ggc29q5xy3SmkhGgqPRaZrFADvDV15kvhqq3oT5RQXo'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:29:48.080 | General Service|:: CompanyIndex:13 SpName: spADM_GetDashBoard 
 1
 ,8
 ,0
 ,'1'
 ,'1'
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:29:48.080 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDc4NSwiZXhwIjoxNzUyODQzNTg1LCJpYXQiOjE3NTI4MTQ3ODV9.ggc29q5xy3SmkhGgqPRaZrFADvDV15kvhqq3oT5RQXo'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:29:48.096 | General Service|:: CompanyIndex:13 SpName: spRPT_GetReport 
 0
 ,30456
 ,'1'
 ,'1'
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:29:48.096 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDc4NSwiZXhwIjoxNzUyODQzNTg1LCJpYXQiOjE3NTI4MTQ3ODV9.ggc29q5xy3SmkhGgqPRaZrFADvDV15kvhqq3oT5RQXo'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:29:48.189 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'SELECT StaticReportType FROM ADM_RevenUReports WITH(NOLOCK) WHERE ReportID=30456'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:29:48.189 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDc4NSwiZXhwIjoxNzUyODQzNTg1LCJpYXQiOjE3NTI4MTQ3ODV9.ggc29q5xy3SmkhGgqPRaZrFADvDV15kvhqq3oT5RQXo'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:29:48.673 | General Service|:: CompanyIndex:13 SpName: spRPT_GetReportCategoryandField 
 -1
 ,0
 ,1
 ,0
 ,'1'
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:29:48.673 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDc4NSwiZXhwIjoxNzUyODQzNTg1LCJpYXQiOjE3NTI4MTQ3ODV9.ggc29q5xy3SmkhGgqPRaZrFADvDV15kvhqq3oT5RQXo'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:29:48.705 | General Service|:: CompanyIndex:13 SpName: spRPT_GetReportFields 
 400
 ,0
 ,'1'
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:29:48.720 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDc4NSwiZXhwIjoxNzUyODQzNTg1LCJpYXQiOjE3NTI4MTQ3ODV9.ggc29q5xy3SmkhGgqPRaZrFADvDV15kvhqq3oT5RQXo'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:29:48.752 | General Service|:: CompanyIndex:13 SpName: spRPT_GetReportData 
 9
 ,1
 ,'<XML UID="1" ShowMyQueue="0"></XML>'
 ,'1'
[System: 192.168.1.54] DEBUG | 07-18-2025 10:29:48.767 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDc4NSwiZXhwIjoxNzUyODQzNTg1LCJpYXQiOjE3NTI4MTQ3ODV9.ggc29q5xy3SmkhGgqPRaZrFADvDV15kvhqq3oT5RQXo'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:29:48.923 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
                EXEC spRPT_GetReportData @Type=8,@Param1=1,@strXML=null,@RoleID=1
SELECT ACC.VoucherNo [C858bdfa70f884b78b8ec0453808910bb],ACC.VersionNo [C858bdfa70f884b78b8ec0453808910bbVer],CONVERT(DATETIME,ACC.DocDate) [Cf4c1ff96517a40978b75103376667aae],ACC.DocAbbr [C501419b9c341410d8920b953fb30cfbf],ACC.Amount [Cfa623191688842d5ac3c0cd9232cfb2e],NULL [C90a85d26ad47471988897309a5c78218],T1.UserName [Cd0c4cb9a7057416ca691fb5c4774545b],T3.Name [C80a6de4371d045c08bf9d035c1831959],ACC.CommonNarration [Ce66e27446651436893b0d2c967dd0ecb],T4.Status [Ca7da089a0bd542838ddeb39e78a982ea],T5.Name [Cff89130f277d4635b5e1c5e6887cbcb5],ACC.VoucherNo [Cdacb59b3f5e54f18b65dfc4cf3186555],ACC.DocAbbr [Cdacb59b3f5e54f18b65dfc4cf3186555Abr],ACC.DocPrefix [Cdacb59b3f5e54f18b65dfc4cf3186555prf],CONVERT(BIGINT,ACC.DocNumber) [Cdacb59b3f5e54f18b65dfc4cf3186555dno]
 FROM ACC_DocDetails ACC with(nolock) left join ADM_Users T1 with(nolock) on ACC.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on ACC.AccDocDetailsID=TDCC.AccDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on ACC.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (ACC.CostCenterID=41053) AND T4.Status=''Unapproved'' AND ACC.LinkedAccDocDetailsID is null AND WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT ACC.VoucherNo,ACC.VersionNo,CONVERT(DATETIME,ACC.DocDate),ACC.DocAbbr,ACC.Amount,NULL,T1.UserName,T3.Name,ACC.CommonNarration,T4.Status,T5.Name,ACC.VoucherNo,ACC.DocAbbr,ACC.DocPrefix,CONVERT(BIGINT,ACC.DocNumber)
 FROM ACC_DocDetails ACC with(nolock) left join ADM_Users T1 with(nolock) on ACC.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on ACC.AccDocDetailsID=TDCC.AccDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on ACC.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (ACC.CostCenterID=41061) AND T4.Status=''Unapproved'' AND ACC.LinkedAccDocDetailsID is null AND WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT ACC.VoucherNo,ACC.VersionNo,CONVERT(DATETIME,ACC.DocDate),ACC.DocAbbr,ACC.Amount,NULL,T1.UserName,T3.Name,ACC.CommonNarration,T4.Status,T5.Name,ACC.VoucherNo,ACC.DocAbbr,ACC.DocPrefix,CONVERT(BIGINT,ACC.DocNumber)
 FROM ACC_DocDetails ACC with(nolock) left join ADM_Users T1 with(nolock) on ACC.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on ACC.AccDocDetailsID=TDCC.AccDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on ACC.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (ACC.CostCenterID=40023) AND T4.Status=''Unapproved'' AND ACC.LinkedAccDocDetailsID is null AND WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT ACC.VoucherNo,ACC.VersionNo,CONVERT(DATETIME,ACC.DocDate),ACC.DocAbbr,ACC.Amount,NULL,T1.UserName,T3.Name,ACC.CommonNarration,T4.Status,T5.Name,ACC.VoucherNo,ACC.DocAbbr,ACC.DocPrefix,CONVERT(BIGINT,ACC.DocNumber)
 FROM ACC_DocDetails ACC with(nolock) left join ADM_Users T1 with(nolock) on ACC.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on ACC.AccDocDetailsID=TDCC.AccDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on ACC.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (ACC.CostCenterID=41064) AND T4.Status=''Unapproved'' AND ACC.LinkedAccDocDetailsID is null AND WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT ACC.VoucherNo,ACC.VersionNo,CONVERT(DATETIME,ACC.DocDate),ACC.DocAbbr,ACC.Amount,NULL,T1.UserName,T3.Name,ACC.CommonNarration,T4.Status,T5.Name,ACC.VoucherNo,ACC.DocAbbr,ACC.DocPrefix,CONVERT(BIGINT,ACC.DocNumber)
 FROM ACC_DocDetails ACC with(nolock) left join ADM_Users T1 with(nolock) on ACC.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on ACC.AccDocDetailsID=TDCC.AccDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on ACC.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (ACC.CostCenterID=41006) AND T4.Status=''Unapproved'' AND ACC.LinkedAccDocDetailsID is null AND WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT ACC.VoucherNo,ACC.VersionNo,CONVERT(DATETIME,ACC.DocDate),ACC.DocAbbr,ACC.Amount,NULL,T1.UserName,T3.Name,ACC.CommonNarration,T4.Status,T5.Name,ACC.VoucherNo,ACC.DocAbbr,ACC.DocPrefix,CONVERT(BIGINT,ACC.DocNumber)
 FROM ACC_DocDetails ACC with(nolock) left join ADM_Users T1 with(nolock) on ACC.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on ACC.AccDocDetailsID=TDCC.AccDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on ACC.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (ACC.CostCenterID=40022) AND T4.Status=''Unapproved'' AND ACC.LinkedAccDocDetailsID is null AND WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT ACC.VoucherNo,ACC.VersionNo,CONVERT(DATETIME,ACC.DocDate),ACC.DocAbbr,ACC.Amount,NULL,T1.UserName,T3.Name,ACC.CommonNarration,T4.Status,T5.Name,ACC.VoucherNo,ACC.DocAbbr,ACC.DocPrefix,CONVERT(BIGINT,ACC.DocNumber)
 FROM ACC_DocDetails ACC with(nolock) left join ADM_Users T1 with(nolock) on ACC.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on ACC.AccDocDetailsID=TDCC.AccDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on ACC.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (ACC.CostCenterID=41075) AND T4.Status=''Unapproved'' AND ACC.LinkedAccDocDetailsID is null AND WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT ACC.VoucherNo,ACC.VersionNo,CONVERT(DATETIME,ACC.DocDate),ACC.DocAbbr,ACC.Amount,NULL,T1.UserName,T3.Name,ACC.CommonNarration,T4.Status,T5.Name,ACC.VoucherNo,ACC.DocAbbr,ACC.DocPrefix,CONVERT(BIGINT,ACC.DocNumber)
 FROM ACC_DocDetails ACC with(nolock) left join ADM_Users T1 with(nolock) on ACC.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on ACC.AccDocDetailsID=TDCC.AccDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on ACC.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (ACC.CostCenterID=41077) AND T4.Status=''Unapproved'' AND ACC.LinkedAccDocDetailsID is null AND WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT ACC.VoucherNo,ACC.VersionNo,CONVERT(DATETIME,ACC.DocDate),ACC.DocAbbr,ACC.Amount,NULL,T1.UserName,T3.Name,ACC.CommonNarration,T4.Status,T5.Name,ACC.VoucherNo,ACC.DocAbbr,ACC.DocPrefix,CONVERT(BIGINT,ACC.DocNumber)
 FROM ACC_DocDetails ACC with(nolock) left join ADM_Users T1 with(nolock) on ACC.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on ACC.AccDocDetailsID=TDCC.AccDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on ACC.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (ACC.CostCenterID=40014) AND T4.Status=''Unapproved'' AND ACC.LinkedAccDocDetailsID is null AND WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT ACC.VoucherNo,ACC.VersionNo,CONVERT(DATETIME,ACC.DocDate),ACC.DocAbbr,ACC.Amount,NULL,T1.UserName,T3.Name,ACC.CommonNarration,T4.Status,T5.Name,ACC.VoucherNo,ACC.DocAbbr,ACC.DocPrefix,CONVERT(BIGINT,ACC.DocNumber)
 FROM ACC_DocDetails ACC with(nolock) left join ADM_Users T1 with(nolock) on ACC.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on ACC.AccDocDetailsID=TDCC.AccDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on ACC.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (ACC.CostCenterID=41065) AND T4.Status=''Unapproved'' AND ACC.LinkedAccDocDetailsID is null AND WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT ACC.VoucherNo,ACC.VersionNo,CONVERT(DATETIME,ACC.DocDate),ACC.DocAbbr,ACC.Amount,NULL,T1.UserName,T3.Name,ACC.CommonNarration,T4.Status,T5.Name,ACC.VoucherNo,ACC.DocAbbr,ACC.DocPrefix,CONVERT(BIGINT,ACC.DocNumber)
 FROM ACC_DocDetails ACC with(nolock) left join ADM_Users T1 with(nolock) on ACC.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on ACC.AccDocDetailsID=TDCC.AccDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on ACC.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (ACC.CostCenterID=40017) AND T4.Status=''Unapproved'' AND ACC.LinkedAccDocDetailsID is null AND WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT INV.VoucherNo,INV.VersionNo,CONVERT(DATETIME,INV.DocDate),INV.DocAbbr,NULL,CASE WHEN (SELECT DocumentType FROM ADM_DocumentTypes WITH(NOLOCK) WHERE CostCenterID=INV.CostCenterID)=38 AND VoucherType=1 THEN -INV.Gross ELSE INV.Gross END,T1.UserName,T3.Name,INV.CommonNarration,T4.Status,T5.Name,INV.VoucherNo,INV.DocAbbr,INV.DocPrefix,CONVERT(BIGINT,INV.DocNumber)
 FROM INV_DocDetails INV with(nolock) left join ADM_Users T1 with(nolock) on INV.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on INV.InvDocDetailsID=TDCC.InvDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on INV.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (INV.CostCenterID=41018) AND T4.Status=''Unapproved'' AND WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef and INV.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT INV.VoucherNo,INV.VersionNo,CONVERT(DATETIME,INV.DocDate),INV.DocAbbr,NULL,CASE WHEN (SELECT DocumentType FROM ADM_DocumentTypes WITH(NOLOCK) WHERE CostCenterID=INV.CostCenterID)=38 AND VoucherType=1 THEN -INV.Gross ELSE INV.Gross END,T1.UserName,T3.Name,INV.CommonNarration,T4.Status,T5.Name,INV.VoucherNo,INV.DocAbbr,INV.DocPrefix,CONVERT(BIGINT,INV.DocNumber)
 FROM INV_DocDetails INV with(nolock) left join ADM_Users T1 with(nolock) on INV.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on INV.InvDocDetailsID=TDCC.InvDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on INV.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (INV.CostCenterID=40011) AND T4.Status=''Unapproved'' AND WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef and INV.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT INV.VoucherNo,INV.VersionNo,CONVERT(DATETIME,INV.DocDate),INV.DocAbbr,NULL,CASE WHEN (SELECT DocumentType FROM ADM_DocumentTypes WITH(NOLOCK) WHERE CostCenterID=INV.CostCenterID)=38 AND VoucherType=1 THEN -INV.Gross ELSE INV.Gross END,T1.UserName,T3.Name,INV.CommonNarration,T4.Status,T5.Name,INV.VoucherNo,INV.DocAbbr,INV.DocPrefix,CONVERT(BIGINT,INV.DocNumber)
 FROM INV_DocDetails INV with(nolock) left join ADM_Users T1 with(nolock) on INV.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on INV.InvDocDetailsID=TDCC.InvDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on INV.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (INV.CostCenterID=41072) AND T4.Status=''Unapproved'' AND WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef and INV.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT INV.VoucherNo,INV.VersionNo,CONVERT(DATETIME,INV.DocDate),INV.DocAbbr,NULL,CASE WHEN (SELECT DocumentType FROM ADM_DocumentTypes WITH(NOLOCK) WHERE CostCenterID=INV.CostCenterID)=38 AND VoucherType=1 THEN -INV.Gross ELSE INV.Gross END,T1.UserName,T3.Name,INV.CommonNarration,T4.Status,T5.Name,INV.VoucherNo,INV.DocAbbr,INV.DocPrefix,CONVERT(BIGINT,INV.DocNumber)
 FROM INV_DocDetails INV with(nolock) left join ADM_Users T1 with(nolock) on INV.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on INV.InvDocDetailsID=TDCC.InvDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on INV.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (INV.CostCenterID=41057) AND T4.Status=''Unapproved'' AND WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef and INV.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT INV.VoucherNo,INV.VersionNo,CONVERT(DATETIME,INV.DocDate),INV.DocAbbr,NULL,CASE WHEN (SELECT DocumentType FROM ADM_DocumentTypes WITH(NOLOCK) WHERE CostCenterID=INV.CostCenterID)=38 AND VoucherType=1 THEN -INV.Gross ELSE INV.Gross END,T1.UserName,T3.Name,INV.CommonNarration,T4.Status,T5.Name,INV.VoucherNo,INV.DocAbbr,INV.DocPrefix,CONVERT(BIGINT,INV.DocNumber)
 FROM INV_DocDetails INV with(nolock) left join ADM_Users T1 with(nolock) on INV.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on INV.InvDocDetailsID=TDCC.InvDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on INV.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (INV.CostCenterID=41060) AND T4.Status=''Unapproved'' AND WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef and INV.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT INV.VoucherNo,INV.VersionNo,CONVERT(DATETIME,INV.DocDate),INV.DocAbbr,NULL,CASE WHEN (SELECT DocumentType FROM ADM_DocumentTypes WITH(NOLOCK) WHERE CostCenterID=INV.CostCenterID)=38 AND VoucherType=1 THEN -INV.Gross ELSE INV.Gross END,T1.UserName,T3.Name,INV.CommonNarration,T4.Status,T5.Name,INV.VoucherNo,INV.DocAbbr,INV.DocPrefix,CONVERT(BIGINT,INV.DocNumber)
 FROM INV_DocDetails INV with(nolock) left join ADM_Users T1 with(nolock) on INV.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on INV.InvDocDetailsID=TDCC.InvDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on INV.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (INV.CostCenterID=40001) AND T4.Status=''Unapproved'' AND WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef and INV.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT INV.VoucherNo,INV.VersionNo,CONVERT(DATETIME,INV.DocDate),INV.DocAbbr,NULL,CASE WHEN (SELECT DocumentType FROM ADM_DocumentTypes WITH(NOLOCK) WHERE CostCenterID=INV.CostCenterID)=38 AND VoucherType=1 THEN -INV.Gross ELSE INV.Gross END,T1.UserName,T3.Name,INV.CommonNarration,T4.Status,T5.Name,INV.VoucherNo,INV.DocAbbr,INV.DocPrefix,CONVERT(BIGINT,INV.DocNumber)
 FROM INV_DocDetails INV with(nolock) left join ADM_Users T1 with(nolock) on INV.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on INV.InvDocDetailsID=TDCC.InvDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on INV.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (INV.CostCenterID=41054) AND T4.Status=''Unapproved'' AND WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef and INV.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT ACC.VoucherNo,ACC.VersionNo,CONVERT(DATETIME,ACC.DocDate),ACC.DocAbbr,ACC.Amount,NULL,T1.UserName,T3.Name,ACC.CommonNarration,T4.Status,T5.Name,ACC.VoucherNo,ACC.DocAbbr,ACC.DocPrefix,CONVERT(BIGINT,ACC.DocNumber)
 FROM ACC_DocDetails ACC with(nolock) left join ADM_Users T1 with(nolock) on ACC.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on ACC.AccDocDetailsID=TDCC.AccDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on ACC.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (ACC.CostCenterID=41033) AND T4.Status=''Unapproved'' AND ACC.LinkedAccDocDetailsID is null AND WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT ACC.VoucherNo,ACC.VersionNo,CONVERT(DATETIME,ACC.DocDate),ACC.DocAbbr,ACC.Amount,NULL,T1.UserName,T3.Name,ACC.CommonNarration,T4.Status,T5.Name,ACC.VoucherNo,ACC.DocAbbr,ACC.DocPrefix,CONVERT(BIGINT,ACC.DocNumber)
 FROM ACC_DocDetails ACC with(nolock) left join ADM_Users T1 with(nolock) on ACC.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on ACC.AccDocDetailsID=TDCC.AccDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on ACC.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (ACC.CostCenterID=40019) AND T4.Status=''Unapproved'' AND ACC.LinkedAccDocDetailsID is null AND WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT ACC.VoucherNo,ACC.VersionNo,CONVERT(DATETIME,ACC.DocDate),ACC.DocAbbr,ACC.Amount,NULL,T1.UserName,T3.Name,ACC.CommonNarration,T4.Status,T5.Name,ACC.VoucherNo,ACC.DocAbbr,ACC.DocPrefix,CONVERT(BIGINT,ACC.DocNumber)
 FROM ACC_DocDetails ACC with(nolock) left join ADM_Users T1 with(nolock) on ACC.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on ACC.AccDocDetailsID=TDCC.AccDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on ACC.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (ACC.CostCenterID=41013) AND T4.Status=''Unapproved'' AND ACC.LinkedAccDocDetailsID is null AND WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef and ACC.CreatedDate+WF.CtWef<=convert(float,getdate()))) ORDER BY [Cdacb59b3f5e54f18b65dfc4cf3186555Abr] ,[Cdacb59b3f5e54f18b65dfc4cf3186555prf] ,[Cdacb59b3f5e54f18b65dfc4cf3186555dno]  
 DROP TABLE #TblUsrWF'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:29:48.923 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDc4NSwiZXhwIjoxNzUyODQzNTg1LCJpYXQiOjE3NTI4MTQ3ODV9.ggc29q5xy3SmkhGgqPRaZrFADvDV15kvhqq3oT5RQXo'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:29:49.892 | General Service|:: CompanyIndex:13 SpName: spDOC_GetDocumentDefinition 
 41025
 ,NULL
 ,NULL
 ,''
 ,1
 ,'admin'
 ,1
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:29:49.892 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDc4NSwiZXhwIjoxNzUyODQzNTg1LCJpYXQiOjE3NTI4MTQ3ODV9.ggc29q5xy3SmkhGgqPRaZrFADvDV15kvhqq3oT5RQXo'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:29:49.954 | General Service|:: CompanyIndex:13 SpName: spDoc_GetCurrencyExchangeRate 
 1
 ,'18-Jul-2025'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:29:49.954 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDc4NSwiZXhwIjoxNzUyODQzNTg1LCJpYXQiOjE3NTI4MTQ3ODV9.ggc29q5xy3SmkhGgqPRaZrFADvDV15kvhqq3oT5RQXo'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:29:49.970 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'SELECT Code FROM COM_Location WITH(NOLOCK) WHERE NodeID=27'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:29:49.970 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDc4NSwiZXhwIjoxNzUyODQzNTg1LCJpYXQiOjE3NTI4MTQ3ODV9.ggc29q5xy3SmkhGgqPRaZrFADvDV15kvhqq3oT5RQXo'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:29:49.986 | General Service|:: CompanyIndex:13 SpName: spDOC_GetDocumentPrefix 
 41025
 ,27
 ,''
 ,''
 ,'1'
 ,'1'
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:29:49.986 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDc4NSwiZXhwIjoxNzUyODQzNTg1LCJpYXQiOjE3NTI4MTQ3ODV9.ggc29q5xy3SmkhGgqPRaZrFADvDV15kvhqq3oT5RQXo'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:29:50.001 | General Service|:: CompanyIndex:13 SpName: spDOC_GetDueDate 
 55687
 ,27
 ,0
 ,0
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:29:50.001 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDc4NSwiZXhwIjoxNzUyODQzNTg1LCJpYXQiOjE3NTI4MTQ3ODV9.ggc29q5xy3SmkhGgqPRaZrFADvDV15kvhqq3oT5RQXo'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:29:50.001 | General Service|:: CompanyIndex:13 SpName: spDOC_GetCurrentCodeNumber 
 41025
 ,'023/25/'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:29:50.017 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDc4NSwiZXhwIjoxNzUyODQzNTg1LCJpYXQiOjE3NTI4MTQ3ODV9.ggc29q5xy3SmkhGgqPRaZrFADvDV15kvhqq3oT5RQXo'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:29:50.033 | General Service|:: CompanyIndex:13 SpName: spDOC_GetLinkReferenceData 
 566117
 ,41025
 ,55687
 ,'18/Jul/2025'
 ,55687
 ,'<XML><Row CostCenterID="50011" NODEID="1" /><Row CostCenterID="50002" NODEID="27" /><Row CostCenterID="50058" NODEID="1" /><Row CostCenterID="50059" NODEID="1" /><Row CostCenterID="50061" NODEID="11" /><Row CostCenterID="50062" NODEID="1" /></XML>'
 ,False
 ,'0'
 ,'0'
 ,'0'
 ,NULL
 ,'0'
 ,'0'
 ,'0'
 ,''
 ,'1'
 ,1
 ,'1'
[System: 192.168.1.54] DEBUG | 07-18-2025 10:29:50.033 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDc4NSwiZXhwIjoxNzUyODQzNTg1LCJpYXQiOjE3NTI4MTQ3ODV9.ggc29q5xy3SmkhGgqPRaZrFADvDV15kvhqq3oT5RQXo'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:29:50.048 | General Service|:: CompanyIndex:13 SpName: spADM_GetListViewDataByIDs 
 '<XML><Row CCID="50011"  TypeID="1"  DBColumnID="566213"  NodeID="1" /><Row CCID="2"  TypeID="10"  DBColumnID="566117"  NodeID="55687" /><Row CCID="2"  TypeID="100"  DBColumnID="566117"  NodeID="55687" /><Row CCID="2"  TypeID="10"  DBColumnID="566254"  NodeID="3" /><Row CCID="2"  TypeID="100"  DBColumnID="566254"  NodeID="3" /><Row CCID="50011"  TypeID="1"  DBColumnID="566213"  NodeID="1" /><Row CCID="50002"  TypeID="1"  DBColumnID="566204"  NodeID="27" /><Row CCID="50058"  TypeID="1"  DBColumnID="583442"  NodeID="1" /><Row CCID="50059"  TypeID="1"  DBColumnID="583494"  NodeID="1" /><Row CCID="50061"  TypeID="11"  DBColumnID="583598"  NodeID="11" /><Row CCID="50062"  TypeID="1"  DBColumnID="583650"  NodeID="1" /><Row CCID="50058"  TypeID="1"  DBColumnID="583713"  NodeID="1" /></XML>'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:29:50.048 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDc4NSwiZXhwIjoxNzUyODQzNTg1LCJpYXQiOjE3NTI4MTQ3ODV9.ggc29q5xy3SmkhGgqPRaZrFADvDV15kvhqq3oT5RQXo'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:29:50.064 | General Service|:: CompanyIndex:13 SpName: spADM_GetListViewDataByIDs 
 '<XML><Row CCID="50011"  TypeID="1"  DBColumnID="566213"  NodeID="1" /><Row CCID="2"  TypeID="10"  DBColumnID="566117"  NodeID="55687" /><Row CCID="2"  TypeID="100"  DBColumnID="566117"  NodeID="55687" /><Row CCID="2"  TypeID="10"  DBColumnID="566254"  NodeID="3" /><Row CCID="2"  TypeID="100"  DBColumnID="566254"  NodeID="3" /><Row CCID="50011"  TypeID="1"  DBColumnID="566213"  NodeID="1" /><Row CCID="50002"  TypeID="1"  DBColumnID="566204"  NodeID="27" /><Row CCID="50058"  TypeID="1"  DBColumnID="583442"  NodeID="1" /><Row CCID="50059"  TypeID="1"  DBColumnID="583494"  NodeID="1" /><Row CCID="50061"  TypeID="11"  DBColumnID="583598"  NodeID="11" /><Row CCID="50062"  TypeID="1"  DBColumnID="583650"  NodeID="1" /><Row CCID="50058"  TypeID="1"  DBColumnID="583713"  NodeID="1" /></XML>'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:29:50.064 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDc4NSwiZXhwIjoxNzUyODQzNTg1LCJpYXQiOjE3NTI4MTQ3ODV9.ggc29q5xy3SmkhGgqPRaZrFADvDV15kvhqq3oT5RQXo'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:29:50.079 | General Service|:: CompanyIndex:13 SpName: spDOC_GetLinkReferenceData 
 566117
 ,41025
 ,55687
 ,'18/Jul/2025'
 ,55687
 ,'<XML><Row CostCenterID="50011" NODEID="1" /><Row CostCenterID="50002" NODEID="27" /><Row CostCenterID="50058" NODEID="1" /><Row CostCenterID="50059" NODEID="1" /><Row CostCenterID="50061" NODEID="11" /><Row CostCenterID="50062" NODEID="1" /></XML>'
 ,False
 ,'0'
 ,'0'
 ,'0'
 ,NULL
 ,'0'
 ,'0'
 ,'0'
 ,''
 ,'1'
 ,1
 ,'1'
[System: 192.168.1.54] DEBUG | 07-18-2025 10:29:50.079 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDc4NSwiZXhwIjoxNzUyODQzNTg1LCJpYXQiOjE3NTI4MTQ3ODV9.ggc29q5xy3SmkhGgqPRaZrFADvDV15kvhqq3oT5RQXo'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:29:50.095 | General Service|:: CompanyIndex:13 SpName: spADM_GetListViewDataByIDs 
 '<XML><Row CCID="50011"  TypeID="1"  DBColumnID="566213"  NodeID="1" /><Row CCID="2"  TypeID="10"  DBColumnID="566117"  NodeID="55687" /><Row CCID="2"  TypeID="100"  DBColumnID="566117"  NodeID="55687" /><Row CCID="2"  TypeID="10"  DBColumnID="566254"  NodeID="3" /><Row CCID="2"  TypeID="100"  DBColumnID="566254"  NodeID="3" /><Row CCID="50011"  TypeID="1"  DBColumnID="566213"  NodeID="1" /><Row CCID="50002"  TypeID="1"  DBColumnID="566204"  NodeID="27" /><Row CCID="50058"  TypeID="1"  DBColumnID="583442"  NodeID="1" /><Row CCID="50059"  TypeID="1"  DBColumnID="583494"  NodeID="1" /><Row CCID="50061"  TypeID="11"  DBColumnID="583598"  NodeID="11" /><Row CCID="50062"  TypeID="1"  DBColumnID="583650"  NodeID="1" /><Row CCID="50058"  TypeID="1"  DBColumnID="583713"  NodeID="1" /></XML>'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:29:50.095 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDc4NSwiZXhwIjoxNzUyODQzNTg1LCJpYXQiOjE3NTI4MTQ3ODV9.ggc29q5xy3SmkhGgqPRaZrFADvDV15kvhqq3oT5RQXo'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:29:50.157 | General Service|:: CompanyIndex:13 SpName: spADM_GetCostCenterListViewData 
 500055
 ,'a.Name,a.Code,a.ccAlpha11'
 ,''
 ,''
 ,'Name'
 ,''
 ,60
 ,False
 ,''
 ,''
 ,''
 ,''
 ,''
 ,0
 ,False
 ,''
 ,''
 ,'1'
 ,'1'
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:29:50.157 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDc4NSwiZXhwIjoxNzUyODQzNTg1LCJpYXQiOjE3NTI4MTQ3ODV9.ggc29q5xy3SmkhGgqPRaZrFADvDV15kvhqq3oT5RQXo'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:29:52.110 | General Service|:: CompanyIndex:13 SpName: spDOC_GetInvDocument 
 41025
 ,'023/25/'
 ,'116'
 ,'1'
 ,0
 ,' and (a.CostCenterID=c.DocumentID or c.DocumentID=1) and (b.dcCCNID2=c.CCNID2 or c.CCNID2=0)'
 ,1
 ,1
 ,'admin'
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:29:52.110 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDc4NSwiZXhwIjoxNzUyODQzNTg1LCJpYXQiOjE3NTI4MTQ3ODV9.ggc29q5xy3SmkhGgqPRaZrFADvDV15kvhqq3oT5RQXo'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:29:52.173 | General Service|:: CompanyIndex:13 SpName: spADM_GetListViewDataByIDs 
 '<XML><Row CCID="50011"  TypeID="1"  DBColumnID="566213"  NodeID="1" /><Row CCID="2"  TypeID="10"  DBColumnID="566117"  NodeID="55687" /><Row CCID="2"  TypeID="100"  DBColumnID="566117"  NodeID="55687" /><Row CCID="2"  TypeID="10"  DBColumnID="566254"  NodeID="3" /><Row CCID="2"  TypeID="100"  DBColumnID="566254"  NodeID="3" /><Row CCID="50014"  TypeID="4"  DBColumnID="566216"  NodeID="10367" /><Row CCID="50009"  TypeID="3"  DBColumnID="566211"  NodeID="10570" /><Row CCID="50010"  TypeID="3"  DBColumnID="566212"  NodeID="51889" /><Row CCID="50018"  TypeID="1"  DBColumnID="566220"  NodeID="135" /><Row CCID="50070"  TypeID="1"  DBColumnID="598043"  NodeID="4" /><Row CCID="50011"  TypeID="1"  DBColumnID="566213"  NodeID="1" /><Row CCID="50014"  TypeID="4"  DBColumnID="566216"  NodeID="10367" /><Row CCID="50009"  TypeID="3"  DBColumnID="566211"  NodeID="10570" /><Row CCID="50010"  TypeID="3"  DBColumnID="566212"  NodeID="51889" /><Row CCID="50018"  TypeID="1"  DBColumnID="566220"  NodeID="135" /><Row CCID="50070"  TypeID="1"  DBColumnID="598043"  NodeID="4" /><Row CCID="50002"  TypeID="1"  DBColumnID="566204"  NodeID="27" /><Row CCID="50058"  TypeID="1"  DBColumnID="583442"  NodeID="1" /><Row CCID="50059"  TypeID="1"  DBColumnID="583494"  NodeID="1" /><Row CCID="50061"  TypeID="11"  DBColumnID="583598"  NodeID="11" /><Row CCID="50062"  TypeID="1"  DBColumnID="583650"  NodeID="1" /><Row CCID="50058"  TypeID="1"  DBColumnID="583713"  NodeID="1" /><Row CCID="44"  TypeID="122"  DBColumnID="566171"  NodeID="641" /><Row CCID="50060"  TypeID="1"  DBColumnID="583546"  NodeID="1" /></XML>'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:29:52.173 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDc4NSwiZXhwIjoxNzUyODQzNTg1LCJpYXQiOjE3NTI4MTQ3ODV9.ggc29q5xy3SmkhGgqPRaZrFADvDV15kvhqq3oT5RQXo'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:29:52.188 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select ParentNodeID NodeID from COM_CostCenterCostCenterMap where CostCenterID in (8,300) and ParentCostCenterId=50033 and NodeID=41025'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:29:52.188 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDc4NSwiZXhwIjoxNzUyODQzNTg1LCJpYXQiOjE3NTI4MTQ3ODV9.ggc29q5xy3SmkhGgqPRaZrFADvDV15kvhqq3oT5RQXo'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:29:52.204 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select ParentNodeID NodeID from COM_CostCenterCostCenterMap where CostCenterID in (8,300) and ParentCostCenterId=50033 and NodeID=41025'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:29:52.204 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDc4NSwiZXhwIjoxNzUyODQzNTg1LCJpYXQiOjE3NTI4MTQ3ODV9.ggc29q5xy3SmkhGgqPRaZrFADvDV15kvhqq3oT5RQXo'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:29:52.204 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select ParentNodeID NodeID from COM_CostCenterCostCenterMap where CostCenterID in (8,300) and ParentCostCenterId=50033 and NodeID=41025'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:29:52.219 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDc4NSwiZXhwIjoxNzUyODQzNTg1LCJpYXQiOjE3NTI4MTQ3ODV9.ggc29q5xy3SmkhGgqPRaZrFADvDV15kvhqq3oT5RQXo'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:29:52.219 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select ParentNodeID NodeID from COM_CostCenterCostCenterMap where CostCenterID in (8,300) and ParentCostCenterId=50033 and NodeID=41025'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:29:52.219 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDc4NSwiZXhwIjoxNzUyODQzNTg1LCJpYXQiOjE3NTI4MTQ3ODV9.ggc29q5xy3SmkhGgqPRaZrFADvDV15kvhqq3oT5RQXo'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:29:52.235 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select ParentNodeID NodeID from COM_CostCenterCostCenterMap where CostCenterID in (8,300) and ParentCostCenterId=50033 and NodeID=41025'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:29:52.235 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDc4NSwiZXhwIjoxNzUyODQzNTg1LCJpYXQiOjE3NTI4MTQ3ODV9.ggc29q5xy3SmkhGgqPRaZrFADvDV15kvhqq3oT5RQXo'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:29:52.251 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select ParentNodeID NodeID from COM_CostCenterCostCenterMap where CostCenterID in (8,300) and ParentCostCenterId=50033 and NodeID=41025'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:29:52.251 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDc4NSwiZXhwIjoxNzUyODQzNTg1LCJpYXQiOjE3NTI4MTQ3ODV9.ggc29q5xy3SmkhGgqPRaZrFADvDV15kvhqq3oT5RQXo'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:29:52.266 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select ParentNodeID NodeID from COM_CostCenterCostCenterMap where CostCenterID in (8,300) and ParentCostCenterId=50033 and NodeID=41025'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:29:52.266 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDc4NSwiZXhwIjoxNzUyODQzNTg1LCJpYXQiOjE3NTI4MTQ3ODV9.ggc29q5xy3SmkhGgqPRaZrFADvDV15kvhqq3oT5RQXo'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:29:52.282 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select ParentNodeID NodeID from COM_CostCenterCostCenterMap where CostCenterID in (8,300) and ParentCostCenterId=50033 and NodeID=41025'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:29:52.282 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDc4NSwiZXhwIjoxNzUyODQzNTg1LCJpYXQiOjE3NTI4MTQ3ODV9.ggc29q5xy3SmkhGgqPRaZrFADvDV15kvhqq3oT5RQXo'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:29:52.282 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select ParentNodeID NodeID from COM_CostCenterCostCenterMap where CostCenterID in (8,300) and ParentCostCenterId=50033 and NodeID=41025'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:29:52.298 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDc4NSwiZXhwIjoxNzUyODQzNTg1LCJpYXQiOjE3NTI4MTQ3ODV9.ggc29q5xy3SmkhGgqPRaZrFADvDV15kvhqq3oT5RQXo'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:29:52.298 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select ParentNodeID NodeID from COM_CostCenterCostCenterMap where CostCenterID in (8,300) and ParentCostCenterId=50033 and NodeID=41025'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:29:52.313 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDc4NSwiZXhwIjoxNzUyODQzNTg1LCJpYXQiOjE3NTI4MTQ3ODV9.ggc29q5xy3SmkhGgqPRaZrFADvDV15kvhqq3oT5RQXo'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:29:52.313 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select ParentNodeID NodeID from COM_CostCenterCostCenterMap where CostCenterID in (8,300) and ParentCostCenterId=50033 and NodeID=41025'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:29:52.313 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDc4NSwiZXhwIjoxNzUyODQzNTg1LCJpYXQiOjE3NTI4MTQ3ODV9.ggc29q5xy3SmkhGgqPRaZrFADvDV15kvhqq3oT5RQXo'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:29:52.329 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select ParentNodeID NodeID from COM_CostCenterCostCenterMap where CostCenterID in (8,300) and ParentCostCenterId=50033 and NodeID=41025'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:29:52.329 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDc4NSwiZXhwIjoxNzUyODQzNTg1LCJpYXQiOjE3NTI4MTQ3ODV9.ggc29q5xy3SmkhGgqPRaZrFADvDV15kvhqq3oT5RQXo'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:29:52.344 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select ParentNodeID NodeID from COM_CostCenterCostCenterMap where CostCenterID in (8,300) and ParentCostCenterId=50033 and NodeID=41025'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:29:52.344 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDc4NSwiZXhwIjoxNzUyODQzNTg1LCJpYXQiOjE3NTI4MTQ3ODV9.ggc29q5xy3SmkhGgqPRaZrFADvDV15kvhqq3oT5RQXo'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:29:52.423 | General Service|:: CompanyIndex:13 SpName: spADM_GetCostCenterListViewData 
 362
 ,'a.Name,a.Code'
 ,''
 ,''
 ,'Name'
 ,''
 ,60
 ,False
 ,''
 ,''
 ,'(CCNID9=10570)'
 ,''
 ,''
 ,0
 ,False
 ,''
 ,''
 ,'1'
 ,'1'
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:29:52.423 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDc4NSwiZXhwIjoxNzUyODQzNTg1LCJpYXQiOjE3NTI4MTQ3ODV9.ggc29q5xy3SmkhGgqPRaZrFADvDV15kvhqq3oT5RQXo'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:30:47.847 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:30:47.847 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDc4NSwiZXhwIjoxNzUyODQzNTg1LCJpYXQiOjE3NTI4MTQ3ODV9.ggc29q5xy3SmkhGgqPRaZrFADvDV15kvhqq3oT5RQXo'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:31:48.429 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:31:48.429 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNDc4NSwiZXhwIjoxNzUyODQzNTg1LCJpYXQiOjE3NTI4MTQ3ODV9.ggc29q5xy3SmkhGgqPRaZrFADvDV15kvhqq3oT5RQXo'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:34:49.716 | General Service|:: CompanyIndex:0 SpName: spADM_GetClientUserDetails2C 
 'admin'
 ,1
 ,0
[System: 192.168.1.54] DEBUG | 07-18-2025 10:34:49.732 | General Service|:: CompanyIndex:0 SpName: spADM_UserLoginCheck 
 2
 ,'admin'
 ,0
 ,'192.168.1.54'
 ,'192.168.1.54'
 ,''
 ,'Web'
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:34:52.403 | General Service|:: CompanyIndex:13 SpName: spADM_GetClientUserDetails 
 'admin'
 ,1
 ,'26.1.0'
 ,0
[System: 192.168.1.54] DEBUG | 07-18-2025 10:34:52.450 | General Service|:: CompanyIndex:0 SpName: spADM_UserLoginCheck 
 2
 ,'admin'
 ,13
 ,'192.168.1.54'
 ,'192.168.1.54'
 ,''
 ,'Web'
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:34:52.450 | General Service|:: CompanyIndex:0 SpName: spADM_Login 
 1
 ,''
 ,''
 ,''
 ,''
 ,''
 ,13
[System: 192.168.1.54] DEBUG | 07-18-2025 10:34:52.450 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select Value from ADM_GlobalPreferences with (nolock) where name =''EnableReLogin'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:34:52.466 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTA5MiwiZXhwIjoxNzUyODQzODkyLCJpYXQiOjE3NTI4MTUwOTJ9.DIE1k1Xi7ySCbVe1RxSQRPf_La7Dt19SG70Db7PyaLw'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:34:52.497 | General Service|:: CompanyIndex:0 SpName: spADM_Login 
 4
 ,''
 ,''
 ,''
 ,'declare @Cnt int,@ExpiredGUID nvarchar(50),@AllowSession int,@GUID nvarchar(50),@CurrDate float,@UserID INT,@Instances INT,@InstancesExists INT,@LCDBIndex int
set @CurrDate= convert(float,dateadd(minute,-21,getdate()))
set @AllowSession=0
set @GUID=''998832f0-47d8-4deb-ac24-cc7fef2c2828''
set @LCDBIndex=0
select top 1 @UserID=UserID,@Instances=InstanceCount from ADM_Users with(nolock) where UserName=''admin''
if exists(select [GUID] from ADM_Login with(nolock) where [GUID]=@GUID)
begin
	update ADM_Login 
	set LastAccessTime=convert(float,getdate()),UserID=@UserID
	where [GUID]=@GUID
    set @AllowSession=1
end
else
begin
	select @Cnt=count(*) from ADM_Login with(nolock) where LCDBIndex=@LCDBIndex and [GUID]!=''ACCESSRIGHTS'' and AP =''WEB''
    if(@Cnt<100)
		set @AllowSession=1
	else
	begin
		select top 1 @ExpiredGUID=[GUID] from ADM_Login with(nolock)
		where [GUID]!=''ACCESSRIGHTS'' and LCDBIndex=@LCDBIndex and LastAccessTime<@CurrDate  and AP =''WEB''
        order by LastAccessTime asc
		if @ExpiredGUID is not null
		begin
			delete from ADM_Login where [GUID]=@ExpiredGUID
			set @AllowSession=1
		end
	end
	if @AllowSession=1
	begin
        select @InstancesExists=COUNT(*) from ADM_Login with(nolock)
		where [GUID]!=''ACCESSRIGHTS'' and LCDBIndex=@LCDBIndex and LastAccessTime>=@CurrDate and UserID=@UserID and AP =''WEB''
		if(@Instances!=0 and @Instances<=@InstancesExists)
			set @AllowSession=2
		else
		    INSERT INTO ADM_Login([GUID],[SysName],IPAddress,[Status],LoginTime,LastAccessTime,AccessRights,UserID,DBIndex,LCDBIndex,AP)
		    VALUES(@GUID,''WEB'',''192.168.1.54'',1,convert(float,getdate()),convert(float,getdate()),null,@UserID,13,@LCDBIndex, ''WEB'')
	end
end

select @AllowSession AllowSession,@Instances Instances,@InstancesExists InstancesExists
'
 ,''
 ,0
[System: 192.168.1.54] DEBUG | 07-18-2025 10:34:52.497 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTA5MiwiZXhwIjoxNzUyODQzODkyLCJpYXQiOjE3NTI4MTUwOTJ9.DIE1k1Xi7ySCbVe1RxSQRPf_La7Dt19SG70Db7PyaLw'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:34:52.512 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'SELECT (SELECT COUNT(*) FROM COM_Location L WITH(NOLOCK) JOIN COM_Status S WITH(NOLOCK) ON S.StatusID=L.StatusID WHERE L.IsGroup=0 AND S.[Status]=''Active'') ML
,(SELECT COUNT(*) FROM ADM_Features WITH(NOLOCK) WHERE ((FeatureID>50000 AND FeatureID<=50050) OR FeatureID>=51000) AND IsEnabled=1) MD
,(SELECT ISNULL(COUNT(*),0) FROM ADM_RevenUReports WITH(NOLOCK) WHERE IsGroup=0 AND ReportID>10000 AND StaticReportType IN (0,-1)) MR'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:34:52.528 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTA5MiwiZXhwIjoxNzUyODQzODkyLCJpYXQiOjE3NTI4MTUwOTJ9.DIE1k1Xi7ySCbVe1RxSQRPf_La7Dt19SG70Db7PyaLw'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:34:53.918 | General Service|:: CompanyIndex:13 SpName: spCOM_ConfigValues 
 1
 ,'NotifTime'
 ,''
[System: 192.168.1.54] DEBUG | 07-18-2025 10:34:53.918 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTA5MiwiZXhwIjoxNzUyODQzODkyLCJpYXQiOjE3NTI4MTUwOTJ9.DIE1k1Xi7ySCbVe1RxSQRPf_La7Dt19SG70Db7PyaLw'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:34:54.090 | General Service|:: CompanyIndex:13 SpName: spADM_GetRibbonView 
 1
 ,1
 ,1
 ,1
 ,0
 ,''
[System: 192.168.1.54] DEBUG | 07-18-2025 10:34:54.090 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTA5MiwiZXhwIjoxNzUyODQzODkyLCJpYXQiOjE3NTI4MTUwOTJ9.DIE1k1Xi7ySCbVe1RxSQRPf_La7Dt19SG70Db7PyaLw'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:34:54.294 | General Service|:: CompanyIndex:13 SpName: spRPT_GetReport 
 2
 ,0
 ,'1'
 ,'1'
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:34:54.294 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTA5MiwiZXhwIjoxNzUyODQzODkyLCJpYXQiOjE3NTI4MTUwOTJ9.DIE1k1Xi7ySCbVe1RxSQRPf_La7Dt19SG70Db7PyaLw'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:34:54.309 | General Service|:: CompanyIndex:13 SpName: spADM_GetDashBoard 
 2
 ,0
 ,0
 ,'1'
 ,'1'
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:34:54.309 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTA5MiwiZXhwIjoxNzUyODQzODkyLCJpYXQiOjE3NTI4MTUwOTJ9.DIE1k1Xi7ySCbVe1RxSQRPf_La7Dt19SG70Db7PyaLw'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:34:54.325 | General Service|:: CompanyIndex:13 SpName: spCOM_ConfigValues 
 1
 ,'LandingDocs'
 ,'1'
[System: 192.168.1.54] DEBUG | 07-18-2025 10:34:54.325 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTA5MiwiZXhwIjoxNzUyODQzODkyLCJpYXQiOjE3NTI4MTUwOTJ9.DIE1k1Xi7ySCbVe1RxSQRPf_La7Dt19SG70Db7PyaLw'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:34:54.356 | General Service|:: CompanyIndex:13 SpName: spADM_GetAllListViewsDef 
 1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:34:54.371 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTA5MiwiZXhwIjoxNzUyODQzODkyLCJpYXQiOjE3NTI4MTUwOTJ9.DIE1k1Xi7ySCbVe1RxSQRPf_La7Dt19SG70Db7PyaLw'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:34:54.371 | General Service|:: CompanyIndex:13 SpName: spCOM_GetFavorites 
 'GETLIST0'
 ,0
 ,'1'
 ,'1'
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:34:54.371 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTA5MiwiZXhwIjoxNzUyODQzODkyLCJpYXQiOjE3NTI4MTUwOTJ9.DIE1k1Xi7ySCbVe1RxSQRPf_La7Dt19SG70Db7PyaLw'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:34:54.434 | General Service|:: CompanyIndex:13 SpName: spADM_GetAllListViewsDef 
 1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:34:54.434 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTA5MiwiZXhwIjoxNzUyODQzODkyLCJpYXQiOjE3NTI4MTUwOTJ9.DIE1k1Xi7ySCbVe1RxSQRPf_La7Dt19SG70Db7PyaLw'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:34:54.528 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'Select CostCenterID,CostCenterColID,CostCenterName,SysTableName,UserColumnName,SysColumnName,ISNULL(UserDefaultValue,'''') UserDefaultValue
From AdM_CostCenterDef WITH(NOLOCK)
Where SysColumnName IN(''CreditAccount'',''DebitAccount'',''ProductID'') 
AND CostCenterID>40000 AND CostCenterID<50000 

SELECT * FROM ADM_Features WITH(NOLOCK) '
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:34:54.528 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTA5MiwiZXhwIjoxNzUyODQzODkyLCJpYXQiOjE3NTI4MTUwOTJ9.DIE1k1Xi7ySCbVe1RxSQRPf_La7Dt19SG70Db7PyaLw'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:34:54.575 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 '  SELECT * FROM PAY_PayrollPreferences WITH(NOLOCK) '
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:34:54.575 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTA5MiwiZXhwIjoxNzUyODQzODkyLCJpYXQiOjE3NTI4MTUwOTJ9.DIE1k1Xi7ySCbVe1RxSQRPf_La7Dt19SG70Db7PyaLw'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:34:54.606 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 '  --0
                                Select * FROM COM_CC50051 WITH(NOLOCK) WHERE IsGroup=0 AND LoginUserID=''admin''
                                --1                                
                                Select * FROM COM_CC50051 WITH(NOLOCK) WHERE RptManager IN (Select NodeID FROM COM_CC50051 WITH(NOLOCK) WHERE IsGroup=0 AND LoginUserID=''admin'')
                                UNION ALL
                                Select * FROM COM_CC50051 WITH(NOLOCK) WHERE RptManager IN 
                                (
	                                Select NodeID FROM COM_CC50051 WITH(NOLOCK) 
	                                WHERE IsGroup=0 AND LoginUserID IN
	                                (
	                                SELECT fe.LoginUserID
	                                FROM INV_DocDetails a WITH(NOLOCK) 
	                                JOIN COM_DocCCData b WITH(NOLOCK) ON b.InvDocDetailsID=a.InvDocDetailsID
	                                JOIN COM_DocNumData c WITH(NOLOCK) ON c.InvDocDetailsID=a.InvDocDetailsID
	                                JOIN COM_DocTextData d WITH(NOLOCK) ON d.InvDocDetailsID=a.InvDocDetailsID
	                                JOIN COM_CC50051 fe WITH(NOLOCK) on fe.NodeID=b.dcCCNID51
	                                JOIN COM_CC50051 te WITH(NOLOCK) on CONVERT(NVARCHAR,te.NodeID)=d.dcAlpha1
	                                WHERE a.CostCenterID=40098 and a.StatusID=369 AND d.dcAlpha3=''Temporary''
	                                AND te.LoginUserID=''admin'' 
	                                AND ISDATE(d.dcAlpha4)=1 AND ISDATE(d.dcAlpha5)=1 
	                                AND CONVERT(DATETIME,''18 Jul 2025'') BETWEEN CONVERT(DATETIME,d.dcAlpha4) AND CONVERT(DATETIME,d.dcAlpha5)
	                                )
                                )
                                --2
                                Select * FROM ADM_USERS WITH(NOLOCK) WHERE USERID=1
                                --3
                                Select * FROM COM_CostCenterCostCenterMap WITH(NOLOCK) WHERE ParentCostCenterID=7 AND ParentNodeID=1
                                --4                                
                                Select * FROM COM_CostCenterCostCenterMap WITH(NOLOCK) WHERE ParentCostCenterID=7 AND ParentNodeID=1
                                AND CostCenterID IN(Select ColumnCostCenterID From ADM_CostCenterDef Where CostCenterID=50051 AND IsColumnInUse=1 AND SysColumnName LIKE ''CCNID%'')
                                --5
                                Select * from COM_Files WITH(NOLOCK) WHERE FeatureID=50051 AND FeaturePK IN (Select NodeID FROM COM_CC50051 WITH(NOLOCK) WHERE IsGroup=0 AND LoginUserID=''admin'')                         
'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:34:54.621 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTA5MiwiZXhwIjoxNzUyODQzODkyLCJpYXQiOjE3NTI4MTUwOTJ9.DIE1k1Xi7ySCbVe1RxSQRPf_La7Dt19SG70Db7PyaLw'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:34:54.746 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:34:54.746 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTA5MiwiZXhwIjoxNzUyODQzODkyLCJpYXQiOjE3NTI4MTUwOTJ9.DIE1k1Xi7ySCbVe1RxSQRPf_La7Dt19SG70Db7PyaLw'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:34:54.965 | General Service|:: CompanyIndex:13 SpName: spADM_GetDashBoard 
 1
 ,8
 ,0
 ,'1'
 ,'1'
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:34:54.965 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTA5MiwiZXhwIjoxNzUyODQzODkyLCJpYXQiOjE3NTI4MTUwOTJ9.DIE1k1Xi7ySCbVe1RxSQRPf_La7Dt19SG70Db7PyaLw'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:34:54.981 | General Service|:: CompanyIndex:13 SpName: spRPT_GetReport 
 0
 ,30456
 ,'1'
 ,'1'
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:34:54.981 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTA5MiwiZXhwIjoxNzUyODQzODkyLCJpYXQiOjE3NTI4MTUwOTJ9.DIE1k1Xi7ySCbVe1RxSQRPf_La7Dt19SG70Db7PyaLw'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:34:56.074 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'SELECT StaticReportType FROM ADM_RevenUReports WITH(NOLOCK) WHERE ReportID=30456'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:34:56.090 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTA5MiwiZXhwIjoxNzUyODQzODkyLCJpYXQiOjE3NTI4MTUwOTJ9.DIE1k1Xi7ySCbVe1RxSQRPf_La7Dt19SG70Db7PyaLw'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:34:56.199 | General Service|:: CompanyIndex:13 SpName: spRPT_GetReportCategoryandField 
 -1
 ,0
 ,1
 ,0
 ,'1'
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:34:56.199 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTA5MiwiZXhwIjoxNzUyODQzODkyLCJpYXQiOjE3NTI4MTUwOTJ9.DIE1k1Xi7ySCbVe1RxSQRPf_La7Dt19SG70Db7PyaLw'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:34:56.246 | General Service|:: CompanyIndex:13 SpName: spRPT_GetReportFields 
 400
 ,0
 ,'1'
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:34:56.246 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTA5MiwiZXhwIjoxNzUyODQzODkyLCJpYXQiOjE3NTI4MTUwOTJ9.DIE1k1Xi7ySCbVe1RxSQRPf_La7Dt19SG70Db7PyaLw'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:34:56.293 | General Service|:: CompanyIndex:13 SpName: spRPT_GetReportData 
 9
 ,1
 ,'<XML UID="1" ShowMyQueue="0"></XML>'
 ,'1'
[System: 192.168.1.54] DEBUG | 07-18-2025 10:34:56.293 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTA5MiwiZXhwIjoxNzUyODQzODkyLCJpYXQiOjE3NTI4MTUwOTJ9.DIE1k1Xi7ySCbVe1RxSQRPf_La7Dt19SG70Db7PyaLw'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:34:56.465 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
                EXEC spRPT_GetReportData @Type=8,@Param1=1,@strXML=null,@RoleID=1
SELECT ACC.VoucherNo [C858bdfa70f884b78b8ec0453808910bb],ACC.VersionNo [C858bdfa70f884b78b8ec0453808910bbVer],CONVERT(DATETIME,ACC.DocDate) [Cf4c1ff96517a40978b75103376667aae],ACC.DocAbbr [C501419b9c341410d8920b953fb30cfbf],ACC.Amount [Cfa623191688842d5ac3c0cd9232cfb2e],NULL [C90a85d26ad47471988897309a5c78218],T1.UserName [Cd0c4cb9a7057416ca691fb5c4774545b],T3.Name [C80a6de4371d045c08bf9d035c1831959],ACC.CommonNarration [Ce66e27446651436893b0d2c967dd0ecb],T4.Status [Ca7da089a0bd542838ddeb39e78a982ea],T5.Name [Cff89130f277d4635b5e1c5e6887cbcb5],ACC.VoucherNo [Cdacb59b3f5e54f18b65dfc4cf3186555],ACC.DocAbbr [Cdacb59b3f5e54f18b65dfc4cf3186555Abr],ACC.DocPrefix [Cdacb59b3f5e54f18b65dfc4cf3186555prf],CONVERT(BIGINT,ACC.DocNumber) [Cdacb59b3f5e54f18b65dfc4cf3186555dno]
 FROM ACC_DocDetails ACC with(nolock) left join ADM_Users T1 with(nolock) on ACC.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on ACC.AccDocDetailsID=TDCC.AccDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on ACC.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (ACC.CostCenterID=41053) AND T4.Status=''Unapproved'' AND ACC.LinkedAccDocDetailsID is null AND WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT ACC.VoucherNo,ACC.VersionNo,CONVERT(DATETIME,ACC.DocDate),ACC.DocAbbr,ACC.Amount,NULL,T1.UserName,T3.Name,ACC.CommonNarration,T4.Status,T5.Name,ACC.VoucherNo,ACC.DocAbbr,ACC.DocPrefix,CONVERT(BIGINT,ACC.DocNumber)
 FROM ACC_DocDetails ACC with(nolock) left join ADM_Users T1 with(nolock) on ACC.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on ACC.AccDocDetailsID=TDCC.AccDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on ACC.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (ACC.CostCenterID=41061) AND T4.Status=''Unapproved'' AND ACC.LinkedAccDocDetailsID is null AND WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT ACC.VoucherNo,ACC.VersionNo,CONVERT(DATETIME,ACC.DocDate),ACC.DocAbbr,ACC.Amount,NULL,T1.UserName,T3.Name,ACC.CommonNarration,T4.Status,T5.Name,ACC.VoucherNo,ACC.DocAbbr,ACC.DocPrefix,CONVERT(BIGINT,ACC.DocNumber)
 FROM ACC_DocDetails ACC with(nolock) left join ADM_Users T1 with(nolock) on ACC.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on ACC.AccDocDetailsID=TDCC.AccDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on ACC.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (ACC.CostCenterID=40023) AND T4.Status=''Unapproved'' AND ACC.LinkedAccDocDetailsID is null AND WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT ACC.VoucherNo,ACC.VersionNo,CONVERT(DATETIME,ACC.DocDate),ACC.DocAbbr,ACC.Amount,NULL,T1.UserName,T3.Name,ACC.CommonNarration,T4.Status,T5.Name,ACC.VoucherNo,ACC.DocAbbr,ACC.DocPrefix,CONVERT(BIGINT,ACC.DocNumber)
 FROM ACC_DocDetails ACC with(nolock) left join ADM_Users T1 with(nolock) on ACC.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on ACC.AccDocDetailsID=TDCC.AccDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on ACC.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (ACC.CostCenterID=41064) AND T4.Status=''Unapproved'' AND ACC.LinkedAccDocDetailsID is null AND WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT ACC.VoucherNo,ACC.VersionNo,CONVERT(DATETIME,ACC.DocDate),ACC.DocAbbr,ACC.Amount,NULL,T1.UserName,T3.Name,ACC.CommonNarration,T4.Status,T5.Name,ACC.VoucherNo,ACC.DocAbbr,ACC.DocPrefix,CONVERT(BIGINT,ACC.DocNumber)
 FROM ACC_DocDetails ACC with(nolock) left join ADM_Users T1 with(nolock) on ACC.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on ACC.AccDocDetailsID=TDCC.AccDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on ACC.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (ACC.CostCenterID=41006) AND T4.Status=''Unapproved'' AND ACC.LinkedAccDocDetailsID is null AND WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT ACC.VoucherNo,ACC.VersionNo,CONVERT(DATETIME,ACC.DocDate),ACC.DocAbbr,ACC.Amount,NULL,T1.UserName,T3.Name,ACC.CommonNarration,T4.Status,T5.Name,ACC.VoucherNo,ACC.DocAbbr,ACC.DocPrefix,CONVERT(BIGINT,ACC.DocNumber)
 FROM ACC_DocDetails ACC with(nolock) left join ADM_Users T1 with(nolock) on ACC.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on ACC.AccDocDetailsID=TDCC.AccDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on ACC.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (ACC.CostCenterID=40022) AND T4.Status=''Unapproved'' AND ACC.LinkedAccDocDetailsID is null AND WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT ACC.VoucherNo,ACC.VersionNo,CONVERT(DATETIME,ACC.DocDate),ACC.DocAbbr,ACC.Amount,NULL,T1.UserName,T3.Name,ACC.CommonNarration,T4.Status,T5.Name,ACC.VoucherNo,ACC.DocAbbr,ACC.DocPrefix,CONVERT(BIGINT,ACC.DocNumber)
 FROM ACC_DocDetails ACC with(nolock) left join ADM_Users T1 with(nolock) on ACC.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on ACC.AccDocDetailsID=TDCC.AccDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on ACC.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (ACC.CostCenterID=41075) AND T4.Status=''Unapproved'' AND ACC.LinkedAccDocDetailsID is null AND WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT ACC.VoucherNo,ACC.VersionNo,CONVERT(DATETIME,ACC.DocDate),ACC.DocAbbr,ACC.Amount,NULL,T1.UserName,T3.Name,ACC.CommonNarration,T4.Status,T5.Name,ACC.VoucherNo,ACC.DocAbbr,ACC.DocPrefix,CONVERT(BIGINT,ACC.DocNumber)
 FROM ACC_DocDetails ACC with(nolock) left join ADM_Users T1 with(nolock) on ACC.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on ACC.AccDocDetailsID=TDCC.AccDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on ACC.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (ACC.CostCenterID=41077) AND T4.Status=''Unapproved'' AND ACC.LinkedAccDocDetailsID is null AND WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT ACC.VoucherNo,ACC.VersionNo,CONVERT(DATETIME,ACC.DocDate),ACC.DocAbbr,ACC.Amount,NULL,T1.UserName,T3.Name,ACC.CommonNarration,T4.Status,T5.Name,ACC.VoucherNo,ACC.DocAbbr,ACC.DocPrefix,CONVERT(BIGINT,ACC.DocNumber)
 FROM ACC_DocDetails ACC with(nolock) left join ADM_Users T1 with(nolock) on ACC.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on ACC.AccDocDetailsID=TDCC.AccDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on ACC.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (ACC.CostCenterID=40014) AND T4.Status=''Unapproved'' AND ACC.LinkedAccDocDetailsID is null AND WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT ACC.VoucherNo,ACC.VersionNo,CONVERT(DATETIME,ACC.DocDate),ACC.DocAbbr,ACC.Amount,NULL,T1.UserName,T3.Name,ACC.CommonNarration,T4.Status,T5.Name,ACC.VoucherNo,ACC.DocAbbr,ACC.DocPrefix,CONVERT(BIGINT,ACC.DocNumber)
 FROM ACC_DocDetails ACC with(nolock) left join ADM_Users T1 with(nolock) on ACC.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on ACC.AccDocDetailsID=TDCC.AccDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on ACC.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (ACC.CostCenterID=41065) AND T4.Status=''Unapproved'' AND ACC.LinkedAccDocDetailsID is null AND WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT ACC.VoucherNo,ACC.VersionNo,CONVERT(DATETIME,ACC.DocDate),ACC.DocAbbr,ACC.Amount,NULL,T1.UserName,T3.Name,ACC.CommonNarration,T4.Status,T5.Name,ACC.VoucherNo,ACC.DocAbbr,ACC.DocPrefix,CONVERT(BIGINT,ACC.DocNumber)
 FROM ACC_DocDetails ACC with(nolock) left join ADM_Users T1 with(nolock) on ACC.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on ACC.AccDocDetailsID=TDCC.AccDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on ACC.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (ACC.CostCenterID=40017) AND T4.Status=''Unapproved'' AND ACC.LinkedAccDocDetailsID is null AND WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT INV.VoucherNo,INV.VersionNo,CONVERT(DATETIME,INV.DocDate),INV.DocAbbr,NULL,CASE WHEN (SELECT DocumentType FROM ADM_DocumentTypes WITH(NOLOCK) WHERE CostCenterID=INV.CostCenterID)=38 AND VoucherType=1 THEN -INV.Gross ELSE INV.Gross END,T1.UserName,T3.Name,INV.CommonNarration,T4.Status,T5.Name,INV.VoucherNo,INV.DocAbbr,INV.DocPrefix,CONVERT(BIGINT,INV.DocNumber)
 FROM INV_DocDetails INV with(nolock) left join ADM_Users T1 with(nolock) on INV.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on INV.InvDocDetailsID=TDCC.InvDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on INV.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (INV.CostCenterID=41018) AND T4.Status=''Unapproved'' AND WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef and INV.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT INV.VoucherNo,INV.VersionNo,CONVERT(DATETIME,INV.DocDate),INV.DocAbbr,NULL,CASE WHEN (SELECT DocumentType FROM ADM_DocumentTypes WITH(NOLOCK) WHERE CostCenterID=INV.CostCenterID)=38 AND VoucherType=1 THEN -INV.Gross ELSE INV.Gross END,T1.UserName,T3.Name,INV.CommonNarration,T4.Status,T5.Name,INV.VoucherNo,INV.DocAbbr,INV.DocPrefix,CONVERT(BIGINT,INV.DocNumber)
 FROM INV_DocDetails INV with(nolock) left join ADM_Users T1 with(nolock) on INV.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on INV.InvDocDetailsID=TDCC.InvDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on INV.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (INV.CostCenterID=40011) AND T4.Status=''Unapproved'' AND WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef and INV.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT INV.VoucherNo,INV.VersionNo,CONVERT(DATETIME,INV.DocDate),INV.DocAbbr,NULL,CASE WHEN (SELECT DocumentType FROM ADM_DocumentTypes WITH(NOLOCK) WHERE CostCenterID=INV.CostCenterID)=38 AND VoucherType=1 THEN -INV.Gross ELSE INV.Gross END,T1.UserName,T3.Name,INV.CommonNarration,T4.Status,T5.Name,INV.VoucherNo,INV.DocAbbr,INV.DocPrefix,CONVERT(BIGINT,INV.DocNumber)
 FROM INV_DocDetails INV with(nolock) left join ADM_Users T1 with(nolock) on INV.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on INV.InvDocDetailsID=TDCC.InvDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on INV.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (INV.CostCenterID=41072) AND T4.Status=''Unapproved'' AND WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef and INV.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT INV.VoucherNo,INV.VersionNo,CONVERT(DATETIME,INV.DocDate),INV.DocAbbr,NULL,CASE WHEN (SELECT DocumentType FROM ADM_DocumentTypes WITH(NOLOCK) WHERE CostCenterID=INV.CostCenterID)=38 AND VoucherType=1 THEN -INV.Gross ELSE INV.Gross END,T1.UserName,T3.Name,INV.CommonNarration,T4.Status,T5.Name,INV.VoucherNo,INV.DocAbbr,INV.DocPrefix,CONVERT(BIGINT,INV.DocNumber)
 FROM INV_DocDetails INV with(nolock) left join ADM_Users T1 with(nolock) on INV.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on INV.InvDocDetailsID=TDCC.InvDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on INV.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (INV.CostCenterID=41057) AND T4.Status=''Unapproved'' AND WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef and INV.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT INV.VoucherNo,INV.VersionNo,CONVERT(DATETIME,INV.DocDate),INV.DocAbbr,NULL,CASE WHEN (SELECT DocumentType FROM ADM_DocumentTypes WITH(NOLOCK) WHERE CostCenterID=INV.CostCenterID)=38 AND VoucherType=1 THEN -INV.Gross ELSE INV.Gross END,T1.UserName,T3.Name,INV.CommonNarration,T4.Status,T5.Name,INV.VoucherNo,INV.DocAbbr,INV.DocPrefix,CONVERT(BIGINT,INV.DocNumber)
 FROM INV_DocDetails INV with(nolock) left join ADM_Users T1 with(nolock) on INV.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on INV.InvDocDetailsID=TDCC.InvDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on INV.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (INV.CostCenterID=41060) AND T4.Status=''Unapproved'' AND WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef and INV.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT INV.VoucherNo,INV.VersionNo,CONVERT(DATETIME,INV.DocDate),INV.DocAbbr,NULL,CASE WHEN (SELECT DocumentType FROM ADM_DocumentTypes WITH(NOLOCK) WHERE CostCenterID=INV.CostCenterID)=38 AND VoucherType=1 THEN -INV.Gross ELSE INV.Gross END,T1.UserName,T3.Name,INV.CommonNarration,T4.Status,T5.Name,INV.VoucherNo,INV.DocAbbr,INV.DocPrefix,CONVERT(BIGINT,INV.DocNumber)
 FROM INV_DocDetails INV with(nolock) left join ADM_Users T1 with(nolock) on INV.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on INV.InvDocDetailsID=TDCC.InvDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on INV.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (INV.CostCenterID=40001) AND T4.Status=''Unapproved'' AND WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef and INV.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT INV.VoucherNo,INV.VersionNo,CONVERT(DATETIME,INV.DocDate),INV.DocAbbr,NULL,CASE WHEN (SELECT DocumentType FROM ADM_DocumentTypes WITH(NOLOCK) WHERE CostCenterID=INV.CostCenterID)=38 AND VoucherType=1 THEN -INV.Gross ELSE INV.Gross END,T1.UserName,T3.Name,INV.CommonNarration,T4.Status,T5.Name,INV.VoucherNo,INV.DocAbbr,INV.DocPrefix,CONVERT(BIGINT,INV.DocNumber)
 FROM INV_DocDetails INV with(nolock) left join ADM_Users T1 with(nolock) on INV.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on INV.InvDocDetailsID=TDCC.InvDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on INV.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (INV.CostCenterID=41054) AND T4.Status=''Unapproved'' AND WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef and INV.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT ACC.VoucherNo,ACC.VersionNo,CONVERT(DATETIME,ACC.DocDate),ACC.DocAbbr,ACC.Amount,NULL,T1.UserName,T3.Name,ACC.CommonNarration,T4.Status,T5.Name,ACC.VoucherNo,ACC.DocAbbr,ACC.DocPrefix,CONVERT(BIGINT,ACC.DocNumber)
 FROM ACC_DocDetails ACC with(nolock) left join ADM_Users T1 with(nolock) on ACC.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on ACC.AccDocDetailsID=TDCC.AccDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on ACC.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (ACC.CostCenterID=41033) AND T4.Status=''Unapproved'' AND ACC.LinkedAccDocDetailsID is null AND WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT ACC.VoucherNo,ACC.VersionNo,CONVERT(DATETIME,ACC.DocDate),ACC.DocAbbr,ACC.Amount,NULL,T1.UserName,T3.Name,ACC.CommonNarration,T4.Status,T5.Name,ACC.VoucherNo,ACC.DocAbbr,ACC.DocPrefix,CONVERT(BIGINT,ACC.DocNumber)
 FROM ACC_DocDetails ACC with(nolock) left join ADM_Users T1 with(nolock) on ACC.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on ACC.AccDocDetailsID=TDCC.AccDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on ACC.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (ACC.CostCenterID=40019) AND T4.Status=''Unapproved'' AND ACC.LinkedAccDocDetailsID is null AND WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT ACC.VoucherNo,ACC.VersionNo,CONVERT(DATETIME,ACC.DocDate),ACC.DocAbbr,ACC.Amount,NULL,T1.UserName,T3.Name,ACC.CommonNarration,T4.Status,T5.Name,ACC.VoucherNo,ACC.DocAbbr,ACC.DocPrefix,CONVERT(BIGINT,ACC.DocNumber)
 FROM ACC_DocDetails ACC with(nolock) left join ADM_Users T1 with(nolock) on ACC.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on ACC.AccDocDetailsID=TDCC.AccDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on ACC.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (ACC.CostCenterID=41013) AND T4.Status=''Unapproved'' AND ACC.LinkedAccDocDetailsID is null AND WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef and ACC.CreatedDate+WF.CtWef<=convert(float,getdate()))) ORDER BY [Cdacb59b3f5e54f18b65dfc4cf3186555Abr] ,[Cdacb59b3f5e54f18b65dfc4cf3186555prf] ,[Cdacb59b3f5e54f18b65dfc4cf3186555dno]  
 DROP TABLE #TblUsrWF'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:34:56.480 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTA5MiwiZXhwIjoxNzUyODQzODkyLCJpYXQiOjE3NTI4MTUwOTJ9.DIE1k1Xi7ySCbVe1RxSQRPf_La7Dt19SG70Db7PyaLw'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:34:57.402 | General Service|:: CompanyIndex:13 SpName: spDOC_GetDocumentDefinition 
 41025
 ,NULL
 ,NULL
 ,''
 ,1
 ,'admin'
 ,1
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:34:57.402 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTA5MiwiZXhwIjoxNzUyODQzODkyLCJpYXQiOjE3NTI4MTUwOTJ9.DIE1k1Xi7ySCbVe1RxSQRPf_La7Dt19SG70Db7PyaLw'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:34:57.449 | General Service|:: CompanyIndex:13 SpName: spDoc_GetCurrencyExchangeRate 
 1
 ,'18-Jul-2025'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:34:57.449 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTA5MiwiZXhwIjoxNzUyODQzODkyLCJpYXQiOjE3NTI4MTUwOTJ9.DIE1k1Xi7ySCbVe1RxSQRPf_La7Dt19SG70Db7PyaLw'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:34:57.465 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'SELECT Code FROM COM_Location WITH(NOLOCK) WHERE NodeID=27'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:34:57.480 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTA5MiwiZXhwIjoxNzUyODQzODkyLCJpYXQiOjE3NTI4MTUwOTJ9.DIE1k1Xi7ySCbVe1RxSQRPf_La7Dt19SG70Db7PyaLw'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:34:57.496 | General Service|:: CompanyIndex:13 SpName: spDOC_GetDocumentPrefix 
 41025
 ,27
 ,''
 ,''
 ,'1'
 ,'1'
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:34:57.496 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTA5MiwiZXhwIjoxNzUyODQzODkyLCJpYXQiOjE3NTI4MTUwOTJ9.DIE1k1Xi7ySCbVe1RxSQRPf_La7Dt19SG70Db7PyaLw'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:34:57.496 | General Service|:: CompanyIndex:13 SpName: spDOC_GetDueDate 
 55687
 ,27
 ,0
 ,0
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:34:57.511 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTA5MiwiZXhwIjoxNzUyODQzODkyLCJpYXQiOjE3NTI4MTUwOTJ9.DIE1k1Xi7ySCbVe1RxSQRPf_La7Dt19SG70Db7PyaLw'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:34:57.511 | General Service|:: CompanyIndex:13 SpName: spDOC_GetCurrentCodeNumber 
 41025
 ,'023/25/'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:34:57.511 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTA5MiwiZXhwIjoxNzUyODQzODkyLCJpYXQiOjE3NTI4MTUwOTJ9.DIE1k1Xi7ySCbVe1RxSQRPf_La7Dt19SG70Db7PyaLw'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:34:57.543 | General Service|:: CompanyIndex:13 SpName: spDOC_GetLinkReferenceData 
 566117
 ,41025
 ,55687
 ,'18/Jul/2025'
 ,55687
 ,'<XML><Row CostCenterID="50011" NODEID="1" /><Row CostCenterID="50002" NODEID="27" /><Row CostCenterID="50058" NODEID="1" /><Row CostCenterID="50059" NODEID="1" /><Row CostCenterID="50061" NODEID="11" /><Row CostCenterID="50062" NODEID="1" /></XML>'
 ,False
 ,'0'
 ,'0'
 ,'0'
 ,NULL
 ,'0'
 ,'0'
 ,'0'
 ,''
 ,'1'
 ,1
 ,'1'
[System: 192.168.1.54] DEBUG | 07-18-2025 10:34:57.543 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTA5MiwiZXhwIjoxNzUyODQzODkyLCJpYXQiOjE3NTI4MTUwOTJ9.DIE1k1Xi7ySCbVe1RxSQRPf_La7Dt19SG70Db7PyaLw'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:34:57.574 | General Service|:: CompanyIndex:13 SpName: spADM_GetListViewDataByIDs 
 '<XML><Row CCID="50011"  TypeID="1"  DBColumnID="566213"  NodeID="1" /><Row CCID="2"  TypeID="10"  DBColumnID="566117"  NodeID="55687" /><Row CCID="2"  TypeID="100"  DBColumnID="566117"  NodeID="55687" /><Row CCID="2"  TypeID="10"  DBColumnID="566254"  NodeID="3" /><Row CCID="2"  TypeID="100"  DBColumnID="566254"  NodeID="3" /><Row CCID="50011"  TypeID="1"  DBColumnID="566213"  NodeID="1" /><Row CCID="50002"  TypeID="1"  DBColumnID="566204"  NodeID="27" /><Row CCID="50058"  TypeID="1"  DBColumnID="583442"  NodeID="1" /><Row CCID="50059"  TypeID="1"  DBColumnID="583494"  NodeID="1" /><Row CCID="50061"  TypeID="11"  DBColumnID="583598"  NodeID="11" /><Row CCID="50062"  TypeID="1"  DBColumnID="583650"  NodeID="1" /><Row CCID="50058"  TypeID="1"  DBColumnID="583713"  NodeID="1" /></XML>'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:34:57.574 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTA5MiwiZXhwIjoxNzUyODQzODkyLCJpYXQiOjE3NTI4MTUwOTJ9.DIE1k1Xi7ySCbVe1RxSQRPf_La7Dt19SG70Db7PyaLw'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:34:57.605 | General Service|:: CompanyIndex:13 SpName: spADM_GetListViewDataByIDs 
 '<XML><Row CCID="50011"  TypeID="1"  DBColumnID="566213"  NodeID="1" /><Row CCID="2"  TypeID="10"  DBColumnID="566117"  NodeID="55687" /><Row CCID="2"  TypeID="100"  DBColumnID="566117"  NodeID="55687" /><Row CCID="2"  TypeID="10"  DBColumnID="566254"  NodeID="3" /><Row CCID="2"  TypeID="100"  DBColumnID="566254"  NodeID="3" /><Row CCID="50011"  TypeID="1"  DBColumnID="566213"  NodeID="1" /><Row CCID="50002"  TypeID="1"  DBColumnID="566204"  NodeID="27" /><Row CCID="50058"  TypeID="1"  DBColumnID="583442"  NodeID="1" /><Row CCID="50059"  TypeID="1"  DBColumnID="583494"  NodeID="1" /><Row CCID="50061"  TypeID="11"  DBColumnID="583598"  NodeID="11" /><Row CCID="50062"  TypeID="1"  DBColumnID="583650"  NodeID="1" /><Row CCID="50058"  TypeID="1"  DBColumnID="583713"  NodeID="1" /></XML>'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:34:57.605 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTA5MiwiZXhwIjoxNzUyODQzODkyLCJpYXQiOjE3NTI4MTUwOTJ9.DIE1k1Xi7ySCbVe1RxSQRPf_La7Dt19SG70Db7PyaLw'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:34:57.621 | General Service|:: CompanyIndex:13 SpName: spDOC_GetLinkReferenceData 
 566117
 ,41025
 ,55687
 ,'18/Jul/2025'
 ,55687
 ,'<XML><Row CostCenterID="50011" NODEID="1" /><Row CostCenterID="50002" NODEID="27" /><Row CostCenterID="50058" NODEID="1" /><Row CostCenterID="50059" NODEID="1" /><Row CostCenterID="50061" NODEID="11" /><Row CostCenterID="50062" NODEID="1" /></XML>'
 ,False
 ,'0'
 ,'0'
 ,'0'
 ,NULL
 ,'0'
 ,'0'
 ,'0'
 ,''
 ,'1'
 ,1
 ,'1'
[System: 192.168.1.54] DEBUG | 07-18-2025 10:34:57.621 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTA5MiwiZXhwIjoxNzUyODQzODkyLCJpYXQiOjE3NTI4MTUwOTJ9.DIE1k1Xi7ySCbVe1RxSQRPf_La7Dt19SG70Db7PyaLw'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:34:57.636 | General Service|:: CompanyIndex:13 SpName: spADM_GetListViewDataByIDs 
 '<XML><Row CCID="50011"  TypeID="1"  DBColumnID="566213"  NodeID="1" /><Row CCID="2"  TypeID="10"  DBColumnID="566117"  NodeID="55687" /><Row CCID="2"  TypeID="100"  DBColumnID="566117"  NodeID="55687" /><Row CCID="2"  TypeID="10"  DBColumnID="566254"  NodeID="3" /><Row CCID="2"  TypeID="100"  DBColumnID="566254"  NodeID="3" /><Row CCID="50011"  TypeID="1"  DBColumnID="566213"  NodeID="1" /><Row CCID="50002"  TypeID="1"  DBColumnID="566204"  NodeID="27" /><Row CCID="50058"  TypeID="1"  DBColumnID="583442"  NodeID="1" /><Row CCID="50059"  TypeID="1"  DBColumnID="583494"  NodeID="1" /><Row CCID="50061"  TypeID="11"  DBColumnID="583598"  NodeID="11" /><Row CCID="50062"  TypeID="1"  DBColumnID="583650"  NodeID="1" /><Row CCID="50058"  TypeID="1"  DBColumnID="583713"  NodeID="1" /></XML>'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:34:57.636 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTA5MiwiZXhwIjoxNzUyODQzODkyLCJpYXQiOjE3NTI4MTUwOTJ9.DIE1k1Xi7ySCbVe1RxSQRPf_La7Dt19SG70Db7PyaLw'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:34:57.699 | General Service|:: CompanyIndex:13 SpName: spADM_GetCostCenterListViewData 
 500055
 ,'a.Name,a.Code,a.ccAlpha11'
 ,''
 ,''
 ,'Name'
 ,''
 ,60
 ,False
 ,''
 ,''
 ,''
 ,''
 ,''
 ,0
 ,False
 ,''
 ,''
 ,'1'
 ,'1'
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:34:57.699 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTA5MiwiZXhwIjoxNzUyODQzODkyLCJpYXQiOjE3NTI4MTUwOTJ9.DIE1k1Xi7ySCbVe1RxSQRPf_La7Dt19SG70Db7PyaLw'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:34:59.214 | General Service|:: CompanyIndex:13 SpName: spDOC_GetInvDocument 
 41025
 ,'023/25/'
 ,'116'
 ,'1'
 ,0
 ,' and (a.CostCenterID=c.DocumentID or c.DocumentID=1) and (b.dcCCNID2=c.CCNID2 or c.CCNID2=0)'
 ,1
 ,1
 ,'admin'
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:34:59.230 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTA5MiwiZXhwIjoxNzUyODQzODkyLCJpYXQiOjE3NTI4MTUwOTJ9.DIE1k1Xi7ySCbVe1RxSQRPf_La7Dt19SG70Db7PyaLw'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:34:59.261 | General Service|:: CompanyIndex:13 SpName: spADM_GetListViewDataByIDs 
 '<XML><Row CCID="50011"  TypeID="1"  DBColumnID="566213"  NodeID="1" /><Row CCID="2"  TypeID="10"  DBColumnID="566117"  NodeID="55687" /><Row CCID="2"  TypeID="100"  DBColumnID="566117"  NodeID="55687" /><Row CCID="2"  TypeID="10"  DBColumnID="566254"  NodeID="3" /><Row CCID="2"  TypeID="100"  DBColumnID="566254"  NodeID="3" /><Row CCID="50014"  TypeID="4"  DBColumnID="566216"  NodeID="10367" /><Row CCID="50009"  TypeID="3"  DBColumnID="566211"  NodeID="10570" /><Row CCID="50010"  TypeID="3"  DBColumnID="566212"  NodeID="51889" /><Row CCID="50018"  TypeID="1"  DBColumnID="566220"  NodeID="135" /><Row CCID="50070"  TypeID="1"  DBColumnID="598043"  NodeID="4" /><Row CCID="50011"  TypeID="1"  DBColumnID="566213"  NodeID="1" /><Row CCID="50014"  TypeID="4"  DBColumnID="566216"  NodeID="10367" /><Row CCID="50009"  TypeID="3"  DBColumnID="566211"  NodeID="10570" /><Row CCID="50010"  TypeID="3"  DBColumnID="566212"  NodeID="51889" /><Row CCID="50018"  TypeID="1"  DBColumnID="566220"  NodeID="135" /><Row CCID="50070"  TypeID="1"  DBColumnID="598043"  NodeID="4" /><Row CCID="50002"  TypeID="1"  DBColumnID="566204"  NodeID="27" /><Row CCID="50058"  TypeID="1"  DBColumnID="583442"  NodeID="1" /><Row CCID="50059"  TypeID="1"  DBColumnID="583494"  NodeID="1" /><Row CCID="50061"  TypeID="11"  DBColumnID="583598"  NodeID="11" /><Row CCID="50062"  TypeID="1"  DBColumnID="583650"  NodeID="1" /><Row CCID="50058"  TypeID="1"  DBColumnID="583713"  NodeID="1" /><Row CCID="44"  TypeID="122"  DBColumnID="566171"  NodeID="641" /><Row CCID="50060"  TypeID="1"  DBColumnID="583546"  NodeID="1" /></XML>'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:34:59.261 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTA5MiwiZXhwIjoxNzUyODQzODkyLCJpYXQiOjE3NTI4MTUwOTJ9.DIE1k1Xi7ySCbVe1RxSQRPf_La7Dt19SG70Db7PyaLw'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:34:59.277 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select ParentNodeID NodeID from COM_CostCenterCostCenterMap where CostCenterID in (8,300) and ParentCostCenterId=50033 and NodeID=41025'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:34:59.277 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTA5MiwiZXhwIjoxNzUyODQzODkyLCJpYXQiOjE3NTI4MTUwOTJ9.DIE1k1Xi7ySCbVe1RxSQRPf_La7Dt19SG70Db7PyaLw'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:34:59.292 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select ParentNodeID NodeID from COM_CostCenterCostCenterMap where CostCenterID in (8,300) and ParentCostCenterId=50033 and NodeID=41025'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:34:59.292 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTA5MiwiZXhwIjoxNzUyODQzODkyLCJpYXQiOjE3NTI4MTUwOTJ9.DIE1k1Xi7ySCbVe1RxSQRPf_La7Dt19SG70Db7PyaLw'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:34:59.308 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select ParentNodeID NodeID from COM_CostCenterCostCenterMap where CostCenterID in (8,300) and ParentCostCenterId=50033 and NodeID=41025'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:34:59.308 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTA5MiwiZXhwIjoxNzUyODQzODkyLCJpYXQiOjE3NTI4MTUwOTJ9.DIE1k1Xi7ySCbVe1RxSQRPf_La7Dt19SG70Db7PyaLw'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:34:59.324 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select ParentNodeID NodeID from COM_CostCenterCostCenterMap where CostCenterID in (8,300) and ParentCostCenterId=50033 and NodeID=41025'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:34:59.324 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTA5MiwiZXhwIjoxNzUyODQzODkyLCJpYXQiOjE3NTI4MTUwOTJ9.DIE1k1Xi7ySCbVe1RxSQRPf_La7Dt19SG70Db7PyaLw'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:34:59.339 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select ParentNodeID NodeID from COM_CostCenterCostCenterMap where CostCenterID in (8,300) and ParentCostCenterId=50033 and NodeID=41025'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:34:59.339 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTA5MiwiZXhwIjoxNzUyODQzODkyLCJpYXQiOjE3NTI4MTUwOTJ9.DIE1k1Xi7ySCbVe1RxSQRPf_La7Dt19SG70Db7PyaLw'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:34:59.339 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select ParentNodeID NodeID from COM_CostCenterCostCenterMap where CostCenterID in (8,300) and ParentCostCenterId=50033 and NodeID=41025'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:34:59.355 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTA5MiwiZXhwIjoxNzUyODQzODkyLCJpYXQiOjE3NTI4MTUwOTJ9.DIE1k1Xi7ySCbVe1RxSQRPf_La7Dt19SG70Db7PyaLw'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:34:59.355 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select ParentNodeID NodeID from COM_CostCenterCostCenterMap where CostCenterID in (8,300) and ParentCostCenterId=50033 and NodeID=41025'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:34:59.355 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTA5MiwiZXhwIjoxNzUyODQzODkyLCJpYXQiOjE3NTI4MTUwOTJ9.DIE1k1Xi7ySCbVe1RxSQRPf_La7Dt19SG70Db7PyaLw'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:34:59.370 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select ParentNodeID NodeID from COM_CostCenterCostCenterMap where CostCenterID in (8,300) and ParentCostCenterId=50033 and NodeID=41025'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:34:59.370 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTA5MiwiZXhwIjoxNzUyODQzODkyLCJpYXQiOjE3NTI4MTUwOTJ9.DIE1k1Xi7ySCbVe1RxSQRPf_La7Dt19SG70Db7PyaLw'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:34:59.386 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select ParentNodeID NodeID from COM_CostCenterCostCenterMap where CostCenterID in (8,300) and ParentCostCenterId=50033 and NodeID=41025'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:34:59.386 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTA5MiwiZXhwIjoxNzUyODQzODkyLCJpYXQiOjE3NTI4MTUwOTJ9.DIE1k1Xi7ySCbVe1RxSQRPf_La7Dt19SG70Db7PyaLw'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:34:59.402 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select ParentNodeID NodeID from COM_CostCenterCostCenterMap where CostCenterID in (8,300) and ParentCostCenterId=50033 and NodeID=41025'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:34:59.402 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTA5MiwiZXhwIjoxNzUyODQzODkyLCJpYXQiOjE3NTI4MTUwOTJ9.DIE1k1Xi7ySCbVe1RxSQRPf_La7Dt19SG70Db7PyaLw'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:34:59.417 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select ParentNodeID NodeID from COM_CostCenterCostCenterMap where CostCenterID in (8,300) and ParentCostCenterId=50033 and NodeID=41025'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:34:59.417 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTA5MiwiZXhwIjoxNzUyODQzODkyLCJpYXQiOjE3NTI4MTUwOTJ9.DIE1k1Xi7ySCbVe1RxSQRPf_La7Dt19SG70Db7PyaLw'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:34:59.433 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select ParentNodeID NodeID from COM_CostCenterCostCenterMap where CostCenterID in (8,300) and ParentCostCenterId=50033 and NodeID=41025'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:34:59.433 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTA5MiwiZXhwIjoxNzUyODQzODkyLCJpYXQiOjE3NTI4MTUwOTJ9.DIE1k1Xi7ySCbVe1RxSQRPf_La7Dt19SG70Db7PyaLw'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:34:59.433 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select ParentNodeID NodeID from COM_CostCenterCostCenterMap where CostCenterID in (8,300) and ParentCostCenterId=50033 and NodeID=41025'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:34:59.449 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTA5MiwiZXhwIjoxNzUyODQzODkyLCJpYXQiOjE3NTI4MTUwOTJ9.DIE1k1Xi7ySCbVe1RxSQRPf_La7Dt19SG70Db7PyaLw'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:34:59.527 | General Service|:: CompanyIndex:13 SpName: spADM_GetCostCenterListViewData 
 362
 ,'a.Name,a.Code'
 ,''
 ,''
 ,'Name'
 ,''
 ,60
 ,False
 ,''
 ,''
 ,'(CCNID9=10570)'
 ,''
 ,''
 ,0
 ,False
 ,''
 ,''
 ,'1'
 ,'1'
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:34:59.542 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTA5MiwiZXhwIjoxNzUyODQzODkyLCJpYXQiOjE3NTI4MTUwOTJ9.DIE1k1Xi7ySCbVe1RxSQRPf_La7Dt19SG70Db7PyaLw'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:35:55.140 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:35:55.140 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTA5MiwiZXhwIjoxNzUyODQzODkyLCJpYXQiOjE3NTI4MTUwOTJ9.DIE1k1Xi7ySCbVe1RxSQRPf_La7Dt19SG70Db7PyaLw'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:36:54.752 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:36:54.752 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTA5MiwiZXhwIjoxNzUyODQzODkyLCJpYXQiOjE3NTI4MTUwOTJ9.DIE1k1Xi7ySCbVe1RxSQRPf_La7Dt19SG70Db7PyaLw'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:37:02.078 | General Service|:: CompanyIndex:13 SpName: spADM_GetCostCenterListViewData 
 500055
 ,'a.Name,a.Code,a.ccAlpha11'
 ,''
 ,''
 ,'Name'
 ,''
 ,60
 ,False
 ,''
 ,10367
 ,''
 ,''
 ,''
 ,0
 ,False
 ,''
 ,''
 ,'1'
 ,'1'
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:37:02.078 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTA5MiwiZXhwIjoxNzUyODQzODkyLCJpYXQiOjE3NTI4MTUwOTJ9.DIE1k1Xi7ySCbVe1RxSQRPf_La7Dt19SG70Db7PyaLw'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:37:02.297 | General Service|:: CompanyIndex:13 SpName: spDOC_GetLinkReferenceData 
 566216
 ,41025
 ,10367
 ,'07/Jul/2025'
 ,55687
 ,'<XML><Row CostCenterID="50011" NODEID="1" /><Row CostCenterID="50014" NODEID="10367" /><Row CostCenterID="50009" NODEID="10570" /><Row CostCenterID="50010" NODEID="51889" /><Row CostCenterID="50018" NODEID="135" /><Row CostCenterID="50070" NODEID="4" /><Row CostCenterID="50002" NODEID="27" /><Row CostCenterID="50058" NODEID="1" /><Row CostCenterID="50059" NODEID="1" /><Row CostCenterID="50061" NODEID="11" /><Row CostCenterID="50062" NODEID="1" /></XML>'
 ,False
 ,'0'
 ,'0'
 ,'0'
 ,NULL
 ,'0'
 ,'0'
 ,'0'
 ,''
 ,'1'
 ,1
 ,'1'
[System: 192.168.1.54] DEBUG | 07-18-2025 10:37:02.297 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTA5MiwiZXhwIjoxNzUyODQzODkyLCJpYXQiOjE3NTI4MTUwOTJ9.DIE1k1Xi7ySCbVe1RxSQRPf_La7Dt19SG70Db7PyaLw'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:37:02.312 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'SELECT FeatureID,FileID,FilePath,ActualFileName,RelativeFileName,FileDescription,FileExtension,IsProductImage,GUID  FROM COM_Files WITH(NOLOCK) WHERE FeatureID=50014 AND FeaturePK=10367'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:37:02.312 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTA5MiwiZXhwIjoxNzUyODQzODkyLCJpYXQiOjE3NTI4MTUwOTJ9.DIE1k1Xi7ySCbVe1RxSQRPf_La7Dt19SG70Db7PyaLw'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:38:37.447 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:38:37.447 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTA5MiwiZXhwIjoxNzUyODQzODkyLCJpYXQiOjE3NTI4MTUwOTJ9.DIE1k1Xi7ySCbVe1RxSQRPf_La7Dt19SG70Db7PyaLw'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:38:37.478 | General Service|:: CompanyIndex:13 SpName: spADM_GetCostCenterListViewData 
 500055
 ,'a.Name,a.Code,a.ccAlpha11'
 ,''
 ,''
 ,'Name'
 ,''
 ,60
 ,False
 ,''
 ,10367
 ,''
 ,''
 ,''
 ,0
 ,False
 ,''
 ,''
 ,'1'
 ,'1'
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:38:37.478 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTA5MiwiZXhwIjoxNzUyODQzODkyLCJpYXQiOjE3NTI4MTUwOTJ9.DIE1k1Xi7ySCbVe1RxSQRPf_La7Dt19SG70Db7PyaLw'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:38:37.509 | General Service|:: CompanyIndex:13 SpName: spDOC_GetLinkReferenceData 
 566216
 ,41025
 ,10367
 ,'07/Jul/2025'
 ,55687
 ,'<XML><Row CostCenterID="50011" NODEID="1" /><Row CostCenterID="50014" NODEID="10367" /><Row CostCenterID="50009" NODEID="10570" /><Row CostCenterID="50010" NODEID="51889" /><Row CostCenterID="50018" NODEID="135" /><Row CostCenterID="50070" NODEID="4" /><Row CostCenterID="50002" NODEID="27" /><Row CostCenterID="50058" NODEID="1" /><Row CostCenterID="50059" NODEID="1" /><Row CostCenterID="50061" NODEID="11" /><Row CostCenterID="50062" NODEID="1" /></XML>'
 ,False
 ,'0'
 ,'0'
 ,'0'
 ,NULL
 ,'0'
 ,'0'
 ,'0'
 ,''
 ,'1'
 ,1
 ,'1'
[System: 192.168.1.54] DEBUG | 07-18-2025 10:38:37.509 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTA5MiwiZXhwIjoxNzUyODQzODkyLCJpYXQiOjE3NTI4MTUwOTJ9.DIE1k1Xi7ySCbVe1RxSQRPf_La7Dt19SG70Db7PyaLw'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:38:37.525 | General Service|:: CompanyIndex:13 SpName: spDOC_GetLinkReferenceData 
 566211
 ,41025
 ,10570
 ,'07/Jul/2025'
 ,55687
 ,'<XML><Row CostCenterID="50011" NODEID="1" /><Row CostCenterID="50014" NODEID="10367" /><Row CostCenterID="50009" NODEID="10570" /><Row CostCenterID="50010" NODEID="51889" /><Row CostCenterID="50018" NODEID="135" /><Row CostCenterID="50070" NODEID="4" /><Row CostCenterID="50002" NODEID="27" /><Row CostCenterID="50058" NODEID="1" /><Row CostCenterID="50059" NODEID="1" /><Row CostCenterID="50061" NODEID="11" /><Row CostCenterID="50062" NODEID="1" /></XML>'
 ,False
 ,'0'
 ,'0'
 ,'0'
 ,NULL
 ,'0'
 ,'0'
 ,'0'
 ,''
 ,'1'
 ,1
 ,'1'
[System: 192.168.1.54] DEBUG | 07-18-2025 10:38:37.540 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTA5MiwiZXhwIjoxNzUyODQzODkyLCJpYXQiOjE3NTI4MTUwOTJ9.DIE1k1Xi7ySCbVe1RxSQRPf_La7Dt19SG70Db7PyaLw'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:38:37.540 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'SELECT FeatureID,FileID,FilePath,ActualFileName,RelativeFileName,FileDescription,FileExtension,IsProductImage,GUID  FROM COM_Files WITH(NOLOCK) WHERE FeatureID=50014 AND FeaturePK=10367'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:38:37.540 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTA5MiwiZXhwIjoxNzUyODQzODkyLCJpYXQiOjE3NTI4MTUwOTJ9.DIE1k1Xi7ySCbVe1RxSQRPf_La7Dt19SG70Db7PyaLw'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:38:55.021 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:38:55.021 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTA5MiwiZXhwIjoxNzUyODQzODkyLCJpYXQiOjE3NTI4MTUwOTJ9.DIE1k1Xi7ySCbVe1RxSQRPf_La7Dt19SG70Db7PyaLw'''
 ,1
 ,1
[System: 192.168.1.76] ERROR | 07-18-2025 10:39:04.612 | General Service|:: CompanyIndex:0 SpName: spADM_GetDataSetParameters :
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsNTMsMSIsIm5iZiI6MTc1Mjc0NDg0NSwiZXhwIjoxNzUyNzczNjQ1LCJpYXQiOjE3NTI3NDQ4NDV9.xH7UbZlrQYu8q4kBAue-kGby4fKO2tYnk5iXPc2ht7c'''
 ,1
 ,1|Could not find stored procedure 'spADM_GetDataSet'.
[System: 192.168.1.76] ERROR | 07-18-2025 10:39:04.706 | General Service|:: CompanyIndex:0 SpName: spADM_GetDataSetParameters :
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsNTMsMSIsIm5iZiI6MTc1Mjc0NDg0NSwiZXhwIjoxNzUyNzczNjQ1LCJpYXQiOjE3NTI3NDQ4NDV9.xH7UbZlrQYu8q4kBAue-kGby4fKO2tYnk5iXPc2ht7c'''
 ,1
 ,1|Could not find stored procedure 'spADM_GetDataSet'.
[System: 192.168.1.76] ERROR | 07-18-2025 10:39:04.722 | General Service|:: CompanyIndex:0 SpName: spADM_GetDataSetParameters :
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsNTMsMSIsIm5iZiI6MTc1Mjc0NDg0NSwiZXhwIjoxNzUyNzczNjQ1LCJpYXQiOjE3NTI3NDQ4NDV9.xH7UbZlrQYu8q4kBAue-kGby4fKO2tYnk5iXPc2ht7c'''
 ,1
 ,1|Could not find stored procedure 'spADM_GetDataSet'.
[System: 192.168.1.79] ERROR | 07-18-2025 10:39:41.151 | General Service|:: CompanyIndex:0 SpName: spADM_GetDataSetParameters :
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTU1LDEiLCJuYmYiOjE3NTI1NzUwOTQsImV4cCI6MTc1MjYwMzg5NCwiaWF0IjoxNzUyNTc1MDk0fQ.9qreeFRjWGsnVLRfsKy0XPIMZbFbNl20Tadnrk_1P-U'''
 ,1
 ,1|Could not find stored procedure 'spADM_GetDataSet'.
[System: 192.168.1.54] DEBUG | 07-18-2025 10:39:54.304 | General Service|:: CompanyIndex:13 SpName: spCOM_ConfigValues 
 1
 ,'NotifTime'
 ,''
[System: 192.168.1.54] DEBUG | 07-18-2025 10:39:54.304 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTA5MiwiZXhwIjoxNzUyODQzODkyLCJpYXQiOjE3NTI4MTUwOTJ9.DIE1k1Xi7ySCbVe1RxSQRPf_La7Dt19SG70Db7PyaLw'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:39:55.132 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:39:55.148 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTA5MiwiZXhwIjoxNzUyODQzODkyLCJpYXQiOjE3NTI4MTUwOTJ9.DIE1k1Xi7ySCbVe1RxSQRPf_La7Dt19SG70Db7PyaLw'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 10:40:46.898 | General Service|:: CompanyIndex:0 SpName: spADM_GetClientUserDetails2C 
 'ADMIN'
 ,1
 ,0
[System: 192.168.1.79] DEBUG | 07-18-2025 10:40:46.929 | General Service|:: CompanyIndex:0 SpName: spADM_UserLoginCheck 
 2
 ,'ADMIN'
 ,0
 ,'192.168.1.79'
 ,'192.168.1.79'
 ,''
 ,'Web'
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 10:41:40.573 | General Service|:: CompanyIndex:13 SpName: spADM_GetClientUserDetails 
 'ADMIN'
 ,1
 ,'26.0.3'
 ,0
[System: 192.168.1.79] DEBUG | 07-18-2025 10:41:40.651 | General Service|:: CompanyIndex:0 SpName: spADM_UserLoginCheck 
 2
 ,'ADMIN'
 ,13
 ,'192.168.1.79'
 ,'192.168.1.79'
 ,''
 ,'Web'
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 10:41:40.651 | General Service|:: CompanyIndex:0 SpName: spADM_Login 
 1
 ,''
 ,''
 ,''
 ,''
 ,''
 ,13
[System: 192.168.1.79] DEBUG | 07-18-2025 10:41:40.651 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select Value from ADM_GlobalPreferences with (nolock) where name =''EnableReLogin'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 10:41:40.667 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 10:41:40.698 | General Service|:: CompanyIndex:0 SpName: spADM_Login 
 4
 ,''
 ,''
 ,''
 ,'declare @Cnt int,@ExpiredGUID nvarchar(50),@AllowSession int,@GUID nvarchar(50),@CurrDate float,@UserID INT,@Instances INT,@InstancesExists INT,@LCDBIndex int
set @CurrDate= convert(float,dateadd(minute,-21,getdate()))
set @AllowSession=0
set @GUID=''0e5fc663-5269-4683-a080-85b06e4ab335''
set @LCDBIndex=0
select top 1 @UserID=UserID,@Instances=InstanceCount from ADM_Users with(nolock) where UserName=''admin''
if exists(select [GUID] from ADM_Login with(nolock) where [GUID]=@GUID)
begin
	update ADM_Login 
	set LastAccessTime=convert(float,getdate()),UserID=@UserID
	where [GUID]=@GUID
    set @AllowSession=1
end
else
begin
	select @Cnt=count(*) from ADM_Login with(nolock) where LCDBIndex=@LCDBIndex and [GUID]!=''ACCESSRIGHTS'' and AP =''WEB''
    if(@Cnt<100)
		set @AllowSession=1
	else
	begin
		select top 1 @ExpiredGUID=[GUID] from ADM_Login with(nolock)
		where [GUID]!=''ACCESSRIGHTS'' and LCDBIndex=@LCDBIndex and LastAccessTime<@CurrDate  and AP =''WEB''
        order by LastAccessTime asc
		if @ExpiredGUID is not null
		begin
			delete from ADM_Login where [GUID]=@ExpiredGUID
			set @AllowSession=1
		end
	end
	if @AllowSession=1
	begin
        select @InstancesExists=COUNT(*) from ADM_Login with(nolock)
		where [GUID]!=''ACCESSRIGHTS'' and LCDBIndex=@LCDBIndex and LastAccessTime>=@CurrDate and UserID=@UserID and AP =''WEB''
		if(@Instances!=0 and @Instances<=@InstancesExists)
			set @AllowSession=2
		else
		    INSERT INTO ADM_Login([GUID],[SysName],IPAddress,[Status],LoginTime,LastAccessTime,AccessRights,UserID,DBIndex,LCDBIndex,AP)
		    VALUES(@GUID,''WEB'',''192.168.1.79'',1,convert(float,getdate()),convert(float,getdate()),null,@UserID,13,@LCDBIndex, ''WEB'')
	end
end

select @AllowSession AllowSession,@Instances Instances,@InstancesExists InstancesExists
'
 ,''
 ,0
[System: 192.168.1.79] DEBUG | 07-18-2025 10:41:40.698 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 10:41:40.761 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'SELECT (SELECT COUNT(*) FROM COM_Location L WITH(NOLOCK) JOIN COM_Status S WITH(NOLOCK) ON S.StatusID=L.StatusID WHERE L.IsGroup=0 AND S.[Status]=''Active'') ML
,(SELECT COUNT(*) FROM ADM_Features WITH(NOLOCK) WHERE ((FeatureID>50000 AND FeatureID<=50050) OR FeatureID>=51000) AND IsEnabled=1) MD
,(SELECT ISNULL(COUNT(*),0) FROM ADM_RevenUReports WITH(NOLOCK) WHERE IsGroup=0 AND ReportID>10000 AND StaticReportType IN (0,-1)) MR'
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 10:41:40.761 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 10:41:43.432 | General Service|:: CompanyIndex:13 SpName: spCOM_ConfigValues 
 1
 ,'NotifTime'
 ,''
[System: 192.168.1.79] DEBUG | 07-18-2025 10:41:43.432 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 10:41:43.604 | General Service|:: CompanyIndex:13 SpName: spADM_GetRibbonView 
 1
 ,1
 ,1
 ,1
 ,0
 ,''
[System: 192.168.1.79] DEBUG | 07-18-2025 10:41:43.604 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 10:41:43.807 | General Service|:: CompanyIndex:13 SpName: spRPT_GetReport 
 2
 ,0
 ,'1'
 ,'1'
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 10:41:43.807 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 10:41:43.838 | General Service|:: CompanyIndex:13 SpName: spADM_GetDashBoard 
 2
 ,0
 ,0
 ,'1'
 ,'1'
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 10:41:43.838 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 10:41:43.869 | General Service|:: CompanyIndex:13 SpName: spCOM_ConfigValues 
 1
 ,'LandingDocs'
 ,'1'
[System: 192.168.1.79] DEBUG | 07-18-2025 10:41:43.869 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 10:41:43.916 | General Service|:: CompanyIndex:13 SpName: spADM_GetAllListViewsDef 
 1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 10:41:43.916 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 10:41:43.916 | General Service|:: CompanyIndex:13 SpName: spCOM_GetFavorites 
 'GETLIST0'
 ,0
 ,'1'
 ,'1'
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 10:41:43.916 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 10:41:43.994 | General Service|:: CompanyIndex:13 SpName: spADM_GetAllListViewsDef 
 1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 10:41:43.994 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 10:41:44.104 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'Select CostCenterID,CostCenterColID,CostCenterName,SysTableName,UserColumnName,SysColumnName,ISNULL(UserDefaultValue,'''') UserDefaultValue
From AdM_CostCenterDef WITH(NOLOCK)
Where SysColumnName IN(''CreditAccount'',''DebitAccount'',''ProductID'') 
AND CostCenterID>40000 AND CostCenterID<50000 

SELECT * FROM ADM_Features WITH(NOLOCK) '
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 10:41:44.104 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 10:41:44.150 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 '  SELECT * FROM PAY_PayrollPreferences WITH(NOLOCK) '
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 10:41:44.150 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 10:41:44.182 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 '  --0
                                Select * FROM COM_CC50051 WITH(NOLOCK) WHERE IsGroup=0 AND LoginUserID=''admin''
                                --1                                
                                Select * FROM COM_CC50051 WITH(NOLOCK) WHERE RptManager IN (Select NodeID FROM COM_CC50051 WITH(NOLOCK) WHERE IsGroup=0 AND LoginUserID=''admin'')
                                UNION ALL
                                Select * FROM COM_CC50051 WITH(NOLOCK) WHERE RptManager IN 
                                (
	                                Select NodeID FROM COM_CC50051 WITH(NOLOCK) 
	                                WHERE IsGroup=0 AND LoginUserID IN
	                                (
	                                SELECT fe.LoginUserID
	                                FROM INV_DocDetails a WITH(NOLOCK) 
	                                JOIN COM_DocCCData b WITH(NOLOCK) ON b.InvDocDetailsID=a.InvDocDetailsID
	                                JOIN COM_DocNumData c WITH(NOLOCK) ON c.InvDocDetailsID=a.InvDocDetailsID
	                                JOIN COM_DocTextData d WITH(NOLOCK) ON d.InvDocDetailsID=a.InvDocDetailsID
	                                JOIN COM_CC50051 fe WITH(NOLOCK) on fe.NodeID=b.dcCCNID51
	                                JOIN COM_CC50051 te WITH(NOLOCK) on CONVERT(NVARCHAR,te.NodeID)=d.dcAlpha1
	                                WHERE a.CostCenterID=40098 and a.StatusID=369 AND d.dcAlpha3=''Temporary''
	                                AND te.LoginUserID=''admin'' 
	                                AND ISDATE(d.dcAlpha4)=1 AND ISDATE(d.dcAlpha5)=1 
	                                AND CONVERT(DATETIME,''18 Jul 2025'') BETWEEN CONVERT(DATETIME,d.dcAlpha4) AND CONVERT(DATETIME,d.dcAlpha5)
	                                )
                                )
                                --2
                                Select * FROM ADM_USERS WITH(NOLOCK) WHERE USERID=1
                                --3
                                Select * FROM COM_CostCenterCostCenterMap WITH(NOLOCK) WHERE ParentCostCenterID=7 AND ParentNodeID=1
                                --4                                
                                Select * FROM COM_CostCenterCostCenterMap WITH(NOLOCK) WHERE ParentCostCenterID=7 AND ParentNodeID=1
                                AND CostCenterID IN(Select ColumnCostCenterID From ADM_CostCenterDef Where CostCenterID=50051 AND IsColumnInUse=1 AND SysColumnName LIKE ''CCNID%'')
                                --5
                                Select * from COM_Files WITH(NOLOCK) WHERE FeatureID=50051 AND FeaturePK IN (Select NodeID FROM COM_CC50051 WITH(NOLOCK) WHERE IsGroup=0 AND LoginUserID=''admin'')                         
'
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 10:41:44.197 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 10:41:44.291 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 10:41:44.291 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 10:42:03.724 | General Service|:: CompanyIndex:13 SpName: spRPT_GetReportData 
 13
 ,1
 ,'b'
 ,'1'
[System: 192.168.1.79] DEBUG | 07-18-2025 10:42:03.724 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 10:42:04.739 | General Service|:: CompanyIndex:13 SpName: spRPT_GetReportData 
 13
 ,1
 ,'bool'
 ,'1'
[System: 192.168.1.79] DEBUG | 07-18-2025 10:42:04.739 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 10:42:05.599 | General Service|:: CompanyIndex:13 SpName: spRPT_GetReportData 
 13
 ,1
 ,'boo'
 ,'1'
[System: 192.168.1.79] DEBUG | 07-18-2025 10:42:05.599 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 10:42:06.067 | General Service|:: CompanyIndex:13 SpName: spRPT_GetReportData 
 13
 ,1
 ,'book'
 ,'1'
[System: 192.168.1.79] DEBUG | 07-18-2025 10:42:06.067 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 10:42:07.832 | General Service|:: CompanyIndex:13 SpName: spDOC_GetDocumentDefinition 
 41025
 ,NULL
 ,NULL
 ,''
 ,1
 ,'admin'
 ,1
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 10:42:07.832 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 10:42:07.879 | General Service|:: CompanyIndex:13 SpName: spDoc_GetCurrencyExchangeRate 
 1
 ,'18-Jul-2025'
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 10:42:07.879 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 10:42:07.942 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'SELECT Code FROM COM_Location WITH(NOLOCK) WHERE NodeID=27'
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 10:42:07.942 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 10:42:07.942 | General Service|:: CompanyIndex:13 SpName: spDOC_GetDocumentPrefix 
 41025
 ,27
 ,''
 ,''
 ,'1'
 ,'1'
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 10:42:07.957 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 10:42:07.957 | General Service|:: CompanyIndex:13 SpName: spDOC_GetDueDate 
 55687
 ,27
 ,0
 ,0
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 10:42:07.973 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 10:42:07.973 | General Service|:: CompanyIndex:13 SpName: spDOC_GetCurrentCodeNumber 
 41025
 ,'023/25/'
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 10:42:07.989 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 10:42:08.020 | General Service|:: CompanyIndex:13 SpName: spDOC_GetLinkReferenceData 
 566117
 ,41025
 ,55687
 ,'18/Jul/2025'
 ,55687
 ,'<XML><Row CostCenterID="50011" NODEID="1" /><Row CostCenterID="50002" NODEID="27" /><Row CostCenterID="50058" NODEID="1" /><Row CostCenterID="50059" NODEID="1" /><Row CostCenterID="50061" NODEID="11" /><Row CostCenterID="50062" NODEID="1" /></XML>'
 ,False
 ,'0'
 ,'0'
 ,'0'
 ,NULL
 ,'0'
 ,'0'
 ,'0'
 ,''
 ,'1'
 ,1
 ,'1'
[System: 192.168.1.79] DEBUG | 07-18-2025 10:42:08.020 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 10:42:08.051 | General Service|:: CompanyIndex:13 SpName: spADM_GetListViewDataByIDs 
 '<XML><Row CCID="50011"  TypeID="1"  DBColumnID="566213"  NodeID="1" /><Row CCID="2"  TypeID="10"  DBColumnID="566117"  NodeID="55687" /><Row CCID="2"  TypeID="100"  DBColumnID="566117"  NodeID="55687" /><Row CCID="2"  TypeID="10"  DBColumnID="566254"  NodeID="3" /><Row CCID="2"  TypeID="100"  DBColumnID="566254"  NodeID="3" /><Row CCID="50011"  TypeID="1"  DBColumnID="566213"  NodeID="1" /><Row CCID="50002"  TypeID="1"  DBColumnID="566204"  NodeID="27" /><Row CCID="50058"  TypeID="1"  DBColumnID="583442"  NodeID="1" /><Row CCID="50059"  TypeID="1"  DBColumnID="583494"  NodeID="1" /><Row CCID="50061"  TypeID="11"  DBColumnID="583598"  NodeID="11" /><Row CCID="50062"  TypeID="1"  DBColumnID="583650"  NodeID="1" /><Row CCID="50058"  TypeID="1"  DBColumnID="583713"  NodeID="1" /></XML>'
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 10:42:08.051 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 10:42:08.082 | General Service|:: CompanyIndex:13 SpName: spADM_GetListViewDataByIDs 
 '<XML><Row CCID="50011"  TypeID="1"  DBColumnID="566213"  NodeID="1" /><Row CCID="2"  TypeID="10"  DBColumnID="566117"  NodeID="55687" /><Row CCID="2"  TypeID="100"  DBColumnID="566117"  NodeID="55687" /><Row CCID="2"  TypeID="10"  DBColumnID="566254"  NodeID="3" /><Row CCID="2"  TypeID="100"  DBColumnID="566254"  NodeID="3" /><Row CCID="50011"  TypeID="1"  DBColumnID="566213"  NodeID="1" /><Row CCID="50002"  TypeID="1"  DBColumnID="566204"  NodeID="27" /><Row CCID="50058"  TypeID="1"  DBColumnID="583442"  NodeID="1" /><Row CCID="50059"  TypeID="1"  DBColumnID="583494"  NodeID="1" /><Row CCID="50061"  TypeID="11"  DBColumnID="583598"  NodeID="11" /><Row CCID="50062"  TypeID="1"  DBColumnID="583650"  NodeID="1" /><Row CCID="50058"  TypeID="1"  DBColumnID="583713"  NodeID="1" /></XML>'
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 10:42:08.082 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 10:42:08.098 | General Service|:: CompanyIndex:13 SpName: spDOC_GetLinkReferenceData 
 566117
 ,41025
 ,55687
 ,'18/Jul/2025'
 ,55687
 ,'<XML><Row CostCenterID="50011" NODEID="1" /><Row CostCenterID="50002" NODEID="27" /><Row CostCenterID="50058" NODEID="1" /><Row CostCenterID="50059" NODEID="1" /><Row CostCenterID="50061" NODEID="11" /><Row CostCenterID="50062" NODEID="1" /></XML>'
 ,False
 ,'0'
 ,'0'
 ,'0'
 ,NULL
 ,'0'
 ,'0'
 ,'0'
 ,''
 ,'1'
 ,1
 ,'1'
[System: 192.168.1.79] DEBUG | 07-18-2025 10:42:08.098 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 10:42:08.129 | General Service|:: CompanyIndex:13 SpName: spADM_GetListViewDataByIDs 
 '<XML><Row CCID="50011"  TypeID="1"  DBColumnID="566213"  NodeID="1" /><Row CCID="2"  TypeID="10"  DBColumnID="566117"  NodeID="55687" /><Row CCID="2"  TypeID="100"  DBColumnID="566117"  NodeID="55687" /><Row CCID="2"  TypeID="10"  DBColumnID="566254"  NodeID="3" /><Row CCID="2"  TypeID="100"  DBColumnID="566254"  NodeID="3" /><Row CCID="50011"  TypeID="1"  DBColumnID="566213"  NodeID="1" /><Row CCID="50002"  TypeID="1"  DBColumnID="566204"  NodeID="27" /><Row CCID="50058"  TypeID="1"  DBColumnID="583442"  NodeID="1" /><Row CCID="50059"  TypeID="1"  DBColumnID="583494"  NodeID="1" /><Row CCID="50061"  TypeID="11"  DBColumnID="583598"  NodeID="11" /><Row CCID="50062"  TypeID="1"  DBColumnID="583650"  NodeID="1" /><Row CCID="50058"  TypeID="1"  DBColumnID="583713"  NodeID="1" /></XML>'
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 10:42:08.145 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 10:42:08.223 | General Service|:: CompanyIndex:13 SpName: spADM_GetCostCenterListViewData 
 500055
 ,'a.Name,a.Code,a.ccAlpha11'
 ,''
 ,''
 ,'Name'
 ,''
 ,60
 ,False
 ,''
 ,''
 ,''
 ,''
 ,''
 ,0
 ,False
 ,''
 ,''
 ,'1'
 ,'1'
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 10:42:08.223 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 10:42:15.143 | General Service|:: CompanyIndex:13 SpName: spDOC_GetInvDocument 
 41025
 ,'023/25/'
 ,'116'
 ,'1'
 ,0
 ,' and (a.CostCenterID=c.DocumentID or c.DocumentID=1) and (b.dcCCNID2=c.CCNID2 or c.CCNID2=0)'
 ,1
 ,1
 ,'admin'
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 10:42:15.143 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 10:42:15.206 | General Service|:: CompanyIndex:13 SpName: spADM_GetListViewDataByIDs 
 '<XML><Row CCID="50011"  TypeID="1"  DBColumnID="566213"  NodeID="1" /><Row CCID="2"  TypeID="10"  DBColumnID="566117"  NodeID="55687" /><Row CCID="2"  TypeID="100"  DBColumnID="566117"  NodeID="55687" /><Row CCID="2"  TypeID="10"  DBColumnID="566254"  NodeID="3" /><Row CCID="2"  TypeID="100"  DBColumnID="566254"  NodeID="3" /><Row CCID="50014"  TypeID="4"  DBColumnID="566216"  NodeID="10367" /><Row CCID="50009"  TypeID="3"  DBColumnID="566211"  NodeID="10570" /><Row CCID="50010"  TypeID="3"  DBColumnID="566212"  NodeID="51889" /><Row CCID="50018"  TypeID="1"  DBColumnID="566220"  NodeID="135" /><Row CCID="50070"  TypeID="1"  DBColumnID="598043"  NodeID="4" /><Row CCID="50011"  TypeID="1"  DBColumnID="566213"  NodeID="1" /><Row CCID="50014"  TypeID="4"  DBColumnID="566216"  NodeID="10367" /><Row CCID="50009"  TypeID="3"  DBColumnID="566211"  NodeID="10570" /><Row CCID="50010"  TypeID="3"  DBColumnID="566212"  NodeID="51889" /><Row CCID="50018"  TypeID="1"  DBColumnID="566220"  NodeID="135" /><Row CCID="50070"  TypeID="1"  DBColumnID="598043"  NodeID="4" /><Row CCID="50002"  TypeID="1"  DBColumnID="566204"  NodeID="27" /><Row CCID="50058"  TypeID="1"  DBColumnID="583442"  NodeID="1" /><Row CCID="50059"  TypeID="1"  DBColumnID="583494"  NodeID="1" /><Row CCID="50061"  TypeID="11"  DBColumnID="583598"  NodeID="11" /><Row CCID="50062"  TypeID="1"  DBColumnID="583650"  NodeID="1" /><Row CCID="50058"  TypeID="1"  DBColumnID="583713"  NodeID="1" /><Row CCID="44"  TypeID="122"  DBColumnID="566171"  NodeID="641" /><Row CCID="50060"  TypeID="1"  DBColumnID="583546"  NodeID="1" /></XML>'
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 10:42:15.206 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 10:42:15.221 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select ParentNodeID NodeID from COM_CostCenterCostCenterMap where CostCenterID in (8,300) and ParentCostCenterId=50033 and NodeID=41025'
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 10:42:15.237 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 10:42:15.237 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select ParentNodeID NodeID from COM_CostCenterCostCenterMap where CostCenterID in (8,300) and ParentCostCenterId=50033 and NodeID=41025'
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 10:42:15.237 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 10:42:15.253 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select ParentNodeID NodeID from COM_CostCenterCostCenterMap where CostCenterID in (8,300) and ParentCostCenterId=50033 and NodeID=41025'
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 10:42:15.253 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 10:42:15.268 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select ParentNodeID NodeID from COM_CostCenterCostCenterMap where CostCenterID in (8,300) and ParentCostCenterId=50033 and NodeID=41025'
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 10:42:15.268 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 10:42:15.284 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select ParentNodeID NodeID from COM_CostCenterCostCenterMap where CostCenterID in (8,300) and ParentCostCenterId=50033 and NodeID=41025'
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 10:42:15.284 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 10:42:15.299 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select ParentNodeID NodeID from COM_CostCenterCostCenterMap where CostCenterID in (8,300) and ParentCostCenterId=50033 and NodeID=41025'
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 10:42:15.299 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 10:42:15.315 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select ParentNodeID NodeID from COM_CostCenterCostCenterMap where CostCenterID in (8,300) and ParentCostCenterId=50033 and NodeID=41025'
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 10:42:15.315 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 10:42:15.331 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select ParentNodeID NodeID from COM_CostCenterCostCenterMap where CostCenterID in (8,300) and ParentCostCenterId=50033 and NodeID=41025'
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 10:42:15.331 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 10:42:15.331 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select ParentNodeID NodeID from COM_CostCenterCostCenterMap where CostCenterID in (8,300) and ParentCostCenterId=50033 and NodeID=41025'
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 10:42:15.331 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 10:42:15.346 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select ParentNodeID NodeID from COM_CostCenterCostCenterMap where CostCenterID in (8,300) and ParentCostCenterId=50033 and NodeID=41025'
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 10:42:15.346 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 10:42:15.362 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select ParentNodeID NodeID from COM_CostCenterCostCenterMap where CostCenterID in (8,300) and ParentCostCenterId=50033 and NodeID=41025'
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 10:42:15.362 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 10:42:15.378 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select ParentNodeID NodeID from COM_CostCenterCostCenterMap where CostCenterID in (8,300) and ParentCostCenterId=50033 and NodeID=41025'
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 10:42:15.378 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 10:42:15.393 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select ParentNodeID NodeID from COM_CostCenterCostCenterMap where CostCenterID in (8,300) and ParentCostCenterId=50033 and NodeID=41025'
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 10:42:15.393 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 10:42:15.487 | General Service|:: CompanyIndex:13 SpName: spADM_GetCostCenterListViewData 
 362
 ,'a.Name,a.Code'
 ,''
 ,''
 ,'Name'
 ,''
 ,60
 ,False
 ,''
 ,''
 ,'(CCNID9=10570)'
 ,''
 ,''
 ,0
 ,False
 ,''
 ,''
 ,'1'
 ,'1'
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 10:42:15.487 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 10:42:44.496 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 10:42:44.496 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 10:43:44.312 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 10:43:44.312 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 10:44:44.298 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 10:44:44.298 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 10:45:44.316 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 10:45:44.316 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:46:01.437 | General Service|:: CompanyIndex:0 SpName: spADM_GetClientUserDetails2C 
 'admin'
 ,1
 ,0
[System: 192.168.1.54] DEBUG | 07-18-2025 10:46:01.468 | General Service|:: CompanyIndex:0 SpName: spADM_UserLoginCheck 
 2
 ,'admin'
 ,0
 ,'192.168.1.54'
 ,'192.168.1.54'
 ,''
 ,'Web'
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:46:09.966 | General Service|:: CompanyIndex:13 SpName: spADM_GetClientUserDetails 
 'admin'
 ,1
 ,'26.1.0'
 ,0
[System: 192.168.1.54] DEBUG | 07-18-2025 10:46:09.997 | General Service|:: CompanyIndex:0 SpName: spADM_UserLoginCheck 
 2
 ,'admin'
 ,13
 ,'192.168.1.54'
 ,'192.168.1.54'
 ,''
 ,'Web'
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:46:09.997 | General Service|:: CompanyIndex:0 SpName: spADM_Login 
 1
 ,''
 ,''
 ,''
 ,''
 ,''
 ,13
[System: 192.168.1.54] DEBUG | 07-18-2025 10:46:10.013 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select Value from ADM_GlobalPreferences with (nolock) where name =''EnableReLogin'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:46:10.013 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTc2OSwiZXhwIjoxNzUyODQ0NTY5LCJpYXQiOjE3NTI4MTU3Njl9.c7gMEOmgQTpUzDMWm9ToSXanfrQ3rrXkE-DDeFAoQvg'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:46:10.029 | General Service|:: CompanyIndex:0 SpName: spADM_Login 
 4
 ,''
 ,''
 ,''
 ,'declare @Cnt int,@ExpiredGUID nvarchar(50),@AllowSession int,@GUID nvarchar(50),@CurrDate float,@UserID INT,@Instances INT,@InstancesExists INT,@LCDBIndex int
set @CurrDate= convert(float,dateadd(minute,-21,getdate()))
set @AllowSession=0
set @GUID=''1e01b98b-69b5-4482-88e0-50a86fa7a1fa''
set @LCDBIndex=0
select top 1 @UserID=UserID,@Instances=InstanceCount from ADM_Users with(nolock) where UserName=''admin''
if exists(select [GUID] from ADM_Login with(nolock) where [GUID]=@GUID)
begin
	update ADM_Login 
	set LastAccessTime=convert(float,getdate()),UserID=@UserID
	where [GUID]=@GUID
    set @AllowSession=1
end
else
begin
	select @Cnt=count(*) from ADM_Login with(nolock) where LCDBIndex=@LCDBIndex and [GUID]!=''ACCESSRIGHTS'' and AP =''WEB''
    if(@Cnt<100)
		set @AllowSession=1
	else
	begin
		select top 1 @ExpiredGUID=[GUID] from ADM_Login with(nolock)
		where [GUID]!=''ACCESSRIGHTS'' and LCDBIndex=@LCDBIndex and LastAccessTime<@CurrDate  and AP =''WEB''
        order by LastAccessTime asc
		if @ExpiredGUID is not null
		begin
			delete from ADM_Login where [GUID]=@ExpiredGUID
			set @AllowSession=1
		end
	end
	if @AllowSession=1
	begin
        select @InstancesExists=COUNT(*) from ADM_Login with(nolock)
		where [GUID]!=''ACCESSRIGHTS'' and LCDBIndex=@LCDBIndex and LastAccessTime>=@CurrDate and UserID=@UserID and AP =''WEB''
		if(@Instances!=0 and @Instances<=@InstancesExists)
			set @AllowSession=2
		else
		    INSERT INTO ADM_Login([GUID],[SysName],IPAddress,[Status],LoginTime,LastAccessTime,AccessRights,UserID,DBIndex,LCDBIndex,AP)
		    VALUES(@GUID,''WEB'',''192.168.1.54'',1,convert(float,getdate()),convert(float,getdate()),null,@UserID,13,@LCDBIndex, ''WEB'')
	end
end

select @AllowSession AllowSession,@Instances Instances,@InstancesExists InstancesExists
'
 ,''
 ,0
[System: 192.168.1.54] DEBUG | 07-18-2025 10:46:10.044 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTc2OSwiZXhwIjoxNzUyODQ0NTY5LCJpYXQiOjE3NTI4MTU3Njl9.c7gMEOmgQTpUzDMWm9ToSXanfrQ3rrXkE-DDeFAoQvg'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:46:10.075 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'SELECT (SELECT COUNT(*) FROM COM_Location L WITH(NOLOCK) JOIN COM_Status S WITH(NOLOCK) ON S.StatusID=L.StatusID WHERE L.IsGroup=0 AND S.[Status]=''Active'') ML
,(SELECT COUNT(*) FROM ADM_Features WITH(NOLOCK) WHERE ((FeatureID>50000 AND FeatureID<=50050) OR FeatureID>=51000) AND IsEnabled=1) MD
,(SELECT ISNULL(COUNT(*),0) FROM ADM_RevenUReports WITH(NOLOCK) WHERE IsGroup=0 AND ReportID>10000 AND StaticReportType IN (0,-1)) MR'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:46:10.075 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTc2OSwiZXhwIjoxNzUyODQ0NTY5LCJpYXQiOjE3NTI4MTU3Njl9.c7gMEOmgQTpUzDMWm9ToSXanfrQ3rrXkE-DDeFAoQvg'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:46:11.669 | General Service|:: CompanyIndex:13 SpName: spCOM_ConfigValues 
 1
 ,'NotifTime'
 ,''
[System: 192.168.1.54] DEBUG | 07-18-2025 10:46:11.669 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTc2OSwiZXhwIjoxNzUyODQ0NTY5LCJpYXQiOjE3NTI4MTU3Njl9.c7gMEOmgQTpUzDMWm9ToSXanfrQ3rrXkE-DDeFAoQvg'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:46:11.841 | General Service|:: CompanyIndex:13 SpName: spADM_GetRibbonView 
 1
 ,1
 ,1
 ,1
 ,0
 ,''
[System: 192.168.1.54] DEBUG | 07-18-2025 10:46:11.841 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTc2OSwiZXhwIjoxNzUyODQ0NTY5LCJpYXQiOjE3NTI4MTU3Njl9.c7gMEOmgQTpUzDMWm9ToSXanfrQ3rrXkE-DDeFAoQvg'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:46:12.044 | General Service|:: CompanyIndex:13 SpName: spRPT_GetReport 
 2
 ,0
 ,'1'
 ,'1'
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:46:12.044 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTc2OSwiZXhwIjoxNzUyODQ0NTY5LCJpYXQiOjE3NTI4MTU3Njl9.c7gMEOmgQTpUzDMWm9ToSXanfrQ3rrXkE-DDeFAoQvg'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:46:12.059 | General Service|:: CompanyIndex:13 SpName: spADM_GetDashBoard 
 2
 ,0
 ,0
 ,'1'
 ,'1'
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:46:12.059 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTc2OSwiZXhwIjoxNzUyODQ0NTY5LCJpYXQiOjE3NTI4MTU3Njl9.c7gMEOmgQTpUzDMWm9ToSXanfrQ3rrXkE-DDeFAoQvg'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:46:12.075 | General Service|:: CompanyIndex:13 SpName: spCOM_ConfigValues 
 1
 ,'LandingDocs'
 ,'1'
[System: 192.168.1.54] DEBUG | 07-18-2025 10:46:12.075 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTc2OSwiZXhwIjoxNzUyODQ0NTY5LCJpYXQiOjE3NTI4MTU3Njl9.c7gMEOmgQTpUzDMWm9ToSXanfrQ3rrXkE-DDeFAoQvg'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:46:12.122 | General Service|:: CompanyIndex:13 SpName: spADM_GetAllListViewsDef 
 1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:46:12.122 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTc2OSwiZXhwIjoxNzUyODQ0NTY5LCJpYXQiOjE3NTI4MTU3Njl9.c7gMEOmgQTpUzDMWm9ToSXanfrQ3rrXkE-DDeFAoQvg'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:46:12.122 | General Service|:: CompanyIndex:13 SpName: spCOM_GetFavorites 
 'GETLIST0'
 ,0
 ,'1'
 ,'1'
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:46:12.137 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTc2OSwiZXhwIjoxNzUyODQ0NTY5LCJpYXQiOjE3NTI4MTU3Njl9.c7gMEOmgQTpUzDMWm9ToSXanfrQ3rrXkE-DDeFAoQvg'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:46:12.215 | General Service|:: CompanyIndex:13 SpName: spADM_GetAllListViewsDef 
 1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:46:12.215 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTc2OSwiZXhwIjoxNzUyODQ0NTY5LCJpYXQiOjE3NTI4MTU3Njl9.c7gMEOmgQTpUzDMWm9ToSXanfrQ3rrXkE-DDeFAoQvg'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:46:12.325 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'Select CostCenterID,CostCenterColID,CostCenterName,SysTableName,UserColumnName,SysColumnName,ISNULL(UserDefaultValue,'''') UserDefaultValue
From AdM_CostCenterDef WITH(NOLOCK)
Where SysColumnName IN(''CreditAccount'',''DebitAccount'',''ProductID'') 
AND CostCenterID>40000 AND CostCenterID<50000 

SELECT * FROM ADM_Features WITH(NOLOCK) '
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:46:12.325 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTc2OSwiZXhwIjoxNzUyODQ0NTY5LCJpYXQiOjE3NTI4MTU3Njl9.c7gMEOmgQTpUzDMWm9ToSXanfrQ3rrXkE-DDeFAoQvg'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:46:12.372 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 '  SELECT * FROM PAY_PayrollPreferences WITH(NOLOCK) '
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:46:12.372 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTc2OSwiZXhwIjoxNzUyODQ0NTY5LCJpYXQiOjE3NTI4MTU3Njl9.c7gMEOmgQTpUzDMWm9ToSXanfrQ3rrXkE-DDeFAoQvg'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:46:12.387 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 '  --0
                                Select * FROM COM_CC50051 WITH(NOLOCK) WHERE IsGroup=0 AND LoginUserID=''admin''
                                --1                                
                                Select * FROM COM_CC50051 WITH(NOLOCK) WHERE RptManager IN (Select NodeID FROM COM_CC50051 WITH(NOLOCK) WHERE IsGroup=0 AND LoginUserID=''admin'')
                                UNION ALL
                                Select * FROM COM_CC50051 WITH(NOLOCK) WHERE RptManager IN 
                                (
	                                Select NodeID FROM COM_CC50051 WITH(NOLOCK) 
	                                WHERE IsGroup=0 AND LoginUserID IN
	                                (
	                                SELECT fe.LoginUserID
	                                FROM INV_DocDetails a WITH(NOLOCK) 
	                                JOIN COM_DocCCData b WITH(NOLOCK) ON b.InvDocDetailsID=a.InvDocDetailsID
	                                JOIN COM_DocNumData c WITH(NOLOCK) ON c.InvDocDetailsID=a.InvDocDetailsID
	                                JOIN COM_DocTextData d WITH(NOLOCK) ON d.InvDocDetailsID=a.InvDocDetailsID
	                                JOIN COM_CC50051 fe WITH(NOLOCK) on fe.NodeID=b.dcCCNID51
	                                JOIN COM_CC50051 te WITH(NOLOCK) on CONVERT(NVARCHAR,te.NodeID)=d.dcAlpha1
	                                WHERE a.CostCenterID=40098 and a.StatusID=369 AND d.dcAlpha3=''Temporary''
	                                AND te.LoginUserID=''admin'' 
	                                AND ISDATE(d.dcAlpha4)=1 AND ISDATE(d.dcAlpha5)=1 
	                                AND CONVERT(DATETIME,''18 Jul 2025'') BETWEEN CONVERT(DATETIME,d.dcAlpha4) AND CONVERT(DATETIME,d.dcAlpha5)
	                                )
                                )
                                --2
                                Select * FROM ADM_USERS WITH(NOLOCK) WHERE USERID=1
                                --3
                                Select * FROM COM_CostCenterCostCenterMap WITH(NOLOCK) WHERE ParentCostCenterID=7 AND ParentNodeID=1
                                --4                                
                                Select * FROM COM_CostCenterCostCenterMap WITH(NOLOCK) WHERE ParentCostCenterID=7 AND ParentNodeID=1
                                AND CostCenterID IN(Select ColumnCostCenterID From ADM_CostCenterDef Where CostCenterID=50051 AND IsColumnInUse=1 AND SysColumnName LIKE ''CCNID%'')
                                --5
                                Select * from COM_Files WITH(NOLOCK) WHERE FeatureID=50051 AND FeaturePK IN (Select NodeID FROM COM_CC50051 WITH(NOLOCK) WHERE IsGroup=0 AND LoginUserID=''admin'')                         
'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:46:12.387 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTc2OSwiZXhwIjoxNzUyODQ0NTY5LCJpYXQiOjE3NTI4MTU3Njl9.c7gMEOmgQTpUzDMWm9ToSXanfrQ3rrXkE-DDeFAoQvg'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:46:12.512 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:46:12.512 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTc2OSwiZXhwIjoxNzUyODQ0NTY5LCJpYXQiOjE3NTI4MTU3Njl9.c7gMEOmgQTpUzDMWm9ToSXanfrQ3rrXkE-DDeFAoQvg'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:46:16.652 | General Service|:: CompanyIndex:13 SpName: spDOC_GetDocumentDefinition 
 41025
 ,NULL
 ,NULL
 ,''
 ,1
 ,'admin'
 ,1
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:46:16.652 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTc2OSwiZXhwIjoxNzUyODQ0NTY5LCJpYXQiOjE3NTI4MTU3Njl9.c7gMEOmgQTpUzDMWm9ToSXanfrQ3rrXkE-DDeFAoQvg'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:46:16.699 | General Service|:: CompanyIndex:13 SpName: spDoc_GetCurrencyExchangeRate 
 1
 ,'18-Jul-2025'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:46:16.699 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTc2OSwiZXhwIjoxNzUyODQ0NTY5LCJpYXQiOjE3NTI4MTU3Njl9.c7gMEOmgQTpUzDMWm9ToSXanfrQ3rrXkE-DDeFAoQvg'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:46:16.730 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'SELECT Code FROM COM_Location WITH(NOLOCK) WHERE NodeID=27'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:46:16.730 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTc2OSwiZXhwIjoxNzUyODQ0NTY5LCJpYXQiOjE3NTI4MTU3Njl9.c7gMEOmgQTpUzDMWm9ToSXanfrQ3rrXkE-DDeFAoQvg'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:46:16.730 | General Service|:: CompanyIndex:13 SpName: spDOC_GetDocumentPrefix 
 41025
 ,27
 ,''
 ,''
 ,'1'
 ,'1'
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:46:16.746 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTc2OSwiZXhwIjoxNzUyODQ0NTY5LCJpYXQiOjE3NTI4MTU3Njl9.c7gMEOmgQTpUzDMWm9ToSXanfrQ3rrXkE-DDeFAoQvg'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:46:16.746 | General Service|:: CompanyIndex:13 SpName: spDOC_GetDueDate 
 55687
 ,27
 ,0
 ,0
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:46:16.746 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTc2OSwiZXhwIjoxNzUyODQ0NTY5LCJpYXQiOjE3NTI4MTU3Njl9.c7gMEOmgQTpUzDMWm9ToSXanfrQ3rrXkE-DDeFAoQvg'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:46:16.761 | General Service|:: CompanyIndex:13 SpName: spDOC_GetCurrentCodeNumber 
 41025
 ,'023/25/'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:46:16.761 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTc2OSwiZXhwIjoxNzUyODQ0NTY5LCJpYXQiOjE3NTI4MTU3Njl9.c7gMEOmgQTpUzDMWm9ToSXanfrQ3rrXkE-DDeFAoQvg'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:46:16.793 | General Service|:: CompanyIndex:13 SpName: spDOC_GetLinkReferenceData 
 566117
 ,41025
 ,55687
 ,'18/Jul/2025'
 ,55687
 ,'<XML><Row CostCenterID="50011" NODEID="1" /><Row CostCenterID="50002" NODEID="27" /><Row CostCenterID="50058" NODEID="1" /><Row CostCenterID="50059" NODEID="1" /><Row CostCenterID="50061" NODEID="11" /><Row CostCenterID="50062" NODEID="1" /></XML>'
 ,False
 ,'0'
 ,'0'
 ,'0'
 ,NULL
 ,'0'
 ,'0'
 ,'0'
 ,''
 ,'1'
 ,1
 ,'1'
[System: 192.168.1.54] DEBUG | 07-18-2025 10:46:16.793 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTc2OSwiZXhwIjoxNzUyODQ0NTY5LCJpYXQiOjE3NTI4MTU3Njl9.c7gMEOmgQTpUzDMWm9ToSXanfrQ3rrXkE-DDeFAoQvg'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:46:16.824 | General Service|:: CompanyIndex:13 SpName: spADM_GetListViewDataByIDs 
 '<XML><Row CCID="50011"  TypeID="1"  DBColumnID="566213"  NodeID="1" /><Row CCID="2"  TypeID="10"  DBColumnID="566117"  NodeID="55687" /><Row CCID="2"  TypeID="100"  DBColumnID="566117"  NodeID="55687" /><Row CCID="2"  TypeID="10"  DBColumnID="566254"  NodeID="3" /><Row CCID="2"  TypeID="100"  DBColumnID="566254"  NodeID="3" /><Row CCID="50011"  TypeID="1"  DBColumnID="566213"  NodeID="1" /><Row CCID="50002"  TypeID="1"  DBColumnID="566204"  NodeID="27" /><Row CCID="50058"  TypeID="1"  DBColumnID="583442"  NodeID="1" /><Row CCID="50059"  TypeID="1"  DBColumnID="583494"  NodeID="1" /><Row CCID="50061"  TypeID="11"  DBColumnID="583598"  NodeID="11" /><Row CCID="50062"  TypeID="1"  DBColumnID="583650"  NodeID="1" /><Row CCID="50058"  TypeID="1"  DBColumnID="583713"  NodeID="1" /></XML>'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:46:16.824 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTc2OSwiZXhwIjoxNzUyODQ0NTY5LCJpYXQiOjE3NTI4MTU3Njl9.c7gMEOmgQTpUzDMWm9ToSXanfrQ3rrXkE-DDeFAoQvg'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:46:16.855 | General Service|:: CompanyIndex:13 SpName: spADM_GetListViewDataByIDs 
 '<XML><Row CCID="50011"  TypeID="1"  DBColumnID="566213"  NodeID="1" /><Row CCID="2"  TypeID="10"  DBColumnID="566117"  NodeID="55687" /><Row CCID="2"  TypeID="100"  DBColumnID="566117"  NodeID="55687" /><Row CCID="2"  TypeID="10"  DBColumnID="566254"  NodeID="3" /><Row CCID="2"  TypeID="100"  DBColumnID="566254"  NodeID="3" /><Row CCID="50011"  TypeID="1"  DBColumnID="566213"  NodeID="1" /><Row CCID="50002"  TypeID="1"  DBColumnID="566204"  NodeID="27" /><Row CCID="50058"  TypeID="1"  DBColumnID="583442"  NodeID="1" /><Row CCID="50059"  TypeID="1"  DBColumnID="583494"  NodeID="1" /><Row CCID="50061"  TypeID="11"  DBColumnID="583598"  NodeID="11" /><Row CCID="50062"  TypeID="1"  DBColumnID="583650"  NodeID="1" /><Row CCID="50058"  TypeID="1"  DBColumnID="583713"  NodeID="1" /></XML>'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:46:16.855 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTc2OSwiZXhwIjoxNzUyODQ0NTY5LCJpYXQiOjE3NTI4MTU3Njl9.c7gMEOmgQTpUzDMWm9ToSXanfrQ3rrXkE-DDeFAoQvg'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:46:16.871 | General Service|:: CompanyIndex:13 SpName: spDOC_GetLinkReferenceData 
 566117
 ,41025
 ,55687
 ,'18/Jul/2025'
 ,55687
 ,'<XML><Row CostCenterID="50011" NODEID="1" /><Row CostCenterID="50002" NODEID="27" /><Row CostCenterID="50058" NODEID="1" /><Row CostCenterID="50059" NODEID="1" /><Row CostCenterID="50061" NODEID="11" /><Row CostCenterID="50062" NODEID="1" /></XML>'
 ,False
 ,'0'
 ,'0'
 ,'0'
 ,NULL
 ,'0'
 ,'0'
 ,'0'
 ,''
 ,'1'
 ,1
 ,'1'
[System: 192.168.1.54] DEBUG | 07-18-2025 10:46:16.871 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTc2OSwiZXhwIjoxNzUyODQ0NTY5LCJpYXQiOjE3NTI4MTU3Njl9.c7gMEOmgQTpUzDMWm9ToSXanfrQ3rrXkE-DDeFAoQvg'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:46:16.902 | General Service|:: CompanyIndex:13 SpName: spADM_GetListViewDataByIDs 
 '<XML><Row CCID="50011"  TypeID="1"  DBColumnID="566213"  NodeID="1" /><Row CCID="2"  TypeID="10"  DBColumnID="566117"  NodeID="55687" /><Row CCID="2"  TypeID="100"  DBColumnID="566117"  NodeID="55687" /><Row CCID="2"  TypeID="10"  DBColumnID="566254"  NodeID="3" /><Row CCID="2"  TypeID="100"  DBColumnID="566254"  NodeID="3" /><Row CCID="50011"  TypeID="1"  DBColumnID="566213"  NodeID="1" /><Row CCID="50002"  TypeID="1"  DBColumnID="566204"  NodeID="27" /><Row CCID="50058"  TypeID="1"  DBColumnID="583442"  NodeID="1" /><Row CCID="50059"  TypeID="1"  DBColumnID="583494"  NodeID="1" /><Row CCID="50061"  TypeID="11"  DBColumnID="583598"  NodeID="11" /><Row CCID="50062"  TypeID="1"  DBColumnID="583650"  NodeID="1" /><Row CCID="50058"  TypeID="1"  DBColumnID="583713"  NodeID="1" /></XML>'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:46:16.902 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTc2OSwiZXhwIjoxNzUyODQ0NTY5LCJpYXQiOjE3NTI4MTU3Njl9.c7gMEOmgQTpUzDMWm9ToSXanfrQ3rrXkE-DDeFAoQvg'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:46:16.980 | General Service|:: CompanyIndex:13 SpName: spADM_GetCostCenterListViewData 
 500055
 ,'a.Name,a.Code,a.ccAlpha11'
 ,''
 ,''
 ,'Name'
 ,''
 ,60
 ,False
 ,''
 ,''
 ,''
 ,''
 ,''
 ,0
 ,False
 ,''
 ,''
 ,'1'
 ,'1'
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:46:16.980 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTc2OSwiZXhwIjoxNzUyODQ0NTY5LCJpYXQiOjE3NTI4MTU3Njl9.c7gMEOmgQTpUzDMWm9ToSXanfrQ3rrXkE-DDeFAoQvg'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:46:17.386 | General Service|:: CompanyIndex:13 SpName: spADM_GetDashBoard 
 1
 ,8
 ,0
 ,'1'
 ,'1'
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:46:17.386 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTc2OSwiZXhwIjoxNzUyODQ0NTY5LCJpYXQiOjE3NTI4MTU3Njl9.c7gMEOmgQTpUzDMWm9ToSXanfrQ3rrXkE-DDeFAoQvg'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:46:17.449 | General Service|:: CompanyIndex:13 SpName: spRPT_GetReport 
 0
 ,30456
 ,'1'
 ,'1'
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:46:17.449 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTc2OSwiZXhwIjoxNzUyODQ0NTY5LCJpYXQiOjE3NTI4MTU3Njl9.c7gMEOmgQTpUzDMWm9ToSXanfrQ3rrXkE-DDeFAoQvg'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:46:17.542 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'SELECT StaticReportType FROM ADM_RevenUReports WITH(NOLOCK) WHERE ReportID=30456'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:46:17.542 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTc2OSwiZXhwIjoxNzUyODQ0NTY5LCJpYXQiOjE3NTI4MTU3Njl9.c7gMEOmgQTpUzDMWm9ToSXanfrQ3rrXkE-DDeFAoQvg'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:46:17.667 | General Service|:: CompanyIndex:13 SpName: spRPT_GetReportCategoryandField 
 -1
 ,0
 ,1
 ,0
 ,'1'
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:46:17.667 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTc2OSwiZXhwIjoxNzUyODQ0NTY5LCJpYXQiOjE3NTI4MTU3Njl9.c7gMEOmgQTpUzDMWm9ToSXanfrQ3rrXkE-DDeFAoQvg'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:46:17.714 | General Service|:: CompanyIndex:13 SpName: spRPT_GetReportFields 
 400
 ,0
 ,'1'
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:46:17.730 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTc2OSwiZXhwIjoxNzUyODQ0NTY5LCJpYXQiOjE3NTI4MTU3Njl9.c7gMEOmgQTpUzDMWm9ToSXanfrQ3rrXkE-DDeFAoQvg'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:46:17.777 | General Service|:: CompanyIndex:13 SpName: spRPT_GetReportData 
 9
 ,1
 ,'<XML UID="1" ShowMyQueue="0"></XML>'
 ,'1'
[System: 192.168.1.54] DEBUG | 07-18-2025 10:46:17.777 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTc2OSwiZXhwIjoxNzUyODQ0NTY5LCJpYXQiOjE3NTI4MTU3Njl9.c7gMEOmgQTpUzDMWm9ToSXanfrQ3rrXkE-DDeFAoQvg'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:46:17.933 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
                EXEC spRPT_GetReportData @Type=8,@Param1=1,@strXML=null,@RoleID=1
SELECT ACC.VoucherNo [C858bdfa70f884b78b8ec0453808910bb],ACC.VersionNo [C858bdfa70f884b78b8ec0453808910bbVer],CONVERT(DATETIME,ACC.DocDate) [Cf4c1ff96517a40978b75103376667aae],ACC.DocAbbr [C501419b9c341410d8920b953fb30cfbf],ACC.Amount [Cfa623191688842d5ac3c0cd9232cfb2e],NULL [C90a85d26ad47471988897309a5c78218],T1.UserName [Cd0c4cb9a7057416ca691fb5c4774545b],T3.Name [C80a6de4371d045c08bf9d035c1831959],ACC.CommonNarration [Ce66e27446651436893b0d2c967dd0ecb],T4.Status [Ca7da089a0bd542838ddeb39e78a982ea],T5.Name [Cff89130f277d4635b5e1c5e6887cbcb5],ACC.VoucherNo [Cdacb59b3f5e54f18b65dfc4cf3186555],ACC.DocAbbr [Cdacb59b3f5e54f18b65dfc4cf3186555Abr],ACC.DocPrefix [Cdacb59b3f5e54f18b65dfc4cf3186555prf],CONVERT(BIGINT,ACC.DocNumber) [Cdacb59b3f5e54f18b65dfc4cf3186555dno]
 FROM ACC_DocDetails ACC with(nolock) left join ADM_Users T1 with(nolock) on ACC.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on ACC.AccDocDetailsID=TDCC.AccDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on ACC.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (ACC.CostCenterID=41053) AND T4.Status=''Unapproved'' AND ACC.LinkedAccDocDetailsID is null AND WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT ACC.VoucherNo,ACC.VersionNo,CONVERT(DATETIME,ACC.DocDate),ACC.DocAbbr,ACC.Amount,NULL,T1.UserName,T3.Name,ACC.CommonNarration,T4.Status,T5.Name,ACC.VoucherNo,ACC.DocAbbr,ACC.DocPrefix,CONVERT(BIGINT,ACC.DocNumber)
 FROM ACC_DocDetails ACC with(nolock) left join ADM_Users T1 with(nolock) on ACC.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on ACC.AccDocDetailsID=TDCC.AccDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on ACC.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (ACC.CostCenterID=41061) AND T4.Status=''Unapproved'' AND ACC.LinkedAccDocDetailsID is null AND WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT ACC.VoucherNo,ACC.VersionNo,CONVERT(DATETIME,ACC.DocDate),ACC.DocAbbr,ACC.Amount,NULL,T1.UserName,T3.Name,ACC.CommonNarration,T4.Status,T5.Name,ACC.VoucherNo,ACC.DocAbbr,ACC.DocPrefix,CONVERT(BIGINT,ACC.DocNumber)
 FROM ACC_DocDetails ACC with(nolock) left join ADM_Users T1 with(nolock) on ACC.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on ACC.AccDocDetailsID=TDCC.AccDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on ACC.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (ACC.CostCenterID=40023) AND T4.Status=''Unapproved'' AND ACC.LinkedAccDocDetailsID is null AND WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT ACC.VoucherNo,ACC.VersionNo,CONVERT(DATETIME,ACC.DocDate),ACC.DocAbbr,ACC.Amount,NULL,T1.UserName,T3.Name,ACC.CommonNarration,T4.Status,T5.Name,ACC.VoucherNo,ACC.DocAbbr,ACC.DocPrefix,CONVERT(BIGINT,ACC.DocNumber)
 FROM ACC_DocDetails ACC with(nolock) left join ADM_Users T1 with(nolock) on ACC.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on ACC.AccDocDetailsID=TDCC.AccDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on ACC.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (ACC.CostCenterID=41064) AND T4.Status=''Unapproved'' AND ACC.LinkedAccDocDetailsID is null AND WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT ACC.VoucherNo,ACC.VersionNo,CONVERT(DATETIME,ACC.DocDate),ACC.DocAbbr,ACC.Amount,NULL,T1.UserName,T3.Name,ACC.CommonNarration,T4.Status,T5.Name,ACC.VoucherNo,ACC.DocAbbr,ACC.DocPrefix,CONVERT(BIGINT,ACC.DocNumber)
 FROM ACC_DocDetails ACC with(nolock) left join ADM_Users T1 with(nolock) on ACC.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on ACC.AccDocDetailsID=TDCC.AccDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on ACC.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (ACC.CostCenterID=41006) AND T4.Status=''Unapproved'' AND ACC.LinkedAccDocDetailsID is null AND WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT ACC.VoucherNo,ACC.VersionNo,CONVERT(DATETIME,ACC.DocDate),ACC.DocAbbr,ACC.Amount,NULL,T1.UserName,T3.Name,ACC.CommonNarration,T4.Status,T5.Name,ACC.VoucherNo,ACC.DocAbbr,ACC.DocPrefix,CONVERT(BIGINT,ACC.DocNumber)
 FROM ACC_DocDetails ACC with(nolock) left join ADM_Users T1 with(nolock) on ACC.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on ACC.AccDocDetailsID=TDCC.AccDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on ACC.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (ACC.CostCenterID=40022) AND T4.Status=''Unapproved'' AND ACC.LinkedAccDocDetailsID is null AND WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT ACC.VoucherNo,ACC.VersionNo,CONVERT(DATETIME,ACC.DocDate),ACC.DocAbbr,ACC.Amount,NULL,T1.UserName,T3.Name,ACC.CommonNarration,T4.Status,T5.Name,ACC.VoucherNo,ACC.DocAbbr,ACC.DocPrefix,CONVERT(BIGINT,ACC.DocNumber)
 FROM ACC_DocDetails ACC with(nolock) left join ADM_Users T1 with(nolock) on ACC.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on ACC.AccDocDetailsID=TDCC.AccDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on ACC.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (ACC.CostCenterID=41075) AND T4.Status=''Unapproved'' AND ACC.LinkedAccDocDetailsID is null AND WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT ACC.VoucherNo,ACC.VersionNo,CONVERT(DATETIME,ACC.DocDate),ACC.DocAbbr,ACC.Amount,NULL,T1.UserName,T3.Name,ACC.CommonNarration,T4.Status,T5.Name,ACC.VoucherNo,ACC.DocAbbr,ACC.DocPrefix,CONVERT(BIGINT,ACC.DocNumber)
 FROM ACC_DocDetails ACC with(nolock) left join ADM_Users T1 with(nolock) on ACC.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on ACC.AccDocDetailsID=TDCC.AccDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on ACC.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (ACC.CostCenterID=41077) AND T4.Status=''Unapproved'' AND ACC.LinkedAccDocDetailsID is null AND WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT ACC.VoucherNo,ACC.VersionNo,CONVERT(DATETIME,ACC.DocDate),ACC.DocAbbr,ACC.Amount,NULL,T1.UserName,T3.Name,ACC.CommonNarration,T4.Status,T5.Name,ACC.VoucherNo,ACC.DocAbbr,ACC.DocPrefix,CONVERT(BIGINT,ACC.DocNumber)
 FROM ACC_DocDetails ACC with(nolock) left join ADM_Users T1 with(nolock) on ACC.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on ACC.AccDocDetailsID=TDCC.AccDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on ACC.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (ACC.CostCenterID=40014) AND T4.Status=''Unapproved'' AND ACC.LinkedAccDocDetailsID is null AND WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT ACC.VoucherNo,ACC.VersionNo,CONVERT(DATETIME,ACC.DocDate),ACC.DocAbbr,ACC.Amount,NULL,T1.UserName,T3.Name,ACC.CommonNarration,T4.Status,T5.Name,ACC.VoucherNo,ACC.DocAbbr,ACC.DocPrefix,CONVERT(BIGINT,ACC.DocNumber)
 FROM ACC_DocDetails ACC with(nolock) left join ADM_Users T1 with(nolock) on ACC.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on ACC.AccDocDetailsID=TDCC.AccDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on ACC.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (ACC.CostCenterID=41065) AND T4.Status=''Unapproved'' AND ACC.LinkedAccDocDetailsID is null AND WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT ACC.VoucherNo,ACC.VersionNo,CONVERT(DATETIME,ACC.DocDate),ACC.DocAbbr,ACC.Amount,NULL,T1.UserName,T3.Name,ACC.CommonNarration,T4.Status,T5.Name,ACC.VoucherNo,ACC.DocAbbr,ACC.DocPrefix,CONVERT(BIGINT,ACC.DocNumber)
 FROM ACC_DocDetails ACC with(nolock) left join ADM_Users T1 with(nolock) on ACC.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on ACC.AccDocDetailsID=TDCC.AccDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on ACC.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (ACC.CostCenterID=40017) AND T4.Status=''Unapproved'' AND ACC.LinkedAccDocDetailsID is null AND WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT INV.VoucherNo,INV.VersionNo,CONVERT(DATETIME,INV.DocDate),INV.DocAbbr,NULL,CASE WHEN (SELECT DocumentType FROM ADM_DocumentTypes WITH(NOLOCK) WHERE CostCenterID=INV.CostCenterID)=38 AND VoucherType=1 THEN -INV.Gross ELSE INV.Gross END,T1.UserName,T3.Name,INV.CommonNarration,T4.Status,T5.Name,INV.VoucherNo,INV.DocAbbr,INV.DocPrefix,CONVERT(BIGINT,INV.DocNumber)
 FROM INV_DocDetails INV with(nolock) left join ADM_Users T1 with(nolock) on INV.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on INV.InvDocDetailsID=TDCC.InvDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on INV.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (INV.CostCenterID=41018) AND T4.Status=''Unapproved'' AND WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef and INV.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT INV.VoucherNo,INV.VersionNo,CONVERT(DATETIME,INV.DocDate),INV.DocAbbr,NULL,CASE WHEN (SELECT DocumentType FROM ADM_DocumentTypes WITH(NOLOCK) WHERE CostCenterID=INV.CostCenterID)=38 AND VoucherType=1 THEN -INV.Gross ELSE INV.Gross END,T1.UserName,T3.Name,INV.CommonNarration,T4.Status,T5.Name,INV.VoucherNo,INV.DocAbbr,INV.DocPrefix,CONVERT(BIGINT,INV.DocNumber)
 FROM INV_DocDetails INV with(nolock) left join ADM_Users T1 with(nolock) on INV.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on INV.InvDocDetailsID=TDCC.InvDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on INV.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (INV.CostCenterID=40011) AND T4.Status=''Unapproved'' AND WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef and INV.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT INV.VoucherNo,INV.VersionNo,CONVERT(DATETIME,INV.DocDate),INV.DocAbbr,NULL,CASE WHEN (SELECT DocumentType FROM ADM_DocumentTypes WITH(NOLOCK) WHERE CostCenterID=INV.CostCenterID)=38 AND VoucherType=1 THEN -INV.Gross ELSE INV.Gross END,T1.UserName,T3.Name,INV.CommonNarration,T4.Status,T5.Name,INV.VoucherNo,INV.DocAbbr,INV.DocPrefix,CONVERT(BIGINT,INV.DocNumber)
 FROM INV_DocDetails INV with(nolock) left join ADM_Users T1 with(nolock) on INV.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on INV.InvDocDetailsID=TDCC.InvDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on INV.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (INV.CostCenterID=41072) AND T4.Status=''Unapproved'' AND WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef and INV.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT INV.VoucherNo,INV.VersionNo,CONVERT(DATETIME,INV.DocDate),INV.DocAbbr,NULL,CASE WHEN (SELECT DocumentType FROM ADM_DocumentTypes WITH(NOLOCK) WHERE CostCenterID=INV.CostCenterID)=38 AND VoucherType=1 THEN -INV.Gross ELSE INV.Gross END,T1.UserName,T3.Name,INV.CommonNarration,T4.Status,T5.Name,INV.VoucherNo,INV.DocAbbr,INV.DocPrefix,CONVERT(BIGINT,INV.DocNumber)
 FROM INV_DocDetails INV with(nolock) left join ADM_Users T1 with(nolock) on INV.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on INV.InvDocDetailsID=TDCC.InvDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on INV.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (INV.CostCenterID=41057) AND T4.Status=''Unapproved'' AND WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef and INV.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT INV.VoucherNo,INV.VersionNo,CONVERT(DATETIME,INV.DocDate),INV.DocAbbr,NULL,CASE WHEN (SELECT DocumentType FROM ADM_DocumentTypes WITH(NOLOCK) WHERE CostCenterID=INV.CostCenterID)=38 AND VoucherType=1 THEN -INV.Gross ELSE INV.Gross END,T1.UserName,T3.Name,INV.CommonNarration,T4.Status,T5.Name,INV.VoucherNo,INV.DocAbbr,INV.DocPrefix,CONVERT(BIGINT,INV.DocNumber)
 FROM INV_DocDetails INV with(nolock) left join ADM_Users T1 with(nolock) on INV.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on INV.InvDocDetailsID=TDCC.InvDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on INV.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (INV.CostCenterID=41060) AND T4.Status=''Unapproved'' AND WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef and INV.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT INV.VoucherNo,INV.VersionNo,CONVERT(DATETIME,INV.DocDate),INV.DocAbbr,NULL,CASE WHEN (SELECT DocumentType FROM ADM_DocumentTypes WITH(NOLOCK) WHERE CostCenterID=INV.CostCenterID)=38 AND VoucherType=1 THEN -INV.Gross ELSE INV.Gross END,T1.UserName,T3.Name,INV.CommonNarration,T4.Status,T5.Name,INV.VoucherNo,INV.DocAbbr,INV.DocPrefix,CONVERT(BIGINT,INV.DocNumber)
 FROM INV_DocDetails INV with(nolock) left join ADM_Users T1 with(nolock) on INV.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on INV.InvDocDetailsID=TDCC.InvDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on INV.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (INV.CostCenterID=40001) AND T4.Status=''Unapproved'' AND WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef and INV.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT INV.VoucherNo,INV.VersionNo,CONVERT(DATETIME,INV.DocDate),INV.DocAbbr,NULL,CASE WHEN (SELECT DocumentType FROM ADM_DocumentTypes WITH(NOLOCK) WHERE CostCenterID=INV.CostCenterID)=38 AND VoucherType=1 THEN -INV.Gross ELSE INV.Gross END,T1.UserName,T3.Name,INV.CommonNarration,T4.Status,T5.Name,INV.VoucherNo,INV.DocAbbr,INV.DocPrefix,CONVERT(BIGINT,INV.DocNumber)
 FROM INV_DocDetails INV with(nolock) left join ADM_Users T1 with(nolock) on INV.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on INV.InvDocDetailsID=TDCC.InvDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on INV.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (INV.CostCenterID=41054) AND T4.Status=''Unapproved'' AND WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef and INV.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT ACC.VoucherNo,ACC.VersionNo,CONVERT(DATETIME,ACC.DocDate),ACC.DocAbbr,ACC.Amount,NULL,T1.UserName,T3.Name,ACC.CommonNarration,T4.Status,T5.Name,ACC.VoucherNo,ACC.DocAbbr,ACC.DocPrefix,CONVERT(BIGINT,ACC.DocNumber)
 FROM ACC_DocDetails ACC with(nolock) left join ADM_Users T1 with(nolock) on ACC.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on ACC.AccDocDetailsID=TDCC.AccDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on ACC.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (ACC.CostCenterID=41033) AND T4.Status=''Unapproved'' AND ACC.LinkedAccDocDetailsID is null AND WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT ACC.VoucherNo,ACC.VersionNo,CONVERT(DATETIME,ACC.DocDate),ACC.DocAbbr,ACC.Amount,NULL,T1.UserName,T3.Name,ACC.CommonNarration,T4.Status,T5.Name,ACC.VoucherNo,ACC.DocAbbr,ACC.DocPrefix,CONVERT(BIGINT,ACC.DocNumber)
 FROM ACC_DocDetails ACC with(nolock) left join ADM_Users T1 with(nolock) on ACC.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on ACC.AccDocDetailsID=TDCC.AccDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on ACC.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (ACC.CostCenterID=40019) AND T4.Status=''Unapproved'' AND ACC.LinkedAccDocDetailsID is null AND WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT ACC.VoucherNo,ACC.VersionNo,CONVERT(DATETIME,ACC.DocDate),ACC.DocAbbr,ACC.Amount,NULL,T1.UserName,T3.Name,ACC.CommonNarration,T4.Status,T5.Name,ACC.VoucherNo,ACC.DocAbbr,ACC.DocPrefix,CONVERT(BIGINT,ACC.DocNumber)
 FROM ACC_DocDetails ACC with(nolock) left join ADM_Users T1 with(nolock) on ACC.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on ACC.AccDocDetailsID=TDCC.AccDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on ACC.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (ACC.CostCenterID=41013) AND T4.Status=''Unapproved'' AND ACC.LinkedAccDocDetailsID is null AND WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef and ACC.CreatedDate+WF.CtWef<=convert(float,getdate()))) ORDER BY [Cdacb59b3f5e54f18b65dfc4cf3186555Abr] ,[Cdacb59b3f5e54f18b65dfc4cf3186555prf] ,[Cdacb59b3f5e54f18b65dfc4cf3186555dno]  
 DROP TABLE #TblUsrWF'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:46:17.949 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTc2OSwiZXhwIjoxNzUyODQ0NTY5LCJpYXQiOjE3NTI4MTU3Njl9.c7gMEOmgQTpUzDMWm9ToSXanfrQ3rrXkE-DDeFAoQvg'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:46:20.714 | General Service|:: CompanyIndex:13 SpName: spDOC_GetInvDocument 
 41025
 ,'023/25/'
 ,'116'
 ,'1'
 ,0
 ,' and (a.CostCenterID=c.DocumentID or c.DocumentID=1) and (b.dcCCNID2=c.CCNID2 or c.CCNID2=0)'
 ,1
 ,1
 ,'admin'
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:46:20.729 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTc2OSwiZXhwIjoxNzUyODQ0NTY5LCJpYXQiOjE3NTI4MTU3Njl9.c7gMEOmgQTpUzDMWm9ToSXanfrQ3rrXkE-DDeFAoQvg'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:46:20.760 | General Service|:: CompanyIndex:13 SpName: spADM_GetListViewDataByIDs 
 '<XML><Row CCID="50011"  TypeID="1"  DBColumnID="566213"  NodeID="1" /><Row CCID="2"  TypeID="10"  DBColumnID="566117"  NodeID="55687" /><Row CCID="2"  TypeID="100"  DBColumnID="566117"  NodeID="55687" /><Row CCID="2"  TypeID="10"  DBColumnID="566254"  NodeID="3" /><Row CCID="2"  TypeID="100"  DBColumnID="566254"  NodeID="3" /><Row CCID="50014"  TypeID="4"  DBColumnID="566216"  NodeID="10367" /><Row CCID="50009"  TypeID="3"  DBColumnID="566211"  NodeID="10570" /><Row CCID="50010"  TypeID="3"  DBColumnID="566212"  NodeID="51889" /><Row CCID="50018"  TypeID="1"  DBColumnID="566220"  NodeID="135" /><Row CCID="50070"  TypeID="1"  DBColumnID="598043"  NodeID="4" /><Row CCID="50011"  TypeID="1"  DBColumnID="566213"  NodeID="1" /><Row CCID="50014"  TypeID="4"  DBColumnID="566216"  NodeID="10367" /><Row CCID="50009"  TypeID="3"  DBColumnID="566211"  NodeID="10570" /><Row CCID="50010"  TypeID="3"  DBColumnID="566212"  NodeID="51889" /><Row CCID="50018"  TypeID="1"  DBColumnID="566220"  NodeID="135" /><Row CCID="50070"  TypeID="1"  DBColumnID="598043"  NodeID="4" /><Row CCID="50002"  TypeID="1"  DBColumnID="566204"  NodeID="27" /><Row CCID="50058"  TypeID="1"  DBColumnID="583442"  NodeID="1" /><Row CCID="50059"  TypeID="1"  DBColumnID="583494"  NodeID="1" /><Row CCID="50061"  TypeID="11"  DBColumnID="583598"  NodeID="11" /><Row CCID="50062"  TypeID="1"  DBColumnID="583650"  NodeID="1" /><Row CCID="50058"  TypeID="1"  DBColumnID="583713"  NodeID="1" /><Row CCID="44"  TypeID="122"  DBColumnID="566171"  NodeID="641" /><Row CCID="50060"  TypeID="1"  DBColumnID="583546"  NodeID="1" /></XML>'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:46:20.776 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTc2OSwiZXhwIjoxNzUyODQ0NTY5LCJpYXQiOjE3NTI4MTU3Njl9.c7gMEOmgQTpUzDMWm9ToSXanfrQ3rrXkE-DDeFAoQvg'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:46:20.792 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select ParentNodeID NodeID from COM_CostCenterCostCenterMap where CostCenterID in (8,300) and ParentCostCenterId=50033 and NodeID=41025'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:46:20.792 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTc2OSwiZXhwIjoxNzUyODQ0NTY5LCJpYXQiOjE3NTI4MTU3Njl9.c7gMEOmgQTpUzDMWm9ToSXanfrQ3rrXkE-DDeFAoQvg'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:46:20.807 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select ParentNodeID NodeID from COM_CostCenterCostCenterMap where CostCenterID in (8,300) and ParentCostCenterId=50033 and NodeID=41025'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:46:20.807 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTc2OSwiZXhwIjoxNzUyODQ0NTY5LCJpYXQiOjE3NTI4MTU3Njl9.c7gMEOmgQTpUzDMWm9ToSXanfrQ3rrXkE-DDeFAoQvg'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:46:20.823 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select ParentNodeID NodeID from COM_CostCenterCostCenterMap where CostCenterID in (8,300) and ParentCostCenterId=50033 and NodeID=41025'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:46:20.823 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTc2OSwiZXhwIjoxNzUyODQ0NTY5LCJpYXQiOjE3NTI4MTU3Njl9.c7gMEOmgQTpUzDMWm9ToSXanfrQ3rrXkE-DDeFAoQvg'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:46:20.838 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select ParentNodeID NodeID from COM_CostCenterCostCenterMap where CostCenterID in (8,300) and ParentCostCenterId=50033 and NodeID=41025'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:46:20.838 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTc2OSwiZXhwIjoxNzUyODQ0NTY5LCJpYXQiOjE3NTI4MTU3Njl9.c7gMEOmgQTpUzDMWm9ToSXanfrQ3rrXkE-DDeFAoQvg'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:46:20.854 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select ParentNodeID NodeID from COM_CostCenterCostCenterMap where CostCenterID in (8,300) and ParentCostCenterId=50033 and NodeID=41025'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:46:20.854 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTc2OSwiZXhwIjoxNzUyODQ0NTY5LCJpYXQiOjE3NTI4MTU3Njl9.c7gMEOmgQTpUzDMWm9ToSXanfrQ3rrXkE-DDeFAoQvg'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:46:20.870 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select ParentNodeID NodeID from COM_CostCenterCostCenterMap where CostCenterID in (8,300) and ParentCostCenterId=50033 and NodeID=41025'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:46:20.870 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTc2OSwiZXhwIjoxNzUyODQ0NTY5LCJpYXQiOjE3NTI4MTU3Njl9.c7gMEOmgQTpUzDMWm9ToSXanfrQ3rrXkE-DDeFAoQvg'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:46:20.885 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select ParentNodeID NodeID from COM_CostCenterCostCenterMap where CostCenterID in (8,300) and ParentCostCenterId=50033 and NodeID=41025'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:46:20.885 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTc2OSwiZXhwIjoxNzUyODQ0NTY5LCJpYXQiOjE3NTI4MTU3Njl9.c7gMEOmgQTpUzDMWm9ToSXanfrQ3rrXkE-DDeFAoQvg'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:46:20.901 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select ParentNodeID NodeID from COM_CostCenterCostCenterMap where CostCenterID in (8,300) and ParentCostCenterId=50033 and NodeID=41025'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:46:20.901 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTc2OSwiZXhwIjoxNzUyODQ0NTY5LCJpYXQiOjE3NTI4MTU3Njl9.c7gMEOmgQTpUzDMWm9ToSXanfrQ3rrXkE-DDeFAoQvg'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:46:20.901 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select ParentNodeID NodeID from COM_CostCenterCostCenterMap where CostCenterID in (8,300) and ParentCostCenterId=50033 and NodeID=41025'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:46:20.917 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTc2OSwiZXhwIjoxNzUyODQ0NTY5LCJpYXQiOjE3NTI4MTU3Njl9.c7gMEOmgQTpUzDMWm9ToSXanfrQ3rrXkE-DDeFAoQvg'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:46:20.917 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select ParentNodeID NodeID from COM_CostCenterCostCenterMap where CostCenterID in (8,300) and ParentCostCenterId=50033 and NodeID=41025'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:46:20.932 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTc2OSwiZXhwIjoxNzUyODQ0NTY5LCJpYXQiOjE3NTI4MTU3Njl9.c7gMEOmgQTpUzDMWm9ToSXanfrQ3rrXkE-DDeFAoQvg'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:46:20.932 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select ParentNodeID NodeID from COM_CostCenterCostCenterMap where CostCenterID in (8,300) and ParentCostCenterId=50033 and NodeID=41025'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:46:20.932 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTc2OSwiZXhwIjoxNzUyODQ0NTY5LCJpYXQiOjE3NTI4MTU3Njl9.c7gMEOmgQTpUzDMWm9ToSXanfrQ3rrXkE-DDeFAoQvg'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:46:20.948 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select ParentNodeID NodeID from COM_CostCenterCostCenterMap where CostCenterID in (8,300) and ParentCostCenterId=50033 and NodeID=41025'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:46:20.948 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTc2OSwiZXhwIjoxNzUyODQ0NTY5LCJpYXQiOjE3NTI4MTU3Njl9.c7gMEOmgQTpUzDMWm9ToSXanfrQ3rrXkE-DDeFAoQvg'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:46:20.963 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select ParentNodeID NodeID from COM_CostCenterCostCenterMap where CostCenterID in (8,300) and ParentCostCenterId=50033 and NodeID=41025'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:46:20.963 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTc2OSwiZXhwIjoxNzUyODQ0NTY5LCJpYXQiOjE3NTI4MTU3Njl9.c7gMEOmgQTpUzDMWm9ToSXanfrQ3rrXkE-DDeFAoQvg'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:46:21.057 | General Service|:: CompanyIndex:13 SpName: spADM_GetCostCenterListViewData 
 362
 ,'a.Name,a.Code'
 ,''
 ,''
 ,'Name'
 ,''
 ,60
 ,False
 ,''
 ,''
 ,'(CCNID9=10570)'
 ,''
 ,''
 ,0
 ,False
 ,''
 ,''
 ,'1'
 ,'1'
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:46:21.073 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTc2OSwiZXhwIjoxNzUyODQ0NTY5LCJpYXQiOjE3NTI4MTU3Njl9.c7gMEOmgQTpUzDMWm9ToSXanfrQ3rrXkE-DDeFAoQvg'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:46:25.431 | General Service|:: CompanyIndex:13 SpName: spADM_GetCostCenterListViewData 
 500055
 ,'a.Name,a.Code,a.ccAlpha11'
 ,''
 ,''
 ,'Name'
 ,''
 ,60
 ,False
 ,''
 ,10367
 ,''
 ,''
 ,''
 ,0
 ,False
 ,''
 ,''
 ,'1'
 ,'1'
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:46:25.431 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTc2OSwiZXhwIjoxNzUyODQ0NTY5LCJpYXQiOjE3NTI4MTU3Njl9.c7gMEOmgQTpUzDMWm9ToSXanfrQ3rrXkE-DDeFAoQvg'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:46:25.447 | General Service|:: CompanyIndex:13 SpName: spDOC_GetLinkReferenceData 
 566216
 ,41025
 ,10367
 ,'07/Jul/2025'
 ,55687
 ,'<XML><Row CostCenterID="50011" NODEID="1" /><Row CostCenterID="50014" NODEID="10367" /><Row CostCenterID="50009" NODEID="10570" /><Row CostCenterID="50010" NODEID="51889" /><Row CostCenterID="50018" NODEID="135" /><Row CostCenterID="50070" NODEID="4" /><Row CostCenterID="50002" NODEID="27" /><Row CostCenterID="50058" NODEID="1" /><Row CostCenterID="50059" NODEID="1" /><Row CostCenterID="50061" NODEID="11" /><Row CostCenterID="50062" NODEID="1" /></XML>'
 ,False
 ,'0'
 ,'0'
 ,'0'
 ,NULL
 ,'0'
 ,'0'
 ,'0'
 ,''
 ,'1'
 ,1
 ,'1'
[System: 192.168.1.54] DEBUG | 07-18-2025 10:46:25.447 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTc2OSwiZXhwIjoxNzUyODQ0NTY5LCJpYXQiOjE3NTI4MTU3Njl9.c7gMEOmgQTpUzDMWm9ToSXanfrQ3rrXkE-DDeFAoQvg'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:46:25.462 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'SELECT FeatureID,FileID,FilePath,ActualFileName,RelativeFileName,FileDescription,FileExtension,IsProductImage,GUID  FROM COM_Files WITH(NOLOCK) WHERE FeatureID=50014 AND FeaturePK=10367'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:46:25.462 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTc2OSwiZXhwIjoxNzUyODQ0NTY5LCJpYXQiOjE3NTI4MTU3Njl9.c7gMEOmgQTpUzDMWm9ToSXanfrQ3rrXkE-DDeFAoQvg'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:46:28.321 | General Service|:: CompanyIndex:13 SpName: spADM_GetCostCenterListViewData 
 500055
 ,'a.Name,a.Code,a.ccAlpha11'
 ,''
 ,''
 ,'Name'
 ,''
 ,60
 ,False
 ,''
 ,10367
 ,''
 ,''
 ,''
 ,0
 ,False
 ,''
 ,''
 ,'1'
 ,'1'
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:46:28.321 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTc2OSwiZXhwIjoxNzUyODQ0NTY5LCJpYXQiOjE3NTI4MTU3Njl9.c7gMEOmgQTpUzDMWm9ToSXanfrQ3rrXkE-DDeFAoQvg'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:46:28.352 | General Service|:: CompanyIndex:13 SpName: spDOC_GetLinkReferenceData 
 566216
 ,41025
 ,10367
 ,'07/Jul/2025'
 ,55687
 ,'<XML><Row CostCenterID="50011" NODEID="1" /><Row CostCenterID="50014" NODEID="10367" /><Row CostCenterID="50009" NODEID="10570" /><Row CostCenterID="50010" NODEID="51889" /><Row CostCenterID="50018" NODEID="135" /><Row CostCenterID="50070" NODEID="4" /><Row CostCenterID="50002" NODEID="27" /><Row CostCenterID="50058" NODEID="1" /><Row CostCenterID="50059" NODEID="1" /><Row CostCenterID="50061" NODEID="11" /><Row CostCenterID="50062" NODEID="1" /></XML>'
 ,False
 ,'0'
 ,'0'
 ,'0'
 ,NULL
 ,'0'
 ,'0'
 ,'0'
 ,''
 ,'1'
 ,1
 ,'1'
[System: 192.168.1.54] DEBUG | 07-18-2025 10:46:28.352 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTc2OSwiZXhwIjoxNzUyODQ0NTY5LCJpYXQiOjE3NTI4MTU3Njl9.c7gMEOmgQTpUzDMWm9ToSXanfrQ3rrXkE-DDeFAoQvg'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:46:28.384 | General Service|:: CompanyIndex:13 SpName: spDOC_GetLinkReferenceData 
 566211
 ,41025
 ,10570
 ,'07/Jul/2025'
 ,55687
 ,'<XML><Row CostCenterID="50011" NODEID="1" /><Row CostCenterID="50014" NODEID="10367" /><Row CostCenterID="50009" NODEID="10570" /><Row CostCenterID="50010" NODEID="51889" /><Row CostCenterID="50018" NODEID="135" /><Row CostCenterID="50070" NODEID="4" /><Row CostCenterID="50002" NODEID="27" /><Row CostCenterID="50058" NODEID="1" /><Row CostCenterID="50059" NODEID="1" /><Row CostCenterID="50061" NODEID="11" /><Row CostCenterID="50062" NODEID="1" /></XML>'
 ,False
 ,'0'
 ,'0'
 ,'0'
 ,NULL
 ,'0'
 ,'0'
 ,'0'
 ,''
 ,'1'
 ,1
 ,'1'
[System: 192.168.1.54] DEBUG | 07-18-2025 10:46:28.384 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTc2OSwiZXhwIjoxNzUyODQ0NTY5LCJpYXQiOjE3NTI4MTU3Njl9.c7gMEOmgQTpUzDMWm9ToSXanfrQ3rrXkE-DDeFAoQvg'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:46:28.399 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'SELECT FeatureID,FileID,FilePath,ActualFileName,RelativeFileName,FileDescription,FileExtension,IsProductImage,GUID  FROM COM_Files WITH(NOLOCK) WHERE FeatureID=50014 AND FeaturePK=10367'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:46:28.399 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTc2OSwiZXhwIjoxNzUyODQ0NTY5LCJpYXQiOjE3NTI4MTU3Njl9.c7gMEOmgQTpUzDMWm9ToSXanfrQ3rrXkE-DDeFAoQvg'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 10:46:43.443 | General Service|:: CompanyIndex:13 SpName: spCOM_ConfigValues 
 1
 ,'NotifTime'
 ,''
[System: 192.168.1.79] DEBUG | 07-18-2025 10:46:43.443 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 10:46:44.302 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 10:46:44.317 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:47:42.070 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:47:42.070 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTc2OSwiZXhwIjoxNzUyODQ0NTY5LCJpYXQiOjE3NTI4MTU3Njl9.c7gMEOmgQTpUzDMWm9ToSXanfrQ3rrXkE-DDeFAoQvg'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 10:47:44.304 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 10:47:44.304 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:48:02.893 | General Service|:: CompanyIndex:0 SpName: spADM_GetClientUserDetails2C 
 'admin'
 ,1
 ,0
[System: 192.168.1.54] DEBUG | 07-18-2025 10:48:02.925 | General Service|:: CompanyIndex:0 SpName: spADM_UserLoginCheck 
 2
 ,'admin'
 ,0
 ,'192.168.1.54'
 ,'192.168.1.54'
 ,''
 ,'Web'
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:48:06.330 | General Service|:: CompanyIndex:13 SpName: spADM_GetClientUserDetails 
 'admin'
 ,1
 ,'26.1.0'
 ,0
[System: 192.168.1.54] DEBUG | 07-18-2025 10:48:06.362 | General Service|:: CompanyIndex:0 SpName: spADM_UserLoginCheck 
 2
 ,'admin'
 ,13
 ,'192.168.1.54'
 ,'192.168.1.54'
 ,''
 ,'Web'
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:48:06.377 | General Service|:: CompanyIndex:0 SpName: spADM_Login 
 1
 ,''
 ,''
 ,''
 ,''
 ,''
 ,13
[System: 192.168.1.54] DEBUG | 07-18-2025 10:48:06.393 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select Value from ADM_GlobalPreferences with (nolock) where name =''EnableReLogin'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:48:06.393 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTg4NiwiZXhwIjoxNzUyODQ0Njg2LCJpYXQiOjE3NTI4MTU4ODZ9.9BqH6yXjC1Utzx61wW1rVRSqKrJpZW75oiFZ8sUlrYE'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:48:06.409 | General Service|:: CompanyIndex:0 SpName: spADM_Login 
 4
 ,''
 ,''
 ,''
 ,'declare @Cnt int,@ExpiredGUID nvarchar(50),@AllowSession int,@GUID nvarchar(50),@CurrDate float,@UserID INT,@Instances INT,@InstancesExists INT,@LCDBIndex int
set @CurrDate= convert(float,dateadd(minute,-21,getdate()))
set @AllowSession=0
set @GUID=''dbe04f01-8272-460e-91af-b6e0b9661cdc''
set @LCDBIndex=0
select top 1 @UserID=UserID,@Instances=InstanceCount from ADM_Users with(nolock) where UserName=''admin''
if exists(select [GUID] from ADM_Login with(nolock) where [GUID]=@GUID)
begin
	update ADM_Login 
	set LastAccessTime=convert(float,getdate()),UserID=@UserID
	where [GUID]=@GUID
    set @AllowSession=1
end
else
begin
	select @Cnt=count(*) from ADM_Login with(nolock) where LCDBIndex=@LCDBIndex and [GUID]!=''ACCESSRIGHTS'' and AP =''WEB''
    if(@Cnt<100)
		set @AllowSession=1
	else
	begin
		select top 1 @ExpiredGUID=[GUID] from ADM_Login with(nolock)
		where [GUID]!=''ACCESSRIGHTS'' and LCDBIndex=@LCDBIndex and LastAccessTime<@CurrDate  and AP =''WEB''
        order by LastAccessTime asc
		if @ExpiredGUID is not null
		begin
			delete from ADM_Login where [GUID]=@ExpiredGUID
			set @AllowSession=1
		end
	end
	if @AllowSession=1
	begin
        select @InstancesExists=COUNT(*) from ADM_Login with(nolock)
		where [GUID]!=''ACCESSRIGHTS'' and LCDBIndex=@LCDBIndex and LastAccessTime>=@CurrDate and UserID=@UserID and AP =''WEB''
		if(@Instances!=0 and @Instances<=@InstancesExists)
			set @AllowSession=2
		else
		    INSERT INTO ADM_Login([GUID],[SysName],IPAddress,[Status],LoginTime,LastAccessTime,AccessRights,UserID,DBIndex,LCDBIndex,AP)
		    VALUES(@GUID,''WEB'',''192.168.1.54'',1,convert(float,getdate()),convert(float,getdate()),null,@UserID,13,@LCDBIndex, ''WEB'')
	end
end

select @AllowSession AllowSession,@Instances Instances,@InstancesExists InstancesExists
'
 ,''
 ,0
[System: 192.168.1.54] DEBUG | 07-18-2025 10:48:06.409 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTg4NiwiZXhwIjoxNzUyODQ0Njg2LCJpYXQiOjE3NTI4MTU4ODZ9.9BqH6yXjC1Utzx61wW1rVRSqKrJpZW75oiFZ8sUlrYE'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:48:06.440 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'SELECT (SELECT COUNT(*) FROM COM_Location L WITH(NOLOCK) JOIN COM_Status S WITH(NOLOCK) ON S.StatusID=L.StatusID WHERE L.IsGroup=0 AND S.[Status]=''Active'') ML
,(SELECT COUNT(*) FROM ADM_Features WITH(NOLOCK) WHERE ((FeatureID>50000 AND FeatureID<=50050) OR FeatureID>=51000) AND IsEnabled=1) MD
,(SELECT ISNULL(COUNT(*),0) FROM ADM_RevenUReports WITH(NOLOCK) WHERE IsGroup=0 AND ReportID>10000 AND StaticReportType IN (0,-1)) MR'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:48:06.440 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTg4NiwiZXhwIjoxNzUyODQ0Njg2LCJpYXQiOjE3NTI4MTU4ODZ9.9BqH6yXjC1Utzx61wW1rVRSqKrJpZW75oiFZ8sUlrYE'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:48:08.049 | General Service|:: CompanyIndex:13 SpName: spCOM_ConfigValues 
 1
 ,'NotifTime'
 ,''
[System: 192.168.1.54] DEBUG | 07-18-2025 10:48:08.049 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTg4NiwiZXhwIjoxNzUyODQ0Njg2LCJpYXQiOjE3NTI4MTU4ODZ9.9BqH6yXjC1Utzx61wW1rVRSqKrJpZW75oiFZ8sUlrYE'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:48:08.221 | General Service|:: CompanyIndex:13 SpName: spADM_GetRibbonView 
 1
 ,1
 ,1
 ,1
 ,0
 ,''
[System: 192.168.1.54] DEBUG | 07-18-2025 10:48:08.221 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTg4NiwiZXhwIjoxNzUyODQ0Njg2LCJpYXQiOjE3NTI4MTU4ODZ9.9BqH6yXjC1Utzx61wW1rVRSqKrJpZW75oiFZ8sUlrYE'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:48:08.424 | General Service|:: CompanyIndex:13 SpName: spRPT_GetReport 
 2
 ,0
 ,'1'
 ,'1'
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:48:08.424 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTg4NiwiZXhwIjoxNzUyODQ0Njg2LCJpYXQiOjE3NTI4MTU4ODZ9.9BqH6yXjC1Utzx61wW1rVRSqKrJpZW75oiFZ8sUlrYE'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:48:08.486 | General Service|:: CompanyIndex:13 SpName: spADM_GetDashBoard 
 2
 ,0
 ,0
 ,'1'
 ,'1'
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:48:08.486 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTg4NiwiZXhwIjoxNzUyODQ0Njg2LCJpYXQiOjE3NTI4MTU4ODZ9.9BqH6yXjC1Utzx61wW1rVRSqKrJpZW75oiFZ8sUlrYE'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:48:08.517 | General Service|:: CompanyIndex:13 SpName: spCOM_ConfigValues 
 1
 ,'LandingDocs'
 ,'1'
[System: 192.168.1.54] DEBUG | 07-18-2025 10:48:08.517 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTg4NiwiZXhwIjoxNzUyODQ0Njg2LCJpYXQiOjE3NTI4MTU4ODZ9.9BqH6yXjC1Utzx61wW1rVRSqKrJpZW75oiFZ8sUlrYE'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:48:08.549 | General Service|:: CompanyIndex:13 SpName: spADM_GetAllListViewsDef 
 1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:48:08.549 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTg4NiwiZXhwIjoxNzUyODQ0Njg2LCJpYXQiOjE3NTI4MTU4ODZ9.9BqH6yXjC1Utzx61wW1rVRSqKrJpZW75oiFZ8sUlrYE'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:48:08.564 | General Service|:: CompanyIndex:13 SpName: spCOM_GetFavorites 
 'GETLIST0'
 ,0
 ,'1'
 ,'1'
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:48:08.564 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTg4NiwiZXhwIjoxNzUyODQ0Njg2LCJpYXQiOjE3NTI4MTU4ODZ9.9BqH6yXjC1Utzx61wW1rVRSqKrJpZW75oiFZ8sUlrYE'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:48:08.642 | General Service|:: CompanyIndex:13 SpName: spADM_GetAllListViewsDef 
 1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:48:08.658 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTg4NiwiZXhwIjoxNzUyODQ0Njg2LCJpYXQiOjE3NTI4MTU4ODZ9.9BqH6yXjC1Utzx61wW1rVRSqKrJpZW75oiFZ8sUlrYE'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:48:08.783 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'Select CostCenterID,CostCenterColID,CostCenterName,SysTableName,UserColumnName,SysColumnName,ISNULL(UserDefaultValue,'''') UserDefaultValue
From AdM_CostCenterDef WITH(NOLOCK)
Where SysColumnName IN(''CreditAccount'',''DebitAccount'',''ProductID'') 
AND CostCenterID>40000 AND CostCenterID<50000 

SELECT * FROM ADM_Features WITH(NOLOCK) '
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:48:08.783 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTg4NiwiZXhwIjoxNzUyODQ0Njg2LCJpYXQiOjE3NTI4MTU4ODZ9.9BqH6yXjC1Utzx61wW1rVRSqKrJpZW75oiFZ8sUlrYE'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:48:08.830 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 '  SELECT * FROM PAY_PayrollPreferences WITH(NOLOCK) '
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:48:08.845 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTg4NiwiZXhwIjoxNzUyODQ0Njg2LCJpYXQiOjE3NTI4MTU4ODZ9.9BqH6yXjC1Utzx61wW1rVRSqKrJpZW75oiFZ8sUlrYE'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:48:08.861 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 '  --0
                                Select * FROM COM_CC50051 WITH(NOLOCK) WHERE IsGroup=0 AND LoginUserID=''admin''
                                --1                                
                                Select * FROM COM_CC50051 WITH(NOLOCK) WHERE RptManager IN (Select NodeID FROM COM_CC50051 WITH(NOLOCK) WHERE IsGroup=0 AND LoginUserID=''admin'')
                                UNION ALL
                                Select * FROM COM_CC50051 WITH(NOLOCK) WHERE RptManager IN 
                                (
	                                Select NodeID FROM COM_CC50051 WITH(NOLOCK) 
	                                WHERE IsGroup=0 AND LoginUserID IN
	                                (
	                                SELECT fe.LoginUserID
	                                FROM INV_DocDetails a WITH(NOLOCK) 
	                                JOIN COM_DocCCData b WITH(NOLOCK) ON b.InvDocDetailsID=a.InvDocDetailsID
	                                JOIN COM_DocNumData c WITH(NOLOCK) ON c.InvDocDetailsID=a.InvDocDetailsID
	                                JOIN COM_DocTextData d WITH(NOLOCK) ON d.InvDocDetailsID=a.InvDocDetailsID
	                                JOIN COM_CC50051 fe WITH(NOLOCK) on fe.NodeID=b.dcCCNID51
	                                JOIN COM_CC50051 te WITH(NOLOCK) on CONVERT(NVARCHAR,te.NodeID)=d.dcAlpha1
	                                WHERE a.CostCenterID=40098 and a.StatusID=369 AND d.dcAlpha3=''Temporary''
	                                AND te.LoginUserID=''admin'' 
	                                AND ISDATE(d.dcAlpha4)=1 AND ISDATE(d.dcAlpha5)=1 
	                                AND CONVERT(DATETIME,''18 Jul 2025'') BETWEEN CONVERT(DATETIME,d.dcAlpha4) AND CONVERT(DATETIME,d.dcAlpha5)
	                                )
                                )
                                --2
                                Select * FROM ADM_USERS WITH(NOLOCK) WHERE USERID=1
                                --3
                                Select * FROM COM_CostCenterCostCenterMap WITH(NOLOCK) WHERE ParentCostCenterID=7 AND ParentNodeID=1
                                --4                                
                                Select * FROM COM_CostCenterCostCenterMap WITH(NOLOCK) WHERE ParentCostCenterID=7 AND ParentNodeID=1
                                AND CostCenterID IN(Select ColumnCostCenterID From ADM_CostCenterDef Where CostCenterID=50051 AND IsColumnInUse=1 AND SysColumnName LIKE ''CCNID%'')
                                --5
                                Select * from COM_Files WITH(NOLOCK) WHERE FeatureID=50051 AND FeaturePK IN (Select NodeID FROM COM_CC50051 WITH(NOLOCK) WHERE IsGroup=0 AND LoginUserID=''admin'')                         
'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:48:08.861 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTg4NiwiZXhwIjoxNzUyODQ0Njg2LCJpYXQiOjE3NTI4MTU4ODZ9.9BqH6yXjC1Utzx61wW1rVRSqKrJpZW75oiFZ8sUlrYE'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:48:08.970 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:48:08.986 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTg4NiwiZXhwIjoxNzUyODQ0Njg2LCJpYXQiOjE3NTI4MTU4ODZ9.9BqH6yXjC1Utzx61wW1rVRSqKrJpZW75oiFZ8sUlrYE'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:48:09.236 | General Service|:: CompanyIndex:13 SpName: spADM_GetDashBoard 
 1
 ,8
 ,0
 ,'1'
 ,'1'
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:48:09.236 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTg4NiwiZXhwIjoxNzUyODQ0Njg2LCJpYXQiOjE3NTI4MTU4ODZ9.9BqH6yXjC1Utzx61wW1rVRSqKrJpZW75oiFZ8sUlrYE'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:48:09.252 | General Service|:: CompanyIndex:13 SpName: spRPT_GetReport 
 0
 ,30456
 ,'1'
 ,'1'
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:48:09.252 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTg4NiwiZXhwIjoxNzUyODQ0Njg2LCJpYXQiOjE3NTI4MTU4ODZ9.9BqH6yXjC1Utzx61wW1rVRSqKrJpZW75oiFZ8sUlrYE'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:48:09.345 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'SELECT StaticReportType FROM ADM_RevenUReports WITH(NOLOCK) WHERE ReportID=30456'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:48:09.345 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTg4NiwiZXhwIjoxNzUyODQ0Njg2LCJpYXQiOjE3NTI4MTU4ODZ9.9BqH6yXjC1Utzx61wW1rVRSqKrJpZW75oiFZ8sUlrYE'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:48:09.486 | General Service|:: CompanyIndex:13 SpName: spRPT_GetReportCategoryandField 
 -1
 ,0
 ,1
 ,0
 ,'1'
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:48:09.486 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTg4NiwiZXhwIjoxNzUyODQ0Njg2LCJpYXQiOjE3NTI4MTU4ODZ9.9BqH6yXjC1Utzx61wW1rVRSqKrJpZW75oiFZ8sUlrYE'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:48:09.533 | General Service|:: CompanyIndex:13 SpName: spRPT_GetReportFields 
 400
 ,0
 ,'1'
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:48:09.533 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTg4NiwiZXhwIjoxNzUyODQ0Njg2LCJpYXQiOjE3NTI4MTU4ODZ9.9BqH6yXjC1Utzx61wW1rVRSqKrJpZW75oiFZ8sUlrYE'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:48:09.595 | General Service|:: CompanyIndex:13 SpName: spRPT_GetReportData 
 9
 ,1
 ,'<XML UID="1" ShowMyQueue="0"></XML>'
 ,'1'
[System: 192.168.1.54] DEBUG | 07-18-2025 10:48:09.595 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTg4NiwiZXhwIjoxNzUyODQ0Njg2LCJpYXQiOjE3NTI4MTU4ODZ9.9BqH6yXjC1Utzx61wW1rVRSqKrJpZW75oiFZ8sUlrYE'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:48:09.736 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
                EXEC spRPT_GetReportData @Type=8,@Param1=1,@strXML=null,@RoleID=1
SELECT ACC.VoucherNo [C858bdfa70f884b78b8ec0453808910bb],ACC.VersionNo [C858bdfa70f884b78b8ec0453808910bbVer],CONVERT(DATETIME,ACC.DocDate) [Cf4c1ff96517a40978b75103376667aae],ACC.DocAbbr [C501419b9c341410d8920b953fb30cfbf],ACC.Amount [Cfa623191688842d5ac3c0cd9232cfb2e],NULL [C90a85d26ad47471988897309a5c78218],T1.UserName [Cd0c4cb9a7057416ca691fb5c4774545b],T3.Name [C80a6de4371d045c08bf9d035c1831959],ACC.CommonNarration [Ce66e27446651436893b0d2c967dd0ecb],T4.Status [Ca7da089a0bd542838ddeb39e78a982ea],T5.Name [Cff89130f277d4635b5e1c5e6887cbcb5],ACC.VoucherNo [Cdacb59b3f5e54f18b65dfc4cf3186555],ACC.DocAbbr [Cdacb59b3f5e54f18b65dfc4cf3186555Abr],ACC.DocPrefix [Cdacb59b3f5e54f18b65dfc4cf3186555prf],CONVERT(BIGINT,ACC.DocNumber) [Cdacb59b3f5e54f18b65dfc4cf3186555dno]
 FROM ACC_DocDetails ACC with(nolock) left join ADM_Users T1 with(nolock) on ACC.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on ACC.AccDocDetailsID=TDCC.AccDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on ACC.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (ACC.CostCenterID=41053) AND T4.Status=''Unapproved'' AND ACC.LinkedAccDocDetailsID is null AND WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT ACC.VoucherNo,ACC.VersionNo,CONVERT(DATETIME,ACC.DocDate),ACC.DocAbbr,ACC.Amount,NULL,T1.UserName,T3.Name,ACC.CommonNarration,T4.Status,T5.Name,ACC.VoucherNo,ACC.DocAbbr,ACC.DocPrefix,CONVERT(BIGINT,ACC.DocNumber)
 FROM ACC_DocDetails ACC with(nolock) left join ADM_Users T1 with(nolock) on ACC.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on ACC.AccDocDetailsID=TDCC.AccDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on ACC.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (ACC.CostCenterID=41061) AND T4.Status=''Unapproved'' AND ACC.LinkedAccDocDetailsID is null AND WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT ACC.VoucherNo,ACC.VersionNo,CONVERT(DATETIME,ACC.DocDate),ACC.DocAbbr,ACC.Amount,NULL,T1.UserName,T3.Name,ACC.CommonNarration,T4.Status,T5.Name,ACC.VoucherNo,ACC.DocAbbr,ACC.DocPrefix,CONVERT(BIGINT,ACC.DocNumber)
 FROM ACC_DocDetails ACC with(nolock) left join ADM_Users T1 with(nolock) on ACC.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on ACC.AccDocDetailsID=TDCC.AccDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on ACC.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (ACC.CostCenterID=40023) AND T4.Status=''Unapproved'' AND ACC.LinkedAccDocDetailsID is null AND WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT ACC.VoucherNo,ACC.VersionNo,CONVERT(DATETIME,ACC.DocDate),ACC.DocAbbr,ACC.Amount,NULL,T1.UserName,T3.Name,ACC.CommonNarration,T4.Status,T5.Name,ACC.VoucherNo,ACC.DocAbbr,ACC.DocPrefix,CONVERT(BIGINT,ACC.DocNumber)
 FROM ACC_DocDetails ACC with(nolock) left join ADM_Users T1 with(nolock) on ACC.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on ACC.AccDocDetailsID=TDCC.AccDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on ACC.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (ACC.CostCenterID=41064) AND T4.Status=''Unapproved'' AND ACC.LinkedAccDocDetailsID is null AND WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT ACC.VoucherNo,ACC.VersionNo,CONVERT(DATETIME,ACC.DocDate),ACC.DocAbbr,ACC.Amount,NULL,T1.UserName,T3.Name,ACC.CommonNarration,T4.Status,T5.Name,ACC.VoucherNo,ACC.DocAbbr,ACC.DocPrefix,CONVERT(BIGINT,ACC.DocNumber)
 FROM ACC_DocDetails ACC with(nolock) left join ADM_Users T1 with(nolock) on ACC.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on ACC.AccDocDetailsID=TDCC.AccDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on ACC.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (ACC.CostCenterID=41006) AND T4.Status=''Unapproved'' AND ACC.LinkedAccDocDetailsID is null AND WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT ACC.VoucherNo,ACC.VersionNo,CONVERT(DATETIME,ACC.DocDate),ACC.DocAbbr,ACC.Amount,NULL,T1.UserName,T3.Name,ACC.CommonNarration,T4.Status,T5.Name,ACC.VoucherNo,ACC.DocAbbr,ACC.DocPrefix,CONVERT(BIGINT,ACC.DocNumber)
 FROM ACC_DocDetails ACC with(nolock) left join ADM_Users T1 with(nolock) on ACC.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on ACC.AccDocDetailsID=TDCC.AccDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on ACC.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (ACC.CostCenterID=40022) AND T4.Status=''Unapproved'' AND ACC.LinkedAccDocDetailsID is null AND WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT ACC.VoucherNo,ACC.VersionNo,CONVERT(DATETIME,ACC.DocDate),ACC.DocAbbr,ACC.Amount,NULL,T1.UserName,T3.Name,ACC.CommonNarration,T4.Status,T5.Name,ACC.VoucherNo,ACC.DocAbbr,ACC.DocPrefix,CONVERT(BIGINT,ACC.DocNumber)
 FROM ACC_DocDetails ACC with(nolock) left join ADM_Users T1 with(nolock) on ACC.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on ACC.AccDocDetailsID=TDCC.AccDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on ACC.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (ACC.CostCenterID=41075) AND T4.Status=''Unapproved'' AND ACC.LinkedAccDocDetailsID is null AND WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT ACC.VoucherNo,ACC.VersionNo,CONVERT(DATETIME,ACC.DocDate),ACC.DocAbbr,ACC.Amount,NULL,T1.UserName,T3.Name,ACC.CommonNarration,T4.Status,T5.Name,ACC.VoucherNo,ACC.DocAbbr,ACC.DocPrefix,CONVERT(BIGINT,ACC.DocNumber)
 FROM ACC_DocDetails ACC with(nolock) left join ADM_Users T1 with(nolock) on ACC.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on ACC.AccDocDetailsID=TDCC.AccDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on ACC.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (ACC.CostCenterID=41077) AND T4.Status=''Unapproved'' AND ACC.LinkedAccDocDetailsID is null AND WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT ACC.VoucherNo,ACC.VersionNo,CONVERT(DATETIME,ACC.DocDate),ACC.DocAbbr,ACC.Amount,NULL,T1.UserName,T3.Name,ACC.CommonNarration,T4.Status,T5.Name,ACC.VoucherNo,ACC.DocAbbr,ACC.DocPrefix,CONVERT(BIGINT,ACC.DocNumber)
 FROM ACC_DocDetails ACC with(nolock) left join ADM_Users T1 with(nolock) on ACC.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on ACC.AccDocDetailsID=TDCC.AccDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on ACC.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (ACC.CostCenterID=40014) AND T4.Status=''Unapproved'' AND ACC.LinkedAccDocDetailsID is null AND WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT ACC.VoucherNo,ACC.VersionNo,CONVERT(DATETIME,ACC.DocDate),ACC.DocAbbr,ACC.Amount,NULL,T1.UserName,T3.Name,ACC.CommonNarration,T4.Status,T5.Name,ACC.VoucherNo,ACC.DocAbbr,ACC.DocPrefix,CONVERT(BIGINT,ACC.DocNumber)
 FROM ACC_DocDetails ACC with(nolock) left join ADM_Users T1 with(nolock) on ACC.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on ACC.AccDocDetailsID=TDCC.AccDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on ACC.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (ACC.CostCenterID=41065) AND T4.Status=''Unapproved'' AND ACC.LinkedAccDocDetailsID is null AND WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT ACC.VoucherNo,ACC.VersionNo,CONVERT(DATETIME,ACC.DocDate),ACC.DocAbbr,ACC.Amount,NULL,T1.UserName,T3.Name,ACC.CommonNarration,T4.Status,T5.Name,ACC.VoucherNo,ACC.DocAbbr,ACC.DocPrefix,CONVERT(BIGINT,ACC.DocNumber)
 FROM ACC_DocDetails ACC with(nolock) left join ADM_Users T1 with(nolock) on ACC.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on ACC.AccDocDetailsID=TDCC.AccDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on ACC.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (ACC.CostCenterID=40017) AND T4.Status=''Unapproved'' AND ACC.LinkedAccDocDetailsID is null AND WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT INV.VoucherNo,INV.VersionNo,CONVERT(DATETIME,INV.DocDate),INV.DocAbbr,NULL,CASE WHEN (SELECT DocumentType FROM ADM_DocumentTypes WITH(NOLOCK) WHERE CostCenterID=INV.CostCenterID)=38 AND VoucherType=1 THEN -INV.Gross ELSE INV.Gross END,T1.UserName,T3.Name,INV.CommonNarration,T4.Status,T5.Name,INV.VoucherNo,INV.DocAbbr,INV.DocPrefix,CONVERT(BIGINT,INV.DocNumber)
 FROM INV_DocDetails INV with(nolock) left join ADM_Users T1 with(nolock) on INV.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on INV.InvDocDetailsID=TDCC.InvDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on INV.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (INV.CostCenterID=41018) AND T4.Status=''Unapproved'' AND WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef and INV.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT INV.VoucherNo,INV.VersionNo,CONVERT(DATETIME,INV.DocDate),INV.DocAbbr,NULL,CASE WHEN (SELECT DocumentType FROM ADM_DocumentTypes WITH(NOLOCK) WHERE CostCenterID=INV.CostCenterID)=38 AND VoucherType=1 THEN -INV.Gross ELSE INV.Gross END,T1.UserName,T3.Name,INV.CommonNarration,T4.Status,T5.Name,INV.VoucherNo,INV.DocAbbr,INV.DocPrefix,CONVERT(BIGINT,INV.DocNumber)
 FROM INV_DocDetails INV with(nolock) left join ADM_Users T1 with(nolock) on INV.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on INV.InvDocDetailsID=TDCC.InvDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on INV.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (INV.CostCenterID=40011) AND T4.Status=''Unapproved'' AND WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef and INV.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT INV.VoucherNo,INV.VersionNo,CONVERT(DATETIME,INV.DocDate),INV.DocAbbr,NULL,CASE WHEN (SELECT DocumentType FROM ADM_DocumentTypes WITH(NOLOCK) WHERE CostCenterID=INV.CostCenterID)=38 AND VoucherType=1 THEN -INV.Gross ELSE INV.Gross END,T1.UserName,T3.Name,INV.CommonNarration,T4.Status,T5.Name,INV.VoucherNo,INV.DocAbbr,INV.DocPrefix,CONVERT(BIGINT,INV.DocNumber)
 FROM INV_DocDetails INV with(nolock) left join ADM_Users T1 with(nolock) on INV.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on INV.InvDocDetailsID=TDCC.InvDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on INV.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (INV.CostCenterID=41072) AND T4.Status=''Unapproved'' AND WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef and INV.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT INV.VoucherNo,INV.VersionNo,CONVERT(DATETIME,INV.DocDate),INV.DocAbbr,NULL,CASE WHEN (SELECT DocumentType FROM ADM_DocumentTypes WITH(NOLOCK) WHERE CostCenterID=INV.CostCenterID)=38 AND VoucherType=1 THEN -INV.Gross ELSE INV.Gross END,T1.UserName,T3.Name,INV.CommonNarration,T4.Status,T5.Name,INV.VoucherNo,INV.DocAbbr,INV.DocPrefix,CONVERT(BIGINT,INV.DocNumber)
 FROM INV_DocDetails INV with(nolock) left join ADM_Users T1 with(nolock) on INV.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on INV.InvDocDetailsID=TDCC.InvDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on INV.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (INV.CostCenterID=41057) AND T4.Status=''Unapproved'' AND WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef and INV.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT INV.VoucherNo,INV.VersionNo,CONVERT(DATETIME,INV.DocDate),INV.DocAbbr,NULL,CASE WHEN (SELECT DocumentType FROM ADM_DocumentTypes WITH(NOLOCK) WHERE CostCenterID=INV.CostCenterID)=38 AND VoucherType=1 THEN -INV.Gross ELSE INV.Gross END,T1.UserName,T3.Name,INV.CommonNarration,T4.Status,T5.Name,INV.VoucherNo,INV.DocAbbr,INV.DocPrefix,CONVERT(BIGINT,INV.DocNumber)
 FROM INV_DocDetails INV with(nolock) left join ADM_Users T1 with(nolock) on INV.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on INV.InvDocDetailsID=TDCC.InvDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on INV.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (INV.CostCenterID=41060) AND T4.Status=''Unapproved'' AND WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef and INV.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT INV.VoucherNo,INV.VersionNo,CONVERT(DATETIME,INV.DocDate),INV.DocAbbr,NULL,CASE WHEN (SELECT DocumentType FROM ADM_DocumentTypes WITH(NOLOCK) WHERE CostCenterID=INV.CostCenterID)=38 AND VoucherType=1 THEN -INV.Gross ELSE INV.Gross END,T1.UserName,T3.Name,INV.CommonNarration,T4.Status,T5.Name,INV.VoucherNo,INV.DocAbbr,INV.DocPrefix,CONVERT(BIGINT,INV.DocNumber)
 FROM INV_DocDetails INV with(nolock) left join ADM_Users T1 with(nolock) on INV.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on INV.InvDocDetailsID=TDCC.InvDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on INV.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (INV.CostCenterID=40001) AND T4.Status=''Unapproved'' AND WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef and INV.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT INV.VoucherNo,INV.VersionNo,CONVERT(DATETIME,INV.DocDate),INV.DocAbbr,NULL,CASE WHEN (SELECT DocumentType FROM ADM_DocumentTypes WITH(NOLOCK) WHERE CostCenterID=INV.CostCenterID)=38 AND VoucherType=1 THEN -INV.Gross ELSE INV.Gross END,T1.UserName,T3.Name,INV.CommonNarration,T4.Status,T5.Name,INV.VoucherNo,INV.DocAbbr,INV.DocPrefix,CONVERT(BIGINT,INV.DocNumber)
 FROM INV_DocDetails INV with(nolock) left join ADM_Users T1 with(nolock) on INV.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on INV.InvDocDetailsID=TDCC.InvDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on INV.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (INV.CostCenterID=41054) AND T4.Status=''Unapproved'' AND WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef and INV.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT ACC.VoucherNo,ACC.VersionNo,CONVERT(DATETIME,ACC.DocDate),ACC.DocAbbr,ACC.Amount,NULL,T1.UserName,T3.Name,ACC.CommonNarration,T4.Status,T5.Name,ACC.VoucherNo,ACC.DocAbbr,ACC.DocPrefix,CONVERT(BIGINT,ACC.DocNumber)
 FROM ACC_DocDetails ACC with(nolock) left join ADM_Users T1 with(nolock) on ACC.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on ACC.AccDocDetailsID=TDCC.AccDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on ACC.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (ACC.CostCenterID=41033) AND T4.Status=''Unapproved'' AND ACC.LinkedAccDocDetailsID is null AND WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT ACC.VoucherNo,ACC.VersionNo,CONVERT(DATETIME,ACC.DocDate),ACC.DocAbbr,ACC.Amount,NULL,T1.UserName,T3.Name,ACC.CommonNarration,T4.Status,T5.Name,ACC.VoucherNo,ACC.DocAbbr,ACC.DocPrefix,CONVERT(BIGINT,ACC.DocNumber)
 FROM ACC_DocDetails ACC with(nolock) left join ADM_Users T1 with(nolock) on ACC.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on ACC.AccDocDetailsID=TDCC.AccDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on ACC.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (ACC.CostCenterID=40019) AND T4.Status=''Unapproved'' AND ACC.LinkedAccDocDetailsID is null AND WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT ACC.VoucherNo,ACC.VersionNo,CONVERT(DATETIME,ACC.DocDate),ACC.DocAbbr,ACC.Amount,NULL,T1.UserName,T3.Name,ACC.CommonNarration,T4.Status,T5.Name,ACC.VoucherNo,ACC.DocAbbr,ACC.DocPrefix,CONVERT(BIGINT,ACC.DocNumber)
 FROM ACC_DocDetails ACC with(nolock) left join ADM_Users T1 with(nolock) on ACC.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on ACC.AccDocDetailsID=TDCC.AccDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on ACC.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (ACC.CostCenterID=41013) AND T4.Status=''Unapproved'' AND ACC.LinkedAccDocDetailsID is null AND WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef and ACC.CreatedDate+WF.CtWef<=convert(float,getdate()))) ORDER BY [Cdacb59b3f5e54f18b65dfc4cf3186555Abr] ,[Cdacb59b3f5e54f18b65dfc4cf3186555prf] ,[Cdacb59b3f5e54f18b65dfc4cf3186555dno]  
 DROP TABLE #TblUsrWF'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:48:09.736 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTg4NiwiZXhwIjoxNzUyODQ0Njg2LCJpYXQiOjE3NTI4MTU4ODZ9.9BqH6yXjC1Utzx61wW1rVRSqKrJpZW75oiFZ8sUlrYE'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:48:13.017 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:48:13.017 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTc2OSwiZXhwIjoxNzUyODQ0NTY5LCJpYXQiOjE3NTI4MTU3Njl9.c7gMEOmgQTpUzDMWm9ToSXanfrQ3rrXkE-DDeFAoQvg'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:48:14.594 | General Service|:: CompanyIndex:13 SpName: spRPT_GetReportData 
 13
 ,1
 ,'bookin'
 ,'1'
[System: 192.168.1.54] DEBUG | 07-18-2025 10:48:14.594 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTg4NiwiZXhwIjoxNzUyODQ0Njg2LCJpYXQiOjE3NTI4MTU4ODZ9.9BqH6yXjC1Utzx61wW1rVRSqKrJpZW75oiFZ8sUlrYE'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:48:15.563 | General Service|:: CompanyIndex:13 SpName: spRPT_GetReportData 
 13
 ,1
 ,'booking'
 ,'1'
[System: 192.168.1.54] DEBUG | 07-18-2025 10:48:15.578 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTg4NiwiZXhwIjoxNzUyODQ0Njg2LCJpYXQiOjE3NTI4MTU4ODZ9.9BqH6yXjC1Utzx61wW1rVRSqKrJpZW75oiFZ8sUlrYE'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:48:16.406 | General Service|:: CompanyIndex:13 SpName: spDOC_GetDocumentDefinition 
 41025
 ,NULL
 ,NULL
 ,''
 ,1
 ,'admin'
 ,1
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:48:16.422 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTg4NiwiZXhwIjoxNzUyODQ0Njg2LCJpYXQiOjE3NTI4MTU4ODZ9.9BqH6yXjC1Utzx61wW1rVRSqKrJpZW75oiFZ8sUlrYE'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:48:16.469 | General Service|:: CompanyIndex:13 SpName: spDoc_GetCurrencyExchangeRate 
 1
 ,'18-Jul-2025'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:48:16.469 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTg4NiwiZXhwIjoxNzUyODQ0Njg2LCJpYXQiOjE3NTI4MTU4ODZ9.9BqH6yXjC1Utzx61wW1rVRSqKrJpZW75oiFZ8sUlrYE'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:48:16.500 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'SELECT Code FROM COM_Location WITH(NOLOCK) WHERE NodeID=27'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:48:16.500 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTg4NiwiZXhwIjoxNzUyODQ0Njg2LCJpYXQiOjE3NTI4MTU4ODZ9.9BqH6yXjC1Utzx61wW1rVRSqKrJpZW75oiFZ8sUlrYE'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:48:16.516 | General Service|:: CompanyIndex:13 SpName: spDOC_GetDocumentPrefix 
 41025
 ,27
 ,''
 ,''
 ,'1'
 ,'1'
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:48:16.516 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTg4NiwiZXhwIjoxNzUyODQ0Njg2LCJpYXQiOjE3NTI4MTU4ODZ9.9BqH6yXjC1Utzx61wW1rVRSqKrJpZW75oiFZ8sUlrYE'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:48:16.531 | General Service|:: CompanyIndex:13 SpName: spDOC_GetDueDate 
 55687
 ,27
 ,0
 ,0
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:48:16.531 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTg4NiwiZXhwIjoxNzUyODQ0Njg2LCJpYXQiOjE3NTI4MTU4ODZ9.9BqH6yXjC1Utzx61wW1rVRSqKrJpZW75oiFZ8sUlrYE'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:48:16.547 | General Service|:: CompanyIndex:13 SpName: spDOC_GetCurrentCodeNumber 
 41025
 ,'023/25/'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:48:16.547 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTg4NiwiZXhwIjoxNzUyODQ0Njg2LCJpYXQiOjE3NTI4MTU4ODZ9.9BqH6yXjC1Utzx61wW1rVRSqKrJpZW75oiFZ8sUlrYE'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:48:16.578 | General Service|:: CompanyIndex:13 SpName: spDOC_GetLinkReferenceData 
 566117
 ,41025
 ,55687
 ,'18/Jul/2025'
 ,55687
 ,'<XML><Row CostCenterID="50011" NODEID="1" /><Row CostCenterID="50002" NODEID="27" /><Row CostCenterID="50058" NODEID="1" /><Row CostCenterID="50059" NODEID="1" /><Row CostCenterID="50061" NODEID="11" /><Row CostCenterID="50062" NODEID="1" /></XML>'
 ,False
 ,'0'
 ,'0'
 ,'0'
 ,NULL
 ,'0'
 ,'0'
 ,'0'
 ,''
 ,'1'
 ,1
 ,'1'
[System: 192.168.1.54] DEBUG | 07-18-2025 10:48:16.578 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTg4NiwiZXhwIjoxNzUyODQ0Njg2LCJpYXQiOjE3NTI4MTU4ODZ9.9BqH6yXjC1Utzx61wW1rVRSqKrJpZW75oiFZ8sUlrYE'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:48:16.609 | General Service|:: CompanyIndex:13 SpName: spADM_GetListViewDataByIDs 
 '<XML><Row CCID="50011"  TypeID="1"  DBColumnID="566213"  NodeID="1" /><Row CCID="2"  TypeID="10"  DBColumnID="566117"  NodeID="55687" /><Row CCID="2"  TypeID="100"  DBColumnID="566117"  NodeID="55687" /><Row CCID="2"  TypeID="10"  DBColumnID="566254"  NodeID="3" /><Row CCID="2"  TypeID="100"  DBColumnID="566254"  NodeID="3" /><Row CCID="50011"  TypeID="1"  DBColumnID="566213"  NodeID="1" /><Row CCID="50002"  TypeID="1"  DBColumnID="566204"  NodeID="27" /><Row CCID="50058"  TypeID="1"  DBColumnID="583442"  NodeID="1" /><Row CCID="50059"  TypeID="1"  DBColumnID="583494"  NodeID="1" /><Row CCID="50061"  TypeID="11"  DBColumnID="583598"  NodeID="11" /><Row CCID="50062"  TypeID="1"  DBColumnID="583650"  NodeID="1" /><Row CCID="50058"  TypeID="1"  DBColumnID="583713"  NodeID="1" /></XML>'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:48:16.609 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTg4NiwiZXhwIjoxNzUyODQ0Njg2LCJpYXQiOjE3NTI4MTU4ODZ9.9BqH6yXjC1Utzx61wW1rVRSqKrJpZW75oiFZ8sUlrYE'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:48:16.641 | General Service|:: CompanyIndex:13 SpName: spADM_GetListViewDataByIDs 
 '<XML><Row CCID="50011"  TypeID="1"  DBColumnID="566213"  NodeID="1" /><Row CCID="2"  TypeID="10"  DBColumnID="566117"  NodeID="55687" /><Row CCID="2"  TypeID="100"  DBColumnID="566117"  NodeID="55687" /><Row CCID="2"  TypeID="10"  DBColumnID="566254"  NodeID="3" /><Row CCID="2"  TypeID="100"  DBColumnID="566254"  NodeID="3" /><Row CCID="50011"  TypeID="1"  DBColumnID="566213"  NodeID="1" /><Row CCID="50002"  TypeID="1"  DBColumnID="566204"  NodeID="27" /><Row CCID="50058"  TypeID="1"  DBColumnID="583442"  NodeID="1" /><Row CCID="50059"  TypeID="1"  DBColumnID="583494"  NodeID="1" /><Row CCID="50061"  TypeID="11"  DBColumnID="583598"  NodeID="11" /><Row CCID="50062"  TypeID="1"  DBColumnID="583650"  NodeID="1" /><Row CCID="50058"  TypeID="1"  DBColumnID="583713"  NodeID="1" /></XML>'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:48:16.641 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTg4NiwiZXhwIjoxNzUyODQ0Njg2LCJpYXQiOjE3NTI4MTU4ODZ9.9BqH6yXjC1Utzx61wW1rVRSqKrJpZW75oiFZ8sUlrYE'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:48:16.656 | General Service|:: CompanyIndex:13 SpName: spDOC_GetLinkReferenceData 
 566117
 ,41025
 ,55687
 ,'18/Jul/2025'
 ,55687
 ,'<XML><Row CostCenterID="50011" NODEID="1" /><Row CostCenterID="50002" NODEID="27" /><Row CostCenterID="50058" NODEID="1" /><Row CostCenterID="50059" NODEID="1" /><Row CostCenterID="50061" NODEID="11" /><Row CostCenterID="50062" NODEID="1" /></XML>'
 ,False
 ,'0'
 ,'0'
 ,'0'
 ,NULL
 ,'0'
 ,'0'
 ,'0'
 ,''
 ,'1'
 ,1
 ,'1'
[System: 192.168.1.54] DEBUG | 07-18-2025 10:48:16.656 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTg4NiwiZXhwIjoxNzUyODQ0Njg2LCJpYXQiOjE3NTI4MTU4ODZ9.9BqH6yXjC1Utzx61wW1rVRSqKrJpZW75oiFZ8sUlrYE'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:48:16.688 | General Service|:: CompanyIndex:13 SpName: spADM_GetListViewDataByIDs 
 '<XML><Row CCID="50011"  TypeID="1"  DBColumnID="566213"  NodeID="1" /><Row CCID="2"  TypeID="10"  DBColumnID="566117"  NodeID="55687" /><Row CCID="2"  TypeID="100"  DBColumnID="566117"  NodeID="55687" /><Row CCID="2"  TypeID="10"  DBColumnID="566254"  NodeID="3" /><Row CCID="2"  TypeID="100"  DBColumnID="566254"  NodeID="3" /><Row CCID="50011"  TypeID="1"  DBColumnID="566213"  NodeID="1" /><Row CCID="50002"  TypeID="1"  DBColumnID="566204"  NodeID="27" /><Row CCID="50058"  TypeID="1"  DBColumnID="583442"  NodeID="1" /><Row CCID="50059"  TypeID="1"  DBColumnID="583494"  NodeID="1" /><Row CCID="50061"  TypeID="11"  DBColumnID="583598"  NodeID="11" /><Row CCID="50062"  TypeID="1"  DBColumnID="583650"  NodeID="1" /><Row CCID="50058"  TypeID="1"  DBColumnID="583713"  NodeID="1" /></XML>'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:48:16.688 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTg4NiwiZXhwIjoxNzUyODQ0Njg2LCJpYXQiOjE3NTI4MTU4ODZ9.9BqH6yXjC1Utzx61wW1rVRSqKrJpZW75oiFZ8sUlrYE'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:48:16.735 | General Service|:: CompanyIndex:13 SpName: spADM_GetCostCenterListViewData 
 500055
 ,'a.Name,a.Code,a.ccAlpha11'
 ,''
 ,''
 ,'Name'
 ,''
 ,60
 ,False
 ,''
 ,''
 ,''
 ,''
 ,''
 ,0
 ,False
 ,''
 ,''
 ,'1'
 ,'1'
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:48:16.735 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTg4NiwiZXhwIjoxNzUyODQ0Njg2LCJpYXQiOjE3NTI4MTU4ODZ9.9BqH6yXjC1Utzx61wW1rVRSqKrJpZW75oiFZ8sUlrYE'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:48:19.046 | General Service|:: CompanyIndex:13 SpName: spDOC_GetInvDocument 
 41025
 ,'023/25/'
 ,'116'
 ,'1'
 ,0
 ,' and (a.CostCenterID=c.DocumentID or c.DocumentID=1) and (b.dcCCNID2=c.CCNID2 or c.CCNID2=0)'
 ,1
 ,1
 ,'admin'
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:48:19.046 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTg4NiwiZXhwIjoxNzUyODQ0Njg2LCJpYXQiOjE3NTI4MTU4ODZ9.9BqH6yXjC1Utzx61wW1rVRSqKrJpZW75oiFZ8sUlrYE'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:48:19.078 | General Service|:: CompanyIndex:13 SpName: spADM_GetListViewDataByIDs 
 '<XML><Row CCID="50011"  TypeID="1"  DBColumnID="566213"  NodeID="1" /><Row CCID="2"  TypeID="10"  DBColumnID="566117"  NodeID="55687" /><Row CCID="2"  TypeID="100"  DBColumnID="566117"  NodeID="55687" /><Row CCID="2"  TypeID="10"  DBColumnID="566254"  NodeID="3" /><Row CCID="2"  TypeID="100"  DBColumnID="566254"  NodeID="3" /><Row CCID="50014"  TypeID="4"  DBColumnID="566216"  NodeID="10367" /><Row CCID="50009"  TypeID="3"  DBColumnID="566211"  NodeID="10570" /><Row CCID="50010"  TypeID="3"  DBColumnID="566212"  NodeID="51889" /><Row CCID="50018"  TypeID="1"  DBColumnID="566220"  NodeID="135" /><Row CCID="50070"  TypeID="1"  DBColumnID="598043"  NodeID="4" /><Row CCID="50011"  TypeID="1"  DBColumnID="566213"  NodeID="1" /><Row CCID="50014"  TypeID="4"  DBColumnID="566216"  NodeID="10367" /><Row CCID="50009"  TypeID="3"  DBColumnID="566211"  NodeID="10570" /><Row CCID="50010"  TypeID="3"  DBColumnID="566212"  NodeID="51889" /><Row CCID="50018"  TypeID="1"  DBColumnID="566220"  NodeID="135" /><Row CCID="50070"  TypeID="1"  DBColumnID="598043"  NodeID="4" /><Row CCID="50002"  TypeID="1"  DBColumnID="566204"  NodeID="27" /><Row CCID="50058"  TypeID="1"  DBColumnID="583442"  NodeID="1" /><Row CCID="50059"  TypeID="1"  DBColumnID="583494"  NodeID="1" /><Row CCID="50061"  TypeID="11"  DBColumnID="583598"  NodeID="11" /><Row CCID="50062"  TypeID="1"  DBColumnID="583650"  NodeID="1" /><Row CCID="50058"  TypeID="1"  DBColumnID="583713"  NodeID="1" /><Row CCID="44"  TypeID="122"  DBColumnID="566171"  NodeID="641" /><Row CCID="50060"  TypeID="1"  DBColumnID="583546"  NodeID="1" /></XML>'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:48:19.078 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTg4NiwiZXhwIjoxNzUyODQ0Njg2LCJpYXQiOjE3NTI4MTU4ODZ9.9BqH6yXjC1Utzx61wW1rVRSqKrJpZW75oiFZ8sUlrYE'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:48:19.109 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select ParentNodeID NodeID from COM_CostCenterCostCenterMap where CostCenterID in (8,300) and ParentCostCenterId=50033 and NodeID=41025'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:48:19.109 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTg4NiwiZXhwIjoxNzUyODQ0Njg2LCJpYXQiOjE3NTI4MTU4ODZ9.9BqH6yXjC1Utzx61wW1rVRSqKrJpZW75oiFZ8sUlrYE'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:48:19.125 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select ParentNodeID NodeID from COM_CostCenterCostCenterMap where CostCenterID in (8,300) and ParentCostCenterId=50033 and NodeID=41025'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:48:19.125 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTg4NiwiZXhwIjoxNzUyODQ0Njg2LCJpYXQiOjE3NTI4MTU4ODZ9.9BqH6yXjC1Utzx61wW1rVRSqKrJpZW75oiFZ8sUlrYE'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:48:19.140 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select ParentNodeID NodeID from COM_CostCenterCostCenterMap where CostCenterID in (8,300) and ParentCostCenterId=50033 and NodeID=41025'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:48:19.140 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTg4NiwiZXhwIjoxNzUyODQ0Njg2LCJpYXQiOjE3NTI4MTU4ODZ9.9BqH6yXjC1Utzx61wW1rVRSqKrJpZW75oiFZ8sUlrYE'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:48:19.156 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select ParentNodeID NodeID from COM_CostCenterCostCenterMap where CostCenterID in (8,300) and ParentCostCenterId=50033 and NodeID=41025'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:48:19.156 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTg4NiwiZXhwIjoxNzUyODQ0Njg2LCJpYXQiOjE3NTI4MTU4ODZ9.9BqH6yXjC1Utzx61wW1rVRSqKrJpZW75oiFZ8sUlrYE'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:48:19.172 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select ParentNodeID NodeID from COM_CostCenterCostCenterMap where CostCenterID in (8,300) and ParentCostCenterId=50033 and NodeID=41025'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:48:19.172 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTg4NiwiZXhwIjoxNzUyODQ0Njg2LCJpYXQiOjE3NTI4MTU4ODZ9.9BqH6yXjC1Utzx61wW1rVRSqKrJpZW75oiFZ8sUlrYE'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:48:19.187 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select ParentNodeID NodeID from COM_CostCenterCostCenterMap where CostCenterID in (8,300) and ParentCostCenterId=50033 and NodeID=41025'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:48:19.187 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTg4NiwiZXhwIjoxNzUyODQ0Njg2LCJpYXQiOjE3NTI4MTU4ODZ9.9BqH6yXjC1Utzx61wW1rVRSqKrJpZW75oiFZ8sUlrYE'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:48:19.203 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select ParentNodeID NodeID from COM_CostCenterCostCenterMap where CostCenterID in (8,300) and ParentCostCenterId=50033 and NodeID=41025'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:48:19.203 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTg4NiwiZXhwIjoxNzUyODQ0Njg2LCJpYXQiOjE3NTI4MTU4ODZ9.9BqH6yXjC1Utzx61wW1rVRSqKrJpZW75oiFZ8sUlrYE'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:48:19.218 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select ParentNodeID NodeID from COM_CostCenterCostCenterMap where CostCenterID in (8,300) and ParentCostCenterId=50033 and NodeID=41025'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:48:19.218 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTg4NiwiZXhwIjoxNzUyODQ0Njg2LCJpYXQiOjE3NTI4MTU4ODZ9.9BqH6yXjC1Utzx61wW1rVRSqKrJpZW75oiFZ8sUlrYE'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:48:19.234 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select ParentNodeID NodeID from COM_CostCenterCostCenterMap where CostCenterID in (8,300) and ParentCostCenterId=50033 and NodeID=41025'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:48:19.234 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTg4NiwiZXhwIjoxNzUyODQ0Njg2LCJpYXQiOjE3NTI4MTU4ODZ9.9BqH6yXjC1Utzx61wW1rVRSqKrJpZW75oiFZ8sUlrYE'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:48:19.249 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select ParentNodeID NodeID from COM_CostCenterCostCenterMap where CostCenterID in (8,300) and ParentCostCenterId=50033 and NodeID=41025'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:48:19.249 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTg4NiwiZXhwIjoxNzUyODQ0Njg2LCJpYXQiOjE3NTI4MTU4ODZ9.9BqH6yXjC1Utzx61wW1rVRSqKrJpZW75oiFZ8sUlrYE'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:48:19.265 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select ParentNodeID NodeID from COM_CostCenterCostCenterMap where CostCenterID in (8,300) and ParentCostCenterId=50033 and NodeID=41025'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:48:19.265 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTg4NiwiZXhwIjoxNzUyODQ0Njg2LCJpYXQiOjE3NTI4MTU4ODZ9.9BqH6yXjC1Utzx61wW1rVRSqKrJpZW75oiFZ8sUlrYE'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:48:19.281 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select ParentNodeID NodeID from COM_CostCenterCostCenterMap where CostCenterID in (8,300) and ParentCostCenterId=50033 and NodeID=41025'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:48:19.281 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTg4NiwiZXhwIjoxNzUyODQ0Njg2LCJpYXQiOjE3NTI4MTU4ODZ9.9BqH6yXjC1Utzx61wW1rVRSqKrJpZW75oiFZ8sUlrYE'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:48:19.296 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select ParentNodeID NodeID from COM_CostCenterCostCenterMap where CostCenterID in (8,300) and ParentCostCenterId=50033 and NodeID=41025'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:48:19.296 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTg4NiwiZXhwIjoxNzUyODQ0Njg2LCJpYXQiOjE3NTI4MTU4ODZ9.9BqH6yXjC1Utzx61wW1rVRSqKrJpZW75oiFZ8sUlrYE'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:48:19.390 | General Service|:: CompanyIndex:13 SpName: spADM_GetCostCenterListViewData 
 362
 ,'a.Name,a.Code'
 ,''
 ,''
 ,'Name'
 ,''
 ,60
 ,False
 ,''
 ,''
 ,'(CCNID9=10570)'
 ,''
 ,''
 ,0
 ,False
 ,''
 ,''
 ,'1'
 ,'1'
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:48:19.390 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTg4NiwiZXhwIjoxNzUyODQ0Njg2LCJpYXQiOjE3NTI4MTU4ODZ9.9BqH6yXjC1Utzx61wW1rVRSqKrJpZW75oiFZ8sUlrYE'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 10:48:44.292 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 10:48:44.292 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:49:09.021 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:49:09.021 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTg4NiwiZXhwIjoxNzUyODQ0Njg2LCJpYXQiOjE3NTI4MTU4ODZ9.9BqH6yXjC1Utzx61wW1rVRSqKrJpZW75oiFZ8sUlrYE'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:49:13.020 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:49:13.020 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTc2OSwiZXhwIjoxNzUyODQ0NTY5LCJpYXQiOjE3NTI4MTU3Njl9.c7gMEOmgQTpUzDMWm9ToSXanfrQ3rrXkE-DDeFAoQvg'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 10:49:44.295 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 10:49:44.310 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:50:09.024 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:50:09.602 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTg4NiwiZXhwIjoxNzUyODQ0Njg2LCJpYXQiOjE3NTI4MTU4ODZ9.9BqH6yXjC1Utzx61wW1rVRSqKrJpZW75oiFZ8sUlrYE'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:50:13.024 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:50:13.024 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTc2OSwiZXhwIjoxNzUyODQ0NTY5LCJpYXQiOjE3NTI4MTU3Njl9.c7gMEOmgQTpUzDMWm9ToSXanfrQ3rrXkE-DDeFAoQvg'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 10:50:44.298 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 10:50:44.298 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:51:09.028 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:51:09.028 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTg4NiwiZXhwIjoxNzUyODQ0Njg2LCJpYXQiOjE3NTI4MTU4ODZ9.9BqH6yXjC1Utzx61wW1rVRSqKrJpZW75oiFZ8sUlrYE'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:51:12.027 | General Service|:: CompanyIndex:13 SpName: spCOM_ConfigValues 
 1
 ,'NotifTime'
 ,''
[System: 192.168.1.54] DEBUG | 07-18-2025 10:51:12.027 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTc2OSwiZXhwIjoxNzUyODQ0NTY5LCJpYXQiOjE3NTI4MTU3Njl9.c7gMEOmgQTpUzDMWm9ToSXanfrQ3rrXkE-DDeFAoQvg'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:51:13.027 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:51:13.027 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTc2OSwiZXhwIjoxNzUyODQ0NTY5LCJpYXQiOjE3NTI4MTU3Njl9.c7gMEOmgQTpUzDMWm9ToSXanfrQ3rrXkE-DDeFAoQvg'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 10:51:43.427 | General Service|:: CompanyIndex:13 SpName: spCOM_ConfigValues 
 1
 ,'NotifTime'
 ,''
[System: 192.168.1.79] DEBUG | 07-18-2025 10:51:43.427 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 10:51:44.317 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 10:51:44.317 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:52:09.015 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:52:09.015 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTg4NiwiZXhwIjoxNzUyODQ0Njg2LCJpYXQiOjE3NTI4MTU4ODZ9.9BqH6yXjC1Utzx61wW1rVRSqKrJpZW75oiFZ8sUlrYE'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:52:13.030 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:52:13.030 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTc2OSwiZXhwIjoxNzUyODQ0NTY5LCJpYXQiOjE3NTI4MTU3Njl9.c7gMEOmgQTpUzDMWm9ToSXanfrQ3rrXkE-DDeFAoQvg'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 10:52:44.289 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 10:52:44.289 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:53:01.489 | General Service|:: CompanyIndex:0 SpName: spADM_GetClientUserDetails2C 
 'admin'
 ,1
 ,0
[System: 192.168.1.54] DEBUG | 07-18-2025 10:53:01.520 | General Service|:: CompanyIndex:0 SpName: spADM_UserLoginCheck 
 2
 ,'admin'
 ,0
 ,'192.168.1.54'
 ,'192.168.1.54'
 ,''
 ,'Web'
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:53:05.847 | General Service|:: CompanyIndex:13 SpName: spADM_GetClientUserDetails 
 'admin'
 ,1
 ,'26.1.0'
 ,0
[System: 192.168.1.54] DEBUG | 07-18-2025 10:53:05.878 | General Service|:: CompanyIndex:0 SpName: spADM_UserLoginCheck 
 2
 ,'admin'
 ,13
 ,'192.168.1.54'
 ,'192.168.1.54'
 ,''
 ,'Web'
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:53:05.894 | General Service|:: CompanyIndex:0 SpName: spADM_Login 
 1
 ,''
 ,''
 ,''
 ,''
 ,''
 ,13
[System: 192.168.1.54] DEBUG | 07-18-2025 10:53:05.894 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select Value from ADM_GlobalPreferences with (nolock) where name =''EnableReLogin'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:53:05.894 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNjE4NSwiZXhwIjoxNzUyODQ0OTg1LCJpYXQiOjE3NTI4MTYxODV9.lMpaEkMnL8ilIjd9RdZ63X-xoCAnZWw32XDLJaX8HZQ'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:53:05.941 | General Service|:: CompanyIndex:0 SpName: spADM_Login 
 4
 ,''
 ,''
 ,''
 ,'declare @Cnt int,@ExpiredGUID nvarchar(50),@AllowSession int,@GUID nvarchar(50),@CurrDate float,@UserID INT,@Instances INT,@InstancesExists INT,@LCDBIndex int
set @CurrDate= convert(float,dateadd(minute,-21,getdate()))
set @AllowSession=0
set @GUID=''1563ce79-861f-48a3-8c4f-908467b94375''
set @LCDBIndex=0
select top 1 @UserID=UserID,@Instances=InstanceCount from ADM_Users with(nolock) where UserName=''admin''
if exists(select [GUID] from ADM_Login with(nolock) where [GUID]=@GUID)
begin
	update ADM_Login 
	set LastAccessTime=convert(float,getdate()),UserID=@UserID
	where [GUID]=@GUID
    set @AllowSession=1
end
else
begin
	select @Cnt=count(*) from ADM_Login with(nolock) where LCDBIndex=@LCDBIndex and [GUID]!=''ACCESSRIGHTS'' and AP =''WEB''
    if(@Cnt<100)
		set @AllowSession=1
	else
	begin
		select top 1 @ExpiredGUID=[GUID] from ADM_Login with(nolock)
		where [GUID]!=''ACCESSRIGHTS'' and LCDBIndex=@LCDBIndex and LastAccessTime<@CurrDate  and AP =''WEB''
        order by LastAccessTime asc
		if @ExpiredGUID is not null
		begin
			delete from ADM_Login where [GUID]=@ExpiredGUID
			set @AllowSession=1
		end
	end
	if @AllowSession=1
	begin
        select @InstancesExists=COUNT(*) from ADM_Login with(nolock)
		where [GUID]!=''ACCESSRIGHTS'' and LCDBIndex=@LCDBIndex and LastAccessTime>=@CurrDate and UserID=@UserID and AP =''WEB''
		if(@Instances!=0 and @Instances<=@InstancesExists)
			set @AllowSession=2
		else
		    INSERT INTO ADM_Login([GUID],[SysName],IPAddress,[Status],LoginTime,LastAccessTime,AccessRights,UserID,DBIndex,LCDBIndex,AP)
		    VALUES(@GUID,''WEB'',''192.168.1.54'',1,convert(float,getdate()),convert(float,getdate()),null,@UserID,13,@LCDBIndex, ''WEB'')
	end
end

select @AllowSession AllowSession,@Instances Instances,@InstancesExists InstancesExists
'
 ,''
 ,0
[System: 192.168.1.54] DEBUG | 07-18-2025 10:53:05.941 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNjE4NSwiZXhwIjoxNzUyODQ0OTg1LCJpYXQiOjE3NTI4MTYxODV9.lMpaEkMnL8ilIjd9RdZ63X-xoCAnZWw32XDLJaX8HZQ'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:53:05.957 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'SELECT (SELECT COUNT(*) FROM COM_Location L WITH(NOLOCK) JOIN COM_Status S WITH(NOLOCK) ON S.StatusID=L.StatusID WHERE L.IsGroup=0 AND S.[Status]=''Active'') ML
,(SELECT COUNT(*) FROM ADM_Features WITH(NOLOCK) WHERE ((FeatureID>50000 AND FeatureID<=50050) OR FeatureID>=51000) AND IsEnabled=1) MD
,(SELECT ISNULL(COUNT(*),0) FROM ADM_RevenUReports WITH(NOLOCK) WHERE IsGroup=0 AND ReportID>10000 AND StaticReportType IN (0,-1)) MR'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:53:05.972 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNjE4NSwiZXhwIjoxNzUyODQ0OTg1LCJpYXQiOjE3NTI4MTYxODV9.lMpaEkMnL8ilIjd9RdZ63X-xoCAnZWw32XDLJaX8HZQ'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:53:07.659 | General Service|:: CompanyIndex:13 SpName: spCOM_ConfigValues 
 1
 ,'NotifTime'
 ,''
[System: 192.168.1.54] DEBUG | 07-18-2025 10:53:07.659 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNjE4NSwiZXhwIjoxNzUyODQ0OTg1LCJpYXQiOjE3NTI4MTYxODV9.lMpaEkMnL8ilIjd9RdZ63X-xoCAnZWw32XDLJaX8HZQ'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:53:07.847 | General Service|:: CompanyIndex:13 SpName: spADM_GetRibbonView 
 1
 ,1
 ,1
 ,1
 ,0
 ,''
[System: 192.168.1.54] DEBUG | 07-18-2025 10:53:07.847 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNjE4NSwiZXhwIjoxNzUyODQ0OTg1LCJpYXQiOjE3NTI4MTYxODV9.lMpaEkMnL8ilIjd9RdZ63X-xoCAnZWw32XDLJaX8HZQ'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:53:08.050 | General Service|:: CompanyIndex:13 SpName: spRPT_GetReport 
 2
 ,0
 ,'1'
 ,'1'
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:53:08.050 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNjE4NSwiZXhwIjoxNzUyODQ0OTg1LCJpYXQiOjE3NTI4MTYxODV9.lMpaEkMnL8ilIjd9RdZ63X-xoCAnZWw32XDLJaX8HZQ'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:53:08.065 | General Service|:: CompanyIndex:13 SpName: spADM_GetDashBoard 
 2
 ,0
 ,0
 ,'1'
 ,'1'
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:53:08.065 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNjE4NSwiZXhwIjoxNzUyODQ0OTg1LCJpYXQiOjE3NTI4MTYxODV9.lMpaEkMnL8ilIjd9RdZ63X-xoCAnZWw32XDLJaX8HZQ'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:53:08.081 | General Service|:: CompanyIndex:13 SpName: spCOM_ConfigValues 
 1
 ,'LandingDocs'
 ,'1'
[System: 192.168.1.54] DEBUG | 07-18-2025 10:53:08.081 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNjE4NSwiZXhwIjoxNzUyODQ0OTg1LCJpYXQiOjE3NTI4MTYxODV9.lMpaEkMnL8ilIjd9RdZ63X-xoCAnZWw32XDLJaX8HZQ'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:53:08.128 | General Service|:: CompanyIndex:13 SpName: spADM_GetAllListViewsDef 
 1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:53:08.128 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNjE4NSwiZXhwIjoxNzUyODQ0OTg1LCJpYXQiOjE3NTI4MTYxODV9.lMpaEkMnL8ilIjd9RdZ63X-xoCAnZWw32XDLJaX8HZQ'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:53:08.128 | General Service|:: CompanyIndex:13 SpName: spCOM_GetFavorites 
 'GETLIST0'
 ,0
 ,'1'
 ,'1'
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:53:08.128 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNjE4NSwiZXhwIjoxNzUyODQ0OTg1LCJpYXQiOjE3NTI4MTYxODV9.lMpaEkMnL8ilIjd9RdZ63X-xoCAnZWw32XDLJaX8HZQ'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:53:08.206 | General Service|:: CompanyIndex:13 SpName: spADM_GetAllListViewsDef 
 1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:53:08.206 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNjE4NSwiZXhwIjoxNzUyODQ0OTg1LCJpYXQiOjE3NTI4MTYxODV9.lMpaEkMnL8ilIjd9RdZ63X-xoCAnZWw32XDLJaX8HZQ'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:53:08.315 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'Select CostCenterID,CostCenterColID,CostCenterName,SysTableName,UserColumnName,SysColumnName,ISNULL(UserDefaultValue,'''') UserDefaultValue
From AdM_CostCenterDef WITH(NOLOCK)
Where SysColumnName IN(''CreditAccount'',''DebitAccount'',''ProductID'') 
AND CostCenterID>40000 AND CostCenterID<50000 

SELECT * FROM ADM_Features WITH(NOLOCK) '
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:53:08.315 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNjE4NSwiZXhwIjoxNzUyODQ0OTg1LCJpYXQiOjE3NTI4MTYxODV9.lMpaEkMnL8ilIjd9RdZ63X-xoCAnZWw32XDLJaX8HZQ'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:53:08.347 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 '  SELECT * FROM PAY_PayrollPreferences WITH(NOLOCK) '
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:53:08.362 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNjE4NSwiZXhwIjoxNzUyODQ0OTg1LCJpYXQiOjE3NTI4MTYxODV9.lMpaEkMnL8ilIjd9RdZ63X-xoCAnZWw32XDLJaX8HZQ'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:53:08.378 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 '  --0
                                Select * FROM COM_CC50051 WITH(NOLOCK) WHERE IsGroup=0 AND LoginUserID=''admin''
                                --1                                
                                Select * FROM COM_CC50051 WITH(NOLOCK) WHERE RptManager IN (Select NodeID FROM COM_CC50051 WITH(NOLOCK) WHERE IsGroup=0 AND LoginUserID=''admin'')
                                UNION ALL
                                Select * FROM COM_CC50051 WITH(NOLOCK) WHERE RptManager IN 
                                (
	                                Select NodeID FROM COM_CC50051 WITH(NOLOCK) 
	                                WHERE IsGroup=0 AND LoginUserID IN
	                                (
	                                SELECT fe.LoginUserID
	                                FROM INV_DocDetails a WITH(NOLOCK) 
	                                JOIN COM_DocCCData b WITH(NOLOCK) ON b.InvDocDetailsID=a.InvDocDetailsID
	                                JOIN COM_DocNumData c WITH(NOLOCK) ON c.InvDocDetailsID=a.InvDocDetailsID
	                                JOIN COM_DocTextData d WITH(NOLOCK) ON d.InvDocDetailsID=a.InvDocDetailsID
	                                JOIN COM_CC50051 fe WITH(NOLOCK) on fe.NodeID=b.dcCCNID51
	                                JOIN COM_CC50051 te WITH(NOLOCK) on CONVERT(NVARCHAR,te.NodeID)=d.dcAlpha1
	                                WHERE a.CostCenterID=40098 and a.StatusID=369 AND d.dcAlpha3=''Temporary''
	                                AND te.LoginUserID=''admin'' 
	                                AND ISDATE(d.dcAlpha4)=1 AND ISDATE(d.dcAlpha5)=1 
	                                AND CONVERT(DATETIME,''18 Jul 2025'') BETWEEN CONVERT(DATETIME,d.dcAlpha4) AND CONVERT(DATETIME,d.dcAlpha5)
	                                )
                                )
                                --2
                                Select * FROM ADM_USERS WITH(NOLOCK) WHERE USERID=1
                                --3
                                Select * FROM COM_CostCenterCostCenterMap WITH(NOLOCK) WHERE ParentCostCenterID=7 AND ParentNodeID=1
                                --4                                
                                Select * FROM COM_CostCenterCostCenterMap WITH(NOLOCK) WHERE ParentCostCenterID=7 AND ParentNodeID=1
                                AND CostCenterID IN(Select ColumnCostCenterID From ADM_CostCenterDef Where CostCenterID=50051 AND IsColumnInUse=1 AND SysColumnName LIKE ''CCNID%'')
                                --5
                                Select * from COM_Files WITH(NOLOCK) WHERE FeatureID=50051 AND FeaturePK IN (Select NodeID FROM COM_CC50051 WITH(NOLOCK) WHERE IsGroup=0 AND LoginUserID=''admin'')                         
'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:53:08.378 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNjE4NSwiZXhwIjoxNzUyODQ0OTg1LCJpYXQiOjE3NTI4MTYxODV9.lMpaEkMnL8ilIjd9RdZ63X-xoCAnZWw32XDLJaX8HZQ'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:53:08.503 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:53:08.503 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNjE4NSwiZXhwIjoxNzUyODQ0OTg1LCJpYXQiOjE3NTI4MTYxODV9.lMpaEkMnL8ilIjd9RdZ63X-xoCAnZWw32XDLJaX8HZQ'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:53:08.753 | General Service|:: CompanyIndex:13 SpName: spADM_GetDashBoard 
 1
 ,8
 ,0
 ,'1'
 ,'1'
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:53:08.753 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNjE4NSwiZXhwIjoxNzUyODQ0OTg1LCJpYXQiOjE3NTI4MTYxODV9.lMpaEkMnL8ilIjd9RdZ63X-xoCAnZWw32XDLJaX8HZQ'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:53:08.768 | General Service|:: CompanyIndex:13 SpName: spRPT_GetReport 
 0
 ,30456
 ,'1'
 ,'1'
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:53:08.768 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNjE4NSwiZXhwIjoxNzUyODQ0OTg1LCJpYXQiOjE3NTI4MTYxODV9.lMpaEkMnL8ilIjd9RdZ63X-xoCAnZWw32XDLJaX8HZQ'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:53:08.847 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'SELECT StaticReportType FROM ADM_RevenUReports WITH(NOLOCK) WHERE ReportID=30456'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:53:08.847 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNjE4NSwiZXhwIjoxNzUyODQ0OTg1LCJpYXQiOjE3NTI4MTYxODV9.lMpaEkMnL8ilIjd9RdZ63X-xoCAnZWw32XDLJaX8HZQ'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:53:08.971 | General Service|:: CompanyIndex:13 SpName: spRPT_GetReportCategoryandField 
 -1
 ,0
 ,1
 ,0
 ,'1'
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:53:08.971 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNjE4NSwiZXhwIjoxNzUyODQ0OTg1LCJpYXQiOjE3NTI4MTYxODV9.lMpaEkMnL8ilIjd9RdZ63X-xoCAnZWw32XDLJaX8HZQ'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:53:09.018 | General Service|:: CompanyIndex:13 SpName: spRPT_GetReportFields 
 400
 ,0
 ,'1'
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:53:09.018 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNjE4NSwiZXhwIjoxNzUyODQ0OTg1LCJpYXQiOjE3NTI4MTYxODV9.lMpaEkMnL8ilIjd9RdZ63X-xoCAnZWw32XDLJaX8HZQ'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:53:09.065 | General Service|:: CompanyIndex:13 SpName: spRPT_GetReportData 
 9
 ,1
 ,'<XML UID="1" ShowMyQueue="0"></XML>'
 ,'1'
[System: 192.168.1.54] DEBUG | 07-18-2025 10:53:09.065 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNjE4NSwiZXhwIjoxNzUyODQ0OTg1LCJpYXQiOjE3NTI4MTYxODV9.lMpaEkMnL8ilIjd9RdZ63X-xoCAnZWw32XDLJaX8HZQ'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:53:09.221 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
                EXEC spRPT_GetReportData @Type=8,@Param1=1,@strXML=null,@RoleID=1
SELECT ACC.VoucherNo [C858bdfa70f884b78b8ec0453808910bb],ACC.VersionNo [C858bdfa70f884b78b8ec0453808910bbVer],CONVERT(DATETIME,ACC.DocDate) [Cf4c1ff96517a40978b75103376667aae],ACC.DocAbbr [C501419b9c341410d8920b953fb30cfbf],ACC.Amount [Cfa623191688842d5ac3c0cd9232cfb2e],NULL [C90a85d26ad47471988897309a5c78218],T1.UserName [Cd0c4cb9a7057416ca691fb5c4774545b],T3.Name [C80a6de4371d045c08bf9d035c1831959],ACC.CommonNarration [Ce66e27446651436893b0d2c967dd0ecb],T4.Status [Ca7da089a0bd542838ddeb39e78a982ea],T5.Name [Cff89130f277d4635b5e1c5e6887cbcb5],ACC.VoucherNo [Cdacb59b3f5e54f18b65dfc4cf3186555],ACC.DocAbbr [Cdacb59b3f5e54f18b65dfc4cf3186555Abr],ACC.DocPrefix [Cdacb59b3f5e54f18b65dfc4cf3186555prf],CONVERT(BIGINT,ACC.DocNumber) [Cdacb59b3f5e54f18b65dfc4cf3186555dno]
 FROM ACC_DocDetails ACC with(nolock) left join ADM_Users T1 with(nolock) on ACC.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on ACC.AccDocDetailsID=TDCC.AccDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on ACC.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (ACC.CostCenterID=41053) AND T4.Status=''Unapproved'' AND ACC.LinkedAccDocDetailsID is null AND WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT ACC.VoucherNo,ACC.VersionNo,CONVERT(DATETIME,ACC.DocDate),ACC.DocAbbr,ACC.Amount,NULL,T1.UserName,T3.Name,ACC.CommonNarration,T4.Status,T5.Name,ACC.VoucherNo,ACC.DocAbbr,ACC.DocPrefix,CONVERT(BIGINT,ACC.DocNumber)
 FROM ACC_DocDetails ACC with(nolock) left join ADM_Users T1 with(nolock) on ACC.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on ACC.AccDocDetailsID=TDCC.AccDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on ACC.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (ACC.CostCenterID=41061) AND T4.Status=''Unapproved'' AND ACC.LinkedAccDocDetailsID is null AND WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT ACC.VoucherNo,ACC.VersionNo,CONVERT(DATETIME,ACC.DocDate),ACC.DocAbbr,ACC.Amount,NULL,T1.UserName,T3.Name,ACC.CommonNarration,T4.Status,T5.Name,ACC.VoucherNo,ACC.DocAbbr,ACC.DocPrefix,CONVERT(BIGINT,ACC.DocNumber)
 FROM ACC_DocDetails ACC with(nolock) left join ADM_Users T1 with(nolock) on ACC.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on ACC.AccDocDetailsID=TDCC.AccDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on ACC.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (ACC.CostCenterID=40023) AND T4.Status=''Unapproved'' AND ACC.LinkedAccDocDetailsID is null AND WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT ACC.VoucherNo,ACC.VersionNo,CONVERT(DATETIME,ACC.DocDate),ACC.DocAbbr,ACC.Amount,NULL,T1.UserName,T3.Name,ACC.CommonNarration,T4.Status,T5.Name,ACC.VoucherNo,ACC.DocAbbr,ACC.DocPrefix,CONVERT(BIGINT,ACC.DocNumber)
 FROM ACC_DocDetails ACC with(nolock) left join ADM_Users T1 with(nolock) on ACC.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on ACC.AccDocDetailsID=TDCC.AccDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on ACC.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (ACC.CostCenterID=41064) AND T4.Status=''Unapproved'' AND ACC.LinkedAccDocDetailsID is null AND WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT ACC.VoucherNo,ACC.VersionNo,CONVERT(DATETIME,ACC.DocDate),ACC.DocAbbr,ACC.Amount,NULL,T1.UserName,T3.Name,ACC.CommonNarration,T4.Status,T5.Name,ACC.VoucherNo,ACC.DocAbbr,ACC.DocPrefix,CONVERT(BIGINT,ACC.DocNumber)
 FROM ACC_DocDetails ACC with(nolock) left join ADM_Users T1 with(nolock) on ACC.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on ACC.AccDocDetailsID=TDCC.AccDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on ACC.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (ACC.CostCenterID=41006) AND T4.Status=''Unapproved'' AND ACC.LinkedAccDocDetailsID is null AND WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT ACC.VoucherNo,ACC.VersionNo,CONVERT(DATETIME,ACC.DocDate),ACC.DocAbbr,ACC.Amount,NULL,T1.UserName,T3.Name,ACC.CommonNarration,T4.Status,T5.Name,ACC.VoucherNo,ACC.DocAbbr,ACC.DocPrefix,CONVERT(BIGINT,ACC.DocNumber)
 FROM ACC_DocDetails ACC with(nolock) left join ADM_Users T1 with(nolock) on ACC.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on ACC.AccDocDetailsID=TDCC.AccDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on ACC.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (ACC.CostCenterID=40022) AND T4.Status=''Unapproved'' AND ACC.LinkedAccDocDetailsID is null AND WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT ACC.VoucherNo,ACC.VersionNo,CONVERT(DATETIME,ACC.DocDate),ACC.DocAbbr,ACC.Amount,NULL,T1.UserName,T3.Name,ACC.CommonNarration,T4.Status,T5.Name,ACC.VoucherNo,ACC.DocAbbr,ACC.DocPrefix,CONVERT(BIGINT,ACC.DocNumber)
 FROM ACC_DocDetails ACC with(nolock) left join ADM_Users T1 with(nolock) on ACC.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on ACC.AccDocDetailsID=TDCC.AccDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on ACC.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (ACC.CostCenterID=41075) AND T4.Status=''Unapproved'' AND ACC.LinkedAccDocDetailsID is null AND WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT ACC.VoucherNo,ACC.VersionNo,CONVERT(DATETIME,ACC.DocDate),ACC.DocAbbr,ACC.Amount,NULL,T1.UserName,T3.Name,ACC.CommonNarration,T4.Status,T5.Name,ACC.VoucherNo,ACC.DocAbbr,ACC.DocPrefix,CONVERT(BIGINT,ACC.DocNumber)
 FROM ACC_DocDetails ACC with(nolock) left join ADM_Users T1 with(nolock) on ACC.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on ACC.AccDocDetailsID=TDCC.AccDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on ACC.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (ACC.CostCenterID=41077) AND T4.Status=''Unapproved'' AND ACC.LinkedAccDocDetailsID is null AND WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT ACC.VoucherNo,ACC.VersionNo,CONVERT(DATETIME,ACC.DocDate),ACC.DocAbbr,ACC.Amount,NULL,T1.UserName,T3.Name,ACC.CommonNarration,T4.Status,T5.Name,ACC.VoucherNo,ACC.DocAbbr,ACC.DocPrefix,CONVERT(BIGINT,ACC.DocNumber)
 FROM ACC_DocDetails ACC with(nolock) left join ADM_Users T1 with(nolock) on ACC.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on ACC.AccDocDetailsID=TDCC.AccDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on ACC.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (ACC.CostCenterID=40014) AND T4.Status=''Unapproved'' AND ACC.LinkedAccDocDetailsID is null AND WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT ACC.VoucherNo,ACC.VersionNo,CONVERT(DATETIME,ACC.DocDate),ACC.DocAbbr,ACC.Amount,NULL,T1.UserName,T3.Name,ACC.CommonNarration,T4.Status,T5.Name,ACC.VoucherNo,ACC.DocAbbr,ACC.DocPrefix,CONVERT(BIGINT,ACC.DocNumber)
 FROM ACC_DocDetails ACC with(nolock) left join ADM_Users T1 with(nolock) on ACC.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on ACC.AccDocDetailsID=TDCC.AccDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on ACC.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (ACC.CostCenterID=41065) AND T4.Status=''Unapproved'' AND ACC.LinkedAccDocDetailsID is null AND WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT ACC.VoucherNo,ACC.VersionNo,CONVERT(DATETIME,ACC.DocDate),ACC.DocAbbr,ACC.Amount,NULL,T1.UserName,T3.Name,ACC.CommonNarration,T4.Status,T5.Name,ACC.VoucherNo,ACC.DocAbbr,ACC.DocPrefix,CONVERT(BIGINT,ACC.DocNumber)
 FROM ACC_DocDetails ACC with(nolock) left join ADM_Users T1 with(nolock) on ACC.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on ACC.AccDocDetailsID=TDCC.AccDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on ACC.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (ACC.CostCenterID=40017) AND T4.Status=''Unapproved'' AND ACC.LinkedAccDocDetailsID is null AND WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT INV.VoucherNo,INV.VersionNo,CONVERT(DATETIME,INV.DocDate),INV.DocAbbr,NULL,CASE WHEN (SELECT DocumentType FROM ADM_DocumentTypes WITH(NOLOCK) WHERE CostCenterID=INV.CostCenterID)=38 AND VoucherType=1 THEN -INV.Gross ELSE INV.Gross END,T1.UserName,T3.Name,INV.CommonNarration,T4.Status,T5.Name,INV.VoucherNo,INV.DocAbbr,INV.DocPrefix,CONVERT(BIGINT,INV.DocNumber)
 FROM INV_DocDetails INV with(nolock) left join ADM_Users T1 with(nolock) on INV.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on INV.InvDocDetailsID=TDCC.InvDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on INV.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (INV.CostCenterID=41018) AND T4.Status=''Unapproved'' AND WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef and INV.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT INV.VoucherNo,INV.VersionNo,CONVERT(DATETIME,INV.DocDate),INV.DocAbbr,NULL,CASE WHEN (SELECT DocumentType FROM ADM_DocumentTypes WITH(NOLOCK) WHERE CostCenterID=INV.CostCenterID)=38 AND VoucherType=1 THEN -INV.Gross ELSE INV.Gross END,T1.UserName,T3.Name,INV.CommonNarration,T4.Status,T5.Name,INV.VoucherNo,INV.DocAbbr,INV.DocPrefix,CONVERT(BIGINT,INV.DocNumber)
 FROM INV_DocDetails INV with(nolock) left join ADM_Users T1 with(nolock) on INV.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on INV.InvDocDetailsID=TDCC.InvDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on INV.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (INV.CostCenterID=40011) AND T4.Status=''Unapproved'' AND WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef and INV.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT INV.VoucherNo,INV.VersionNo,CONVERT(DATETIME,INV.DocDate),INV.DocAbbr,NULL,CASE WHEN (SELECT DocumentType FROM ADM_DocumentTypes WITH(NOLOCK) WHERE CostCenterID=INV.CostCenterID)=38 AND VoucherType=1 THEN -INV.Gross ELSE INV.Gross END,T1.UserName,T3.Name,INV.CommonNarration,T4.Status,T5.Name,INV.VoucherNo,INV.DocAbbr,INV.DocPrefix,CONVERT(BIGINT,INV.DocNumber)
 FROM INV_DocDetails INV with(nolock) left join ADM_Users T1 with(nolock) on INV.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on INV.InvDocDetailsID=TDCC.InvDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on INV.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (INV.CostCenterID=41072) AND T4.Status=''Unapproved'' AND WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef and INV.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT INV.VoucherNo,INV.VersionNo,CONVERT(DATETIME,INV.DocDate),INV.DocAbbr,NULL,CASE WHEN (SELECT DocumentType FROM ADM_DocumentTypes WITH(NOLOCK) WHERE CostCenterID=INV.CostCenterID)=38 AND VoucherType=1 THEN -INV.Gross ELSE INV.Gross END,T1.UserName,T3.Name,INV.CommonNarration,T4.Status,T5.Name,INV.VoucherNo,INV.DocAbbr,INV.DocPrefix,CONVERT(BIGINT,INV.DocNumber)
 FROM INV_DocDetails INV with(nolock) left join ADM_Users T1 with(nolock) on INV.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on INV.InvDocDetailsID=TDCC.InvDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on INV.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (INV.CostCenterID=41057) AND T4.Status=''Unapproved'' AND WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef and INV.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT INV.VoucherNo,INV.VersionNo,CONVERT(DATETIME,INV.DocDate),INV.DocAbbr,NULL,CASE WHEN (SELECT DocumentType FROM ADM_DocumentTypes WITH(NOLOCK) WHERE CostCenterID=INV.CostCenterID)=38 AND VoucherType=1 THEN -INV.Gross ELSE INV.Gross END,T1.UserName,T3.Name,INV.CommonNarration,T4.Status,T5.Name,INV.VoucherNo,INV.DocAbbr,INV.DocPrefix,CONVERT(BIGINT,INV.DocNumber)
 FROM INV_DocDetails INV with(nolock) left join ADM_Users T1 with(nolock) on INV.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on INV.InvDocDetailsID=TDCC.InvDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on INV.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (INV.CostCenterID=41060) AND T4.Status=''Unapproved'' AND WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef and INV.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT INV.VoucherNo,INV.VersionNo,CONVERT(DATETIME,INV.DocDate),INV.DocAbbr,NULL,CASE WHEN (SELECT DocumentType FROM ADM_DocumentTypes WITH(NOLOCK) WHERE CostCenterID=INV.CostCenterID)=38 AND VoucherType=1 THEN -INV.Gross ELSE INV.Gross END,T1.UserName,T3.Name,INV.CommonNarration,T4.Status,T5.Name,INV.VoucherNo,INV.DocAbbr,INV.DocPrefix,CONVERT(BIGINT,INV.DocNumber)
 FROM INV_DocDetails INV with(nolock) left join ADM_Users T1 with(nolock) on INV.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on INV.InvDocDetailsID=TDCC.InvDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on INV.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (INV.CostCenterID=40001) AND T4.Status=''Unapproved'' AND WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef and INV.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT INV.VoucherNo,INV.VersionNo,CONVERT(DATETIME,INV.DocDate),INV.DocAbbr,NULL,CASE WHEN (SELECT DocumentType FROM ADM_DocumentTypes WITH(NOLOCK) WHERE CostCenterID=INV.CostCenterID)=38 AND VoucherType=1 THEN -INV.Gross ELSE INV.Gross END,T1.UserName,T3.Name,INV.CommonNarration,T4.Status,T5.Name,INV.VoucherNo,INV.DocAbbr,INV.DocPrefix,CONVERT(BIGINT,INV.DocNumber)
 FROM INV_DocDetails INV with(nolock) left join ADM_Users T1 with(nolock) on INV.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on INV.InvDocDetailsID=TDCC.InvDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on INV.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (INV.CostCenterID=41054) AND T4.Status=''Unapproved'' AND WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef and INV.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT ACC.VoucherNo,ACC.VersionNo,CONVERT(DATETIME,ACC.DocDate),ACC.DocAbbr,ACC.Amount,NULL,T1.UserName,T3.Name,ACC.CommonNarration,T4.Status,T5.Name,ACC.VoucherNo,ACC.DocAbbr,ACC.DocPrefix,CONVERT(BIGINT,ACC.DocNumber)
 FROM ACC_DocDetails ACC with(nolock) left join ADM_Users T1 with(nolock) on ACC.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on ACC.AccDocDetailsID=TDCC.AccDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on ACC.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (ACC.CostCenterID=41033) AND T4.Status=''Unapproved'' AND ACC.LinkedAccDocDetailsID is null AND WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT ACC.VoucherNo,ACC.VersionNo,CONVERT(DATETIME,ACC.DocDate),ACC.DocAbbr,ACC.Amount,NULL,T1.UserName,T3.Name,ACC.CommonNarration,T4.Status,T5.Name,ACC.VoucherNo,ACC.DocAbbr,ACC.DocPrefix,CONVERT(BIGINT,ACC.DocNumber)
 FROM ACC_DocDetails ACC with(nolock) left join ADM_Users T1 with(nolock) on ACC.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on ACC.AccDocDetailsID=TDCC.AccDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on ACC.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (ACC.CostCenterID=40019) AND T4.Status=''Unapproved'' AND ACC.LinkedAccDocDetailsID is null AND WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT ACC.VoucherNo,ACC.VersionNo,CONVERT(DATETIME,ACC.DocDate),ACC.DocAbbr,ACC.Amount,NULL,T1.UserName,T3.Name,ACC.CommonNarration,T4.Status,T5.Name,ACC.VoucherNo,ACC.DocAbbr,ACC.DocPrefix,CONVERT(BIGINT,ACC.DocNumber)
 FROM ACC_DocDetails ACC with(nolock) left join ADM_Users T1 with(nolock) on ACC.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on ACC.AccDocDetailsID=TDCC.AccDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on ACC.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (ACC.CostCenterID=41013) AND T4.Status=''Unapproved'' AND ACC.LinkedAccDocDetailsID is null AND WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef and ACC.CreatedDate+WF.CtWef<=convert(float,getdate()))) ORDER BY [Cdacb59b3f5e54f18b65dfc4cf3186555Abr] ,[Cdacb59b3f5e54f18b65dfc4cf3186555prf] ,[Cdacb59b3f5e54f18b65dfc4cf3186555dno]  
 DROP TABLE #TblUsrWF'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:53:09.221 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNjE4NSwiZXhwIjoxNzUyODQ0OTg1LCJpYXQiOjE3NTI4MTYxODV9.lMpaEkMnL8ilIjd9RdZ63X-xoCAnZWw32XDLJaX8HZQ'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:53:13.986 | General Service|:: CompanyIndex:13 SpName: spDOC_GetDocumentDefinition 
 41025
 ,NULL
 ,NULL
 ,''
 ,1
 ,'admin'
 ,1
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:53:13.986 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNjE4NSwiZXhwIjoxNzUyODQ0OTg1LCJpYXQiOjE3NTI4MTYxODV9.lMpaEkMnL8ilIjd9RdZ63X-xoCAnZWw32XDLJaX8HZQ'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:53:14.126 | General Service|:: CompanyIndex:13 SpName: spDoc_GetCurrencyExchangeRate 
 1
 ,'18-Jul-2025'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:53:14.126 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNjE4NSwiZXhwIjoxNzUyODQ0OTg1LCJpYXQiOjE3NTI4MTYxODV9.lMpaEkMnL8ilIjd9RdZ63X-xoCAnZWw32XDLJaX8HZQ'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:53:14.158 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'SELECT Code FROM COM_Location WITH(NOLOCK) WHERE NodeID=27'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:53:14.158 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNjE4NSwiZXhwIjoxNzUyODQ0OTg1LCJpYXQiOjE3NTI4MTYxODV9.lMpaEkMnL8ilIjd9RdZ63X-xoCAnZWw32XDLJaX8HZQ'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:53:14.173 | General Service|:: CompanyIndex:13 SpName: spDOC_GetDocumentPrefix 
 41025
 ,27
 ,''
 ,''
 ,'1'
 ,'1'
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:53:14.173 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNjE4NSwiZXhwIjoxNzUyODQ0OTg1LCJpYXQiOjE3NTI4MTYxODV9.lMpaEkMnL8ilIjd9RdZ63X-xoCAnZWw32XDLJaX8HZQ'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:53:14.189 | General Service|:: CompanyIndex:13 SpName: spDOC_GetDueDate 
 55687
 ,27
 ,0
 ,0
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:53:14.189 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNjE4NSwiZXhwIjoxNzUyODQ0OTg1LCJpYXQiOjE3NTI4MTYxODV9.lMpaEkMnL8ilIjd9RdZ63X-xoCAnZWw32XDLJaX8HZQ'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:53:14.205 | General Service|:: CompanyIndex:13 SpName: spDOC_GetCurrentCodeNumber 
 41025
 ,'023/25/'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:53:14.205 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNjE4NSwiZXhwIjoxNzUyODQ0OTg1LCJpYXQiOjE3NTI4MTYxODV9.lMpaEkMnL8ilIjd9RdZ63X-xoCAnZWw32XDLJaX8HZQ'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:53:14.220 | General Service|:: CompanyIndex:13 SpName: spDOC_GetLinkReferenceData 
 566117
 ,41025
 ,55687
 ,'18/Jul/2025'
 ,55687
 ,'<XML><Row CostCenterID="50011" NODEID="1" /><Row CostCenterID="50002" NODEID="27" /><Row CostCenterID="50058" NODEID="1" /><Row CostCenterID="50059" NODEID="1" /><Row CostCenterID="50061" NODEID="11" /><Row CostCenterID="50062" NODEID="1" /></XML>'
 ,False
 ,'0'
 ,'0'
 ,'0'
 ,NULL
 ,'0'
 ,'0'
 ,'0'
 ,''
 ,'1'
 ,1
 ,'1'
[System: 192.168.1.54] DEBUG | 07-18-2025 10:53:14.220 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNjE4NSwiZXhwIjoxNzUyODQ0OTg1LCJpYXQiOjE3NTI4MTYxODV9.lMpaEkMnL8ilIjd9RdZ63X-xoCAnZWw32XDLJaX8HZQ'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:53:14.267 | General Service|:: CompanyIndex:13 SpName: spADM_GetListViewDataByIDs 
 '<XML><Row CCID="50011"  TypeID="1"  DBColumnID="566213"  NodeID="1" /><Row CCID="2"  TypeID="10"  DBColumnID="566117"  NodeID="55687" /><Row CCID="2"  TypeID="100"  DBColumnID="566117"  NodeID="55687" /><Row CCID="2"  TypeID="10"  DBColumnID="566254"  NodeID="3" /><Row CCID="2"  TypeID="100"  DBColumnID="566254"  NodeID="3" /><Row CCID="50011"  TypeID="1"  DBColumnID="566213"  NodeID="1" /><Row CCID="50002"  TypeID="1"  DBColumnID="566204"  NodeID="27" /><Row CCID="50058"  TypeID="1"  DBColumnID="583442"  NodeID="1" /><Row CCID="50059"  TypeID="1"  DBColumnID="583494"  NodeID="1" /><Row CCID="50061"  TypeID="11"  DBColumnID="583598"  NodeID="11" /><Row CCID="50062"  TypeID="1"  DBColumnID="583650"  NodeID="1" /><Row CCID="50058"  TypeID="1"  DBColumnID="583713"  NodeID="1" /></XML>'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:53:14.283 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNjE4NSwiZXhwIjoxNzUyODQ0OTg1LCJpYXQiOjE3NTI4MTYxODV9.lMpaEkMnL8ilIjd9RdZ63X-xoCAnZWw32XDLJaX8HZQ'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:53:14.298 | General Service|:: CompanyIndex:13 SpName: spADM_GetListViewDataByIDs 
 '<XML><Row CCID="50011"  TypeID="1"  DBColumnID="566213"  NodeID="1" /><Row CCID="2"  TypeID="10"  DBColumnID="566117"  NodeID="55687" /><Row CCID="2"  TypeID="100"  DBColumnID="566117"  NodeID="55687" /><Row CCID="2"  TypeID="10"  DBColumnID="566254"  NodeID="3" /><Row CCID="2"  TypeID="100"  DBColumnID="566254"  NodeID="3" /><Row CCID="50011"  TypeID="1"  DBColumnID="566213"  NodeID="1" /><Row CCID="50002"  TypeID="1"  DBColumnID="566204"  NodeID="27" /><Row CCID="50058"  TypeID="1"  DBColumnID="583442"  NodeID="1" /><Row CCID="50059"  TypeID="1"  DBColumnID="583494"  NodeID="1" /><Row CCID="50061"  TypeID="11"  DBColumnID="583598"  NodeID="11" /><Row CCID="50062"  TypeID="1"  DBColumnID="583650"  NodeID="1" /><Row CCID="50058"  TypeID="1"  DBColumnID="583713"  NodeID="1" /></XML>'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:53:14.298 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNjE4NSwiZXhwIjoxNzUyODQ0OTg1LCJpYXQiOjE3NTI4MTYxODV9.lMpaEkMnL8ilIjd9RdZ63X-xoCAnZWw32XDLJaX8HZQ'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:53:14.314 | General Service|:: CompanyIndex:13 SpName: spDOC_GetLinkReferenceData 
 566117
 ,41025
 ,55687
 ,'18/Jul/2025'
 ,55687
 ,'<XML><Row CostCenterID="50011" NODEID="1" /><Row CostCenterID="50002" NODEID="27" /><Row CostCenterID="50058" NODEID="1" /><Row CostCenterID="50059" NODEID="1" /><Row CostCenterID="50061" NODEID="11" /><Row CostCenterID="50062" NODEID="1" /></XML>'
 ,False
 ,'0'
 ,'0'
 ,'0'
 ,NULL
 ,'0'
 ,'0'
 ,'0'
 ,''
 ,'1'
 ,1
 ,'1'
[System: 192.168.1.54] DEBUG | 07-18-2025 10:53:14.314 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNjE4NSwiZXhwIjoxNzUyODQ0OTg1LCJpYXQiOjE3NTI4MTYxODV9.lMpaEkMnL8ilIjd9RdZ63X-xoCAnZWw32XDLJaX8HZQ'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:53:14.330 | General Service|:: CompanyIndex:13 SpName: spADM_GetListViewDataByIDs 
 '<XML><Row CCID="50011"  TypeID="1"  DBColumnID="566213"  NodeID="1" /><Row CCID="2"  TypeID="10"  DBColumnID="566117"  NodeID="55687" /><Row CCID="2"  TypeID="100"  DBColumnID="566117"  NodeID="55687" /><Row CCID="2"  TypeID="10"  DBColumnID="566254"  NodeID="3" /><Row CCID="2"  TypeID="100"  DBColumnID="566254"  NodeID="3" /><Row CCID="50011"  TypeID="1"  DBColumnID="566213"  NodeID="1" /><Row CCID="50002"  TypeID="1"  DBColumnID="566204"  NodeID="27" /><Row CCID="50058"  TypeID="1"  DBColumnID="583442"  NodeID="1" /><Row CCID="50059"  TypeID="1"  DBColumnID="583494"  NodeID="1" /><Row CCID="50061"  TypeID="11"  DBColumnID="583598"  NodeID="11" /><Row CCID="50062"  TypeID="1"  DBColumnID="583650"  NodeID="1" /><Row CCID="50058"  TypeID="1"  DBColumnID="583713"  NodeID="1" /></XML>'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:53:14.345 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNjE4NSwiZXhwIjoxNzUyODQ0OTg1LCJpYXQiOjE3NTI4MTYxODV9.lMpaEkMnL8ilIjd9RdZ63X-xoCAnZWw32XDLJaX8HZQ'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:53:14.376 | General Service|:: CompanyIndex:13 SpName: spDOC_GetDocumentDefinition 
 41025
 ,NULL
 ,NULL
 ,''
 ,1
 ,'admin'
 ,1
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:53:14.392 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNjE4NSwiZXhwIjoxNzUyODQ0OTg1LCJpYXQiOjE3NTI4MTYxODV9.lMpaEkMnL8ilIjd9RdZ63X-xoCAnZWw32XDLJaX8HZQ'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:53:14.423 | General Service|:: CompanyIndex:13 SpName: spDoc_GetCurrencyExchangeRate 
 1
 ,'18-Jul-2025'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:53:14.439 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNjE4NSwiZXhwIjoxNzUyODQ0OTg1LCJpYXQiOjE3NTI4MTYxODV9.lMpaEkMnL8ilIjd9RdZ63X-xoCAnZWw32XDLJaX8HZQ'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:53:14.486 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'SELECT Code FROM COM_Location WITH(NOLOCK) WHERE NodeID=27'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:53:14.486 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNjE4NSwiZXhwIjoxNzUyODQ0OTg1LCJpYXQiOjE3NTI4MTYxODV9.lMpaEkMnL8ilIjd9RdZ63X-xoCAnZWw32XDLJaX8HZQ'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:53:14.486 | General Service|:: CompanyIndex:13 SpName: spDOC_GetDocumentPrefix 
 41025
 ,27
 ,''
 ,''
 ,'1'
 ,'1'
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:53:14.501 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNjE4NSwiZXhwIjoxNzUyODQ0OTg1LCJpYXQiOjE3NTI4MTYxODV9.lMpaEkMnL8ilIjd9RdZ63X-xoCAnZWw32XDLJaX8HZQ'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:53:14.501 | General Service|:: CompanyIndex:13 SpName: spDOC_GetDueDate 
 55687
 ,27
 ,0
 ,0
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:53:14.517 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNjE4NSwiZXhwIjoxNzUyODQ0OTg1LCJpYXQiOjE3NTI4MTYxODV9.lMpaEkMnL8ilIjd9RdZ63X-xoCAnZWw32XDLJaX8HZQ'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:53:14.517 | General Service|:: CompanyIndex:13 SpName: spDOC_GetCurrentCodeNumber 
 41025
 ,'023/25/'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:53:14.517 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNjE4NSwiZXhwIjoxNzUyODQ0OTg1LCJpYXQiOjE3NTI4MTYxODV9.lMpaEkMnL8ilIjd9RdZ63X-xoCAnZWw32XDLJaX8HZQ'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:53:14.548 | General Service|:: CompanyIndex:13 SpName: spDOC_GetLinkReferenceData 
 566117
 ,41025
 ,55687
 ,'18/Jul/2025'
 ,55687
 ,'<XML><Row CostCenterID="50011" NODEID="1" /><Row CostCenterID="50002" NODEID="27" /><Row CostCenterID="50058" NODEID="1" /><Row CostCenterID="50059" NODEID="1" /><Row CostCenterID="50061" NODEID="11" /><Row CostCenterID="50062" NODEID="1" /></XML>'
 ,False
 ,'0'
 ,'0'
 ,'0'
 ,NULL
 ,'0'
 ,'0'
 ,'0'
 ,''
 ,'1'
 ,1
 ,'1'
[System: 192.168.1.54] DEBUG | 07-18-2025 10:53:14.548 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNjE4NSwiZXhwIjoxNzUyODQ0OTg1LCJpYXQiOjE3NTI4MTYxODV9.lMpaEkMnL8ilIjd9RdZ63X-xoCAnZWw32XDLJaX8HZQ'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:53:14.579 | General Service|:: CompanyIndex:13 SpName: spADM_GetListViewDataByIDs 
 '<XML><Row CCID="50011"  TypeID="1"  DBColumnID="566213"  NodeID="1" /><Row CCID="2"  TypeID="10"  DBColumnID="566117"  NodeID="55687" /><Row CCID="2"  TypeID="100"  DBColumnID="566117"  NodeID="55687" /><Row CCID="2"  TypeID="10"  DBColumnID="566254"  NodeID="3" /><Row CCID="2"  TypeID="100"  DBColumnID="566254"  NodeID="3" /><Row CCID="50011"  TypeID="1"  DBColumnID="566213"  NodeID="1" /><Row CCID="50002"  TypeID="1"  DBColumnID="566204"  NodeID="27" /><Row CCID="50058"  TypeID="1"  DBColumnID="583442"  NodeID="1" /><Row CCID="50059"  TypeID="1"  DBColumnID="583494"  NodeID="1" /><Row CCID="50061"  TypeID="11"  DBColumnID="583598"  NodeID="11" /><Row CCID="50062"  TypeID="1"  DBColumnID="583650"  NodeID="1" /><Row CCID="50058"  TypeID="1"  DBColumnID="583713"  NodeID="1" /></XML>'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:53:14.579 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNjE4NSwiZXhwIjoxNzUyODQ0OTg1LCJpYXQiOjE3NTI4MTYxODV9.lMpaEkMnL8ilIjd9RdZ63X-xoCAnZWw32XDLJaX8HZQ'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:53:14.595 | General Service|:: CompanyIndex:13 SpName: spADM_GetListViewDataByIDs 
 '<XML><Row CCID="50011"  TypeID="1"  DBColumnID="566213"  NodeID="1" /><Row CCID="2"  TypeID="10"  DBColumnID="566117"  NodeID="55687" /><Row CCID="2"  TypeID="100"  DBColumnID="566117"  NodeID="55687" /><Row CCID="2"  TypeID="10"  DBColumnID="566254"  NodeID="3" /><Row CCID="2"  TypeID="100"  DBColumnID="566254"  NodeID="3" /><Row CCID="50011"  TypeID="1"  DBColumnID="566213"  NodeID="1" /><Row CCID="50002"  TypeID="1"  DBColumnID="566204"  NodeID="27" /><Row CCID="50058"  TypeID="1"  DBColumnID="583442"  NodeID="1" /><Row CCID="50059"  TypeID="1"  DBColumnID="583494"  NodeID="1" /><Row CCID="50061"  TypeID="11"  DBColumnID="583598"  NodeID="11" /><Row CCID="50062"  TypeID="1"  DBColumnID="583650"  NodeID="1" /><Row CCID="50058"  TypeID="1"  DBColumnID="583713"  NodeID="1" /></XML>'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:53:14.595 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNjE4NSwiZXhwIjoxNzUyODQ0OTg1LCJpYXQiOjE3NTI4MTYxODV9.lMpaEkMnL8ilIjd9RdZ63X-xoCAnZWw32XDLJaX8HZQ'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:53:14.611 | General Service|:: CompanyIndex:13 SpName: spDOC_GetLinkReferenceData 
 566117
 ,41025
 ,55687
 ,'18/Jul/2025'
 ,55687
 ,'<XML><Row CostCenterID="50011" NODEID="1" /><Row CostCenterID="50002" NODEID="27" /><Row CostCenterID="50058" NODEID="1" /><Row CostCenterID="50059" NODEID="1" /><Row CostCenterID="50061" NODEID="11" /><Row CostCenterID="50062" NODEID="1" /></XML>'
 ,False
 ,'0'
 ,'0'
 ,'0'
 ,NULL
 ,'0'
 ,'0'
 ,'0'
 ,''
 ,'1'
 ,1
 ,'1'
[System: 192.168.1.54] DEBUG | 07-18-2025 10:53:14.611 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNjE4NSwiZXhwIjoxNzUyODQ0OTg1LCJpYXQiOjE3NTI4MTYxODV9.lMpaEkMnL8ilIjd9RdZ63X-xoCAnZWw32XDLJaX8HZQ'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:53:14.673 | General Service|:: CompanyIndex:13 SpName: spADM_GetListViewDataByIDs 
 '<XML><Row CCID="50011"  TypeID="1"  DBColumnID="566213"  NodeID="1" /><Row CCID="2"  TypeID="10"  DBColumnID="566117"  NodeID="55687" /><Row CCID="2"  TypeID="100"  DBColumnID="566117"  NodeID="55687" /><Row CCID="2"  TypeID="10"  DBColumnID="566254"  NodeID="3" /><Row CCID="2"  TypeID="100"  DBColumnID="566254"  NodeID="3" /><Row CCID="50011"  TypeID="1"  DBColumnID="566213"  NodeID="1" /><Row CCID="50002"  TypeID="1"  DBColumnID="566204"  NodeID="27" /><Row CCID="50058"  TypeID="1"  DBColumnID="583442"  NodeID="1" /><Row CCID="50059"  TypeID="1"  DBColumnID="583494"  NodeID="1" /><Row CCID="50061"  TypeID="11"  DBColumnID="583598"  NodeID="11" /><Row CCID="50062"  TypeID="1"  DBColumnID="583650"  NodeID="1" /><Row CCID="50058"  TypeID="1"  DBColumnID="583713"  NodeID="1" /></XML>'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:53:14.673 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNjE4NSwiZXhwIjoxNzUyODQ0OTg1LCJpYXQiOjE3NTI4MTYxODV9.lMpaEkMnL8ilIjd9RdZ63X-xoCAnZWw32XDLJaX8HZQ'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:53:14.705 | General Service|:: CompanyIndex:13 SpName: spADM_GetCostCenterListViewData 
 500055
 ,'a.Name,a.Code,a.ccAlpha11'
 ,''
 ,''
 ,'Name'
 ,''
 ,60
 ,False
 ,''
 ,''
 ,''
 ,''
 ,''
 ,0
 ,False
 ,''
 ,''
 ,'1'
 ,'1'
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:53:14.720 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNjE4NSwiZXhwIjoxNzUyODQ0OTg1LCJpYXQiOjE3NTI4MTYxODV9.lMpaEkMnL8ilIjd9RdZ63X-xoCAnZWw32XDLJaX8HZQ'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:53:14.939 | General Service|:: CompanyIndex:13 SpName: spADM_GetCostCenterListViewData 
 500055
 ,'a.Name,a.Code,a.ccAlpha11'
 ,''
 ,''
 ,'Name'
 ,''
 ,60
 ,False
 ,''
 ,''
 ,''
 ,''
 ,''
 ,0
 ,False
 ,''
 ,''
 ,'1'
 ,'1'
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:53:14.939 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNjE4NSwiZXhwIjoxNzUyODQ0OTg1LCJpYXQiOjE3NTI4MTYxODV9.lMpaEkMnL8ilIjd9RdZ63X-xoCAnZWw32XDLJaX8HZQ'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:53:20.281 | General Service|:: CompanyIndex:13 SpName: spDOC_GetInvDocument 
 41025
 ,'023/25/'
 ,'116'
 ,'1'
 ,0
 ,' and (a.CostCenterID=c.DocumentID or c.DocumentID=1) and (b.dcCCNID2=c.CCNID2 or c.CCNID2=0)'
 ,1
 ,1
 ,'admin'
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:53:20.281 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNjE4NSwiZXhwIjoxNzUyODQ0OTg1LCJpYXQiOjE3NTI4MTYxODV9.lMpaEkMnL8ilIjd9RdZ63X-xoCAnZWw32XDLJaX8HZQ'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:53:20.328 | General Service|:: CompanyIndex:13 SpName: spADM_GetListViewDataByIDs 
 '<XML><Row CCID="50011"  TypeID="1"  DBColumnID="566213"  NodeID="1" /><Row CCID="2"  TypeID="10"  DBColumnID="566117"  NodeID="55687" /><Row CCID="2"  TypeID="100"  DBColumnID="566117"  NodeID="55687" /><Row CCID="2"  TypeID="10"  DBColumnID="566254"  NodeID="3" /><Row CCID="2"  TypeID="100"  DBColumnID="566254"  NodeID="3" /><Row CCID="50014"  TypeID="4"  DBColumnID="566216"  NodeID="10367" /><Row CCID="50009"  TypeID="3"  DBColumnID="566211"  NodeID="10570" /><Row CCID="50010"  TypeID="3"  DBColumnID="566212"  NodeID="51889" /><Row CCID="50018"  TypeID="1"  DBColumnID="566220"  NodeID="135" /><Row CCID="50070"  TypeID="1"  DBColumnID="598043"  NodeID="4" /><Row CCID="50011"  TypeID="1"  DBColumnID="566213"  NodeID="1" /><Row CCID="50014"  TypeID="4"  DBColumnID="566216"  NodeID="10367" /><Row CCID="50009"  TypeID="3"  DBColumnID="566211"  NodeID="10570" /><Row CCID="50010"  TypeID="3"  DBColumnID="566212"  NodeID="51889" /><Row CCID="50018"  TypeID="1"  DBColumnID="566220"  NodeID="135" /><Row CCID="50070"  TypeID="1"  DBColumnID="598043"  NodeID="4" /><Row CCID="50002"  TypeID="1"  DBColumnID="566204"  NodeID="27" /><Row CCID="50058"  TypeID="1"  DBColumnID="583442"  NodeID="1" /><Row CCID="50059"  TypeID="1"  DBColumnID="583494"  NodeID="1" /><Row CCID="50061"  TypeID="11"  DBColumnID="583598"  NodeID="11" /><Row CCID="50062"  TypeID="1"  DBColumnID="583650"  NodeID="1" /><Row CCID="50058"  TypeID="1"  DBColumnID="583713"  NodeID="1" /><Row CCID="44"  TypeID="122"  DBColumnID="566171"  NodeID="641" /><Row CCID="50060"  TypeID="1"  DBColumnID="583546"  NodeID="1" /></XML>'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:53:20.344 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNjE4NSwiZXhwIjoxNzUyODQ0OTg1LCJpYXQiOjE3NTI4MTYxODV9.lMpaEkMnL8ilIjd9RdZ63X-xoCAnZWw32XDLJaX8HZQ'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:53:20.359 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select ParentNodeID NodeID from COM_CostCenterCostCenterMap where CostCenterID in (8,300) and ParentCostCenterId=50033 and NodeID=41025'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:53:20.359 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNjE4NSwiZXhwIjoxNzUyODQ0OTg1LCJpYXQiOjE3NTI4MTYxODV9.lMpaEkMnL8ilIjd9RdZ63X-xoCAnZWw32XDLJaX8HZQ'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:53:20.359 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select ParentNodeID NodeID from COM_CostCenterCostCenterMap where CostCenterID in (8,300) and ParentCostCenterId=50033 and NodeID=41025'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:53:20.375 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNjE4NSwiZXhwIjoxNzUyODQ0OTg1LCJpYXQiOjE3NTI4MTYxODV9.lMpaEkMnL8ilIjd9RdZ63X-xoCAnZWw32XDLJaX8HZQ'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:53:20.375 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select ParentNodeID NodeID from COM_CostCenterCostCenterMap where CostCenterID in (8,300) and ParentCostCenterId=50033 and NodeID=41025'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:53:20.375 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNjE4NSwiZXhwIjoxNzUyODQ0OTg1LCJpYXQiOjE3NTI4MTYxODV9.lMpaEkMnL8ilIjd9RdZ63X-xoCAnZWw32XDLJaX8HZQ'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:53:20.391 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select ParentNodeID NodeID from COM_CostCenterCostCenterMap where CostCenterID in (8,300) and ParentCostCenterId=50033 and NodeID=41025'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:53:20.391 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNjE4NSwiZXhwIjoxNzUyODQ0OTg1LCJpYXQiOjE3NTI4MTYxODV9.lMpaEkMnL8ilIjd9RdZ63X-xoCAnZWw32XDLJaX8HZQ'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:53:20.406 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select ParentNodeID NodeID from COM_CostCenterCostCenterMap where CostCenterID in (8,300) and ParentCostCenterId=50033 and NodeID=41025'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:53:20.406 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNjE4NSwiZXhwIjoxNzUyODQ0OTg1LCJpYXQiOjE3NTI4MTYxODV9.lMpaEkMnL8ilIjd9RdZ63X-xoCAnZWw32XDLJaX8HZQ'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:53:20.422 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select ParentNodeID NodeID from COM_CostCenterCostCenterMap where CostCenterID in (8,300) and ParentCostCenterId=50033 and NodeID=41025'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:53:20.422 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNjE4NSwiZXhwIjoxNzUyODQ0OTg1LCJpYXQiOjE3NTI4MTYxODV9.lMpaEkMnL8ilIjd9RdZ63X-xoCAnZWw32XDLJaX8HZQ'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:53:20.422 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select ParentNodeID NodeID from COM_CostCenterCostCenterMap where CostCenterID in (8,300) and ParentCostCenterId=50033 and NodeID=41025'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:53:20.422 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNjE4NSwiZXhwIjoxNzUyODQ0OTg1LCJpYXQiOjE3NTI4MTYxODV9.lMpaEkMnL8ilIjd9RdZ63X-xoCAnZWw32XDLJaX8HZQ'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:53:20.437 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select ParentNodeID NodeID from COM_CostCenterCostCenterMap where CostCenterID in (8,300) and ParentCostCenterId=50033 and NodeID=41025'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:53:20.437 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNjE4NSwiZXhwIjoxNzUyODQ0OTg1LCJpYXQiOjE3NTI4MTYxODV9.lMpaEkMnL8ilIjd9RdZ63X-xoCAnZWw32XDLJaX8HZQ'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:53:20.453 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select ParentNodeID NodeID from COM_CostCenterCostCenterMap where CostCenterID in (8,300) and ParentCostCenterId=50033 and NodeID=41025'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:53:20.453 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNjE4NSwiZXhwIjoxNzUyODQ0OTg1LCJpYXQiOjE3NTI4MTYxODV9.lMpaEkMnL8ilIjd9RdZ63X-xoCAnZWw32XDLJaX8HZQ'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:53:20.469 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select ParentNodeID NodeID from COM_CostCenterCostCenterMap where CostCenterID in (8,300) and ParentCostCenterId=50033 and NodeID=41025'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:53:20.469 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNjE4NSwiZXhwIjoxNzUyODQ0OTg1LCJpYXQiOjE3NTI4MTYxODV9.lMpaEkMnL8ilIjd9RdZ63X-xoCAnZWw32XDLJaX8HZQ'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:53:20.469 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select ParentNodeID NodeID from COM_CostCenterCostCenterMap where CostCenterID in (8,300) and ParentCostCenterId=50033 and NodeID=41025'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:53:20.484 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNjE4NSwiZXhwIjoxNzUyODQ0OTg1LCJpYXQiOjE3NTI4MTYxODV9.lMpaEkMnL8ilIjd9RdZ63X-xoCAnZWw32XDLJaX8HZQ'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:53:20.484 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select ParentNodeID NodeID from COM_CostCenterCostCenterMap where CostCenterID in (8,300) and ParentCostCenterId=50033 and NodeID=41025'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:53:20.484 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNjE4NSwiZXhwIjoxNzUyODQ0OTg1LCJpYXQiOjE3NTI4MTYxODV9.lMpaEkMnL8ilIjd9RdZ63X-xoCAnZWw32XDLJaX8HZQ'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:53:20.500 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select ParentNodeID NodeID from COM_CostCenterCostCenterMap where CostCenterID in (8,300) and ParentCostCenterId=50033 and NodeID=41025'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:53:20.500 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNjE4NSwiZXhwIjoxNzUyODQ0OTg1LCJpYXQiOjE3NTI4MTYxODV9.lMpaEkMnL8ilIjd9RdZ63X-xoCAnZWw32XDLJaX8HZQ'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:53:20.594 | General Service|:: CompanyIndex:13 SpName: spADM_GetCostCenterListViewData 
 362
 ,'a.Name,a.Code'
 ,''
 ,''
 ,'Name'
 ,''
 ,60
 ,False
 ,''
 ,''
 ,'(CCNID9=10570)'
 ,''
 ,''
 ,0
 ,False
 ,''
 ,''
 ,'1'
 ,'1'
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:53:20.594 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNjE4NSwiZXhwIjoxNzUyODQ0OTg1LCJpYXQiOjE3NTI4MTYxODV9.lMpaEkMnL8ilIjd9RdZ63X-xoCAnZWw32XDLJaX8HZQ'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 10:53:44.307 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 10:53:44.307 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:54:09.114 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:54:09.129 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNjE4NSwiZXhwIjoxNzUyODQ0OTg1LCJpYXQiOjE3NTI4MTYxODV9.lMpaEkMnL8ilIjd9RdZ63X-xoCAnZWw32XDLJaX8HZQ'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 10:54:44.309 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 10:54:44.309 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:55:09.022 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:55:09.038 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNjE4NSwiZXhwIjoxNzUyODQ0OTg1LCJpYXQiOjE3NTI4MTYxODV9.lMpaEkMnL8ilIjd9RdZ63X-xoCAnZWw32XDLJaX8HZQ'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 10:55:44.295 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 10:55:44.295 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 10:56:40.751 | General Service|:: CompanyIndex:0 SpName: spADM_Login 
 4
 ,''
 ,''
 ,''
 ,'declare @AllowSession bit,@GUID nvarchar(50)
set @AllowSession=0
set @GUID=''0e5fc663-5269-4683-a080-85b06e4ab335''
if exists(select [GUID] from ADM_Login with(nolock) where [GUID]=@GUID)
begin
    update ADM_Login  set LastAccessTime=convert(float,getdate()) where [GUID]=@GUID
    set @AllowSession=1
end
select @AllowSession AllowSession
'
 ,''
 ,0
[System: 192.168.1.79] DEBUG | 07-18-2025 10:56:40.751 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 10:56:43.422 | General Service|:: CompanyIndex:13 SpName: spCOM_ConfigValues 
 1
 ,'NotifTime'
 ,''
[System: 192.168.1.79] DEBUG | 07-18-2025 10:56:43.422 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 10:56:44.313 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 10:56:44.313 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:57:13.478 | General Service|:: CompanyIndex:0 SpName: spADM_GetClientUserDetails2C 
 'admin'
 ,1
 ,0
[System: 192.168.1.54] DEBUG | 07-18-2025 10:57:13.509 | General Service|:: CompanyIndex:0 SpName: spADM_UserLoginCheck 
 2
 ,'admin'
 ,0
 ,'192.168.1.54'
 ,'192.168.1.54'
 ,''
 ,'Web'
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:57:16.555 | General Service|:: CompanyIndex:13 SpName: spADM_GetClientUserDetails 
 'admin'
 ,1
 ,'26.1.0'
 ,0
[System: 192.168.1.54] DEBUG | 07-18-2025 10:57:16.602 | General Service|:: CompanyIndex:0 SpName: spADM_UserLoginCheck 
 2
 ,'admin'
 ,13
 ,'192.168.1.54'
 ,'192.168.1.54'
 ,''
 ,'Web'
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:57:16.602 | General Service|:: CompanyIndex:0 SpName: spADM_Login 
 1
 ,''
 ,''
 ,''
 ,''
 ,''
 ,13
[System: 192.168.1.54] DEBUG | 07-18-2025 10:57:16.618 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select Value from ADM_GlobalPreferences with (nolock) where name =''EnableReLogin'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:57:16.618 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNjQzNiwiZXhwIjoxNzUyODQ1MjM2LCJpYXQiOjE3NTI4MTY0MzZ9.Fm1027JlYKmqSIMxYIs7BwiOhddYcE6gr8S33eHoHC0'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:57:16.649 | General Service|:: CompanyIndex:0 SpName: spADM_Login 
 4
 ,''
 ,''
 ,''
 ,'declare @Cnt int,@ExpiredGUID nvarchar(50),@AllowSession int,@GUID nvarchar(50),@CurrDate float,@UserID INT,@Instances INT,@InstancesExists INT,@LCDBIndex int
set @CurrDate= convert(float,dateadd(minute,-21,getdate()))
set @AllowSession=0
set @GUID=''385f209c-1d43-44bb-b63c-1f0848c269dc''
set @LCDBIndex=0
select top 1 @UserID=UserID,@Instances=InstanceCount from ADM_Users with(nolock) where UserName=''admin''
if exists(select [GUID] from ADM_Login with(nolock) where [GUID]=@GUID)
begin
	update ADM_Login 
	set LastAccessTime=convert(float,getdate()),UserID=@UserID
	where [GUID]=@GUID
    set @AllowSession=1
end
else
begin
	select @Cnt=count(*) from ADM_Login with(nolock) where LCDBIndex=@LCDBIndex and [GUID]!=''ACCESSRIGHTS'' and AP =''WEB''
    if(@Cnt<100)
		set @AllowSession=1
	else
	begin
		select top 1 @ExpiredGUID=[GUID] from ADM_Login with(nolock)
		where [GUID]!=''ACCESSRIGHTS'' and LCDBIndex=@LCDBIndex and LastAccessTime<@CurrDate  and AP =''WEB''
        order by LastAccessTime asc
		if @ExpiredGUID is not null
		begin
			delete from ADM_Login where [GUID]=@ExpiredGUID
			set @AllowSession=1
		end
	end
	if @AllowSession=1
	begin
        select @InstancesExists=COUNT(*) from ADM_Login with(nolock)
		where [GUID]!=''ACCESSRIGHTS'' and LCDBIndex=@LCDBIndex and LastAccessTime>=@CurrDate and UserID=@UserID and AP =''WEB''
		if(@Instances!=0 and @Instances<=@InstancesExists)
			set @AllowSession=2
		else
		    INSERT INTO ADM_Login([GUID],[SysName],IPAddress,[Status],LoginTime,LastAccessTime,AccessRights,UserID,DBIndex,LCDBIndex,AP)
		    VALUES(@GUID,''WEB'',''192.168.1.54'',1,convert(float,getdate()),convert(float,getdate()),null,@UserID,13,@LCDBIndex, ''WEB'')
	end
end

select @AllowSession AllowSession,@Instances Instances,@InstancesExists InstancesExists
'
 ,''
 ,0
[System: 192.168.1.54] DEBUG | 07-18-2025 10:57:16.649 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNjQzNiwiZXhwIjoxNzUyODQ1MjM2LCJpYXQiOjE3NTI4MTY0MzZ9.Fm1027JlYKmqSIMxYIs7BwiOhddYcE6gr8S33eHoHC0'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:57:16.680 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'SELECT (SELECT COUNT(*) FROM COM_Location L WITH(NOLOCK) JOIN COM_Status S WITH(NOLOCK) ON S.StatusID=L.StatusID WHERE L.IsGroup=0 AND S.[Status]=''Active'') ML
,(SELECT COUNT(*) FROM ADM_Features WITH(NOLOCK) WHERE ((FeatureID>50000 AND FeatureID<=50050) OR FeatureID>=51000) AND IsEnabled=1) MD
,(SELECT ISNULL(COUNT(*),0) FROM ADM_RevenUReports WITH(NOLOCK) WHERE IsGroup=0 AND ReportID>10000 AND StaticReportType IN (0,-1)) MR'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:57:16.680 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNjQzNiwiZXhwIjoxNzUyODQ1MjM2LCJpYXQiOjE3NTI4MTY0MzZ9.Fm1027JlYKmqSIMxYIs7BwiOhddYcE6gr8S33eHoHC0'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:57:18.102 | General Service|:: CompanyIndex:13 SpName: spCOM_ConfigValues 
 1
 ,'NotifTime'
 ,''
[System: 192.168.1.54] DEBUG | 07-18-2025 10:57:18.102 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNjQzNiwiZXhwIjoxNzUyODQ1MjM2LCJpYXQiOjE3NTI4MTY0MzZ9.Fm1027JlYKmqSIMxYIs7BwiOhddYcE6gr8S33eHoHC0'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:57:18.289 | General Service|:: CompanyIndex:13 SpName: spADM_GetRibbonView 
 1
 ,1
 ,1
 ,1
 ,0
 ,''
[System: 192.168.1.54] DEBUG | 07-18-2025 10:57:18.289 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNjQzNiwiZXhwIjoxNzUyODQ1MjM2LCJpYXQiOjE3NTI4MTY0MzZ9.Fm1027JlYKmqSIMxYIs7BwiOhddYcE6gr8S33eHoHC0'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:57:18.508 | General Service|:: CompanyIndex:13 SpName: spRPT_GetReport 
 2
 ,0
 ,'1'
 ,'1'
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:57:18.508 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNjQzNiwiZXhwIjoxNzUyODQ1MjM2LCJpYXQiOjE3NTI4MTY0MzZ9.Fm1027JlYKmqSIMxYIs7BwiOhddYcE6gr8S33eHoHC0'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:57:18.523 | General Service|:: CompanyIndex:13 SpName: spADM_GetDashBoard 
 2
 ,0
 ,0
 ,'1'
 ,'1'
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:57:18.523 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNjQzNiwiZXhwIjoxNzUyODQ1MjM2LCJpYXQiOjE3NTI4MTY0MzZ9.Fm1027JlYKmqSIMxYIs7BwiOhddYcE6gr8S33eHoHC0'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:57:18.555 | General Service|:: CompanyIndex:13 SpName: spCOM_ConfigValues 
 1
 ,'LandingDocs'
 ,'1'
[System: 192.168.1.54] DEBUG | 07-18-2025 10:57:18.555 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNjQzNiwiZXhwIjoxNzUyODQ1MjM2LCJpYXQiOjE3NTI4MTY0MzZ9.Fm1027JlYKmqSIMxYIs7BwiOhddYcE6gr8S33eHoHC0'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:57:18.602 | General Service|:: CompanyIndex:13 SpName: spADM_GetAllListViewsDef 
 1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:57:18.602 | General Service|:: CompanyIndex:13 SpName: spCOM_GetFavorites 
 'GETLIST0'
 ,0
 ,'1'
 ,'1'
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:57:18.602 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNjQzNiwiZXhwIjoxNzUyODQ1MjM2LCJpYXQiOjE3NTI4MTY0MzZ9.Fm1027JlYKmqSIMxYIs7BwiOhddYcE6gr8S33eHoHC0'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:57:18.602 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNjQzNiwiZXhwIjoxNzUyODQ1MjM2LCJpYXQiOjE3NTI4MTY0MzZ9.Fm1027JlYKmqSIMxYIs7BwiOhddYcE6gr8S33eHoHC0'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:57:18.680 | General Service|:: CompanyIndex:13 SpName: spADM_GetAllListViewsDef 
 1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:57:18.695 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNjQzNiwiZXhwIjoxNzUyODQ1MjM2LCJpYXQiOjE3NTI4MTY0MzZ9.Fm1027JlYKmqSIMxYIs7BwiOhddYcE6gr8S33eHoHC0'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:57:18.789 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'Select CostCenterID,CostCenterColID,CostCenterName,SysTableName,UserColumnName,SysColumnName,ISNULL(UserDefaultValue,'''') UserDefaultValue
From AdM_CostCenterDef WITH(NOLOCK)
Where SysColumnName IN(''CreditAccount'',''DebitAccount'',''ProductID'') 
AND CostCenterID>40000 AND CostCenterID<50000 

SELECT * FROM ADM_Features WITH(NOLOCK) '
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:57:18.789 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNjQzNiwiZXhwIjoxNzUyODQ1MjM2LCJpYXQiOjE3NTI4MTY0MzZ9.Fm1027JlYKmqSIMxYIs7BwiOhddYcE6gr8S33eHoHC0'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:57:18.836 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 '  SELECT * FROM PAY_PayrollPreferences WITH(NOLOCK) '
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:57:18.836 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNjQzNiwiZXhwIjoxNzUyODQ1MjM2LCJpYXQiOjE3NTI4MTY0MzZ9.Fm1027JlYKmqSIMxYIs7BwiOhddYcE6gr8S33eHoHC0'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:57:18.851 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 '  --0
                                Select * FROM COM_CC50051 WITH(NOLOCK) WHERE IsGroup=0 AND LoginUserID=''admin''
                                --1                                
                                Select * FROM COM_CC50051 WITH(NOLOCK) WHERE RptManager IN (Select NodeID FROM COM_CC50051 WITH(NOLOCK) WHERE IsGroup=0 AND LoginUserID=''admin'')
                                UNION ALL
                                Select * FROM COM_CC50051 WITH(NOLOCK) WHERE RptManager IN 
                                (
	                                Select NodeID FROM COM_CC50051 WITH(NOLOCK) 
	                                WHERE IsGroup=0 AND LoginUserID IN
	                                (
	                                SELECT fe.LoginUserID
	                                FROM INV_DocDetails a WITH(NOLOCK) 
	                                JOIN COM_DocCCData b WITH(NOLOCK) ON b.InvDocDetailsID=a.InvDocDetailsID
	                                JOIN COM_DocNumData c WITH(NOLOCK) ON c.InvDocDetailsID=a.InvDocDetailsID
	                                JOIN COM_DocTextData d WITH(NOLOCK) ON d.InvDocDetailsID=a.InvDocDetailsID
	                                JOIN COM_CC50051 fe WITH(NOLOCK) on fe.NodeID=b.dcCCNID51
	                                JOIN COM_CC50051 te WITH(NOLOCK) on CONVERT(NVARCHAR,te.NodeID)=d.dcAlpha1
	                                WHERE a.CostCenterID=40098 and a.StatusID=369 AND d.dcAlpha3=''Temporary''
	                                AND te.LoginUserID=''admin'' 
	                                AND ISDATE(d.dcAlpha4)=1 AND ISDATE(d.dcAlpha5)=1 
	                                AND CONVERT(DATETIME,''18 Jul 2025'') BETWEEN CONVERT(DATETIME,d.dcAlpha4) AND CONVERT(DATETIME,d.dcAlpha5)
	                                )
                                )
                                --2
                                Select * FROM ADM_USERS WITH(NOLOCK) WHERE USERID=1
                                --3
                                Select * FROM COM_CostCenterCostCenterMap WITH(NOLOCK) WHERE ParentCostCenterID=7 AND ParentNodeID=1
                                --4                                
                                Select * FROM COM_CostCenterCostCenterMap WITH(NOLOCK) WHERE ParentCostCenterID=7 AND ParentNodeID=1
                                AND CostCenterID IN(Select ColumnCostCenterID From ADM_CostCenterDef Where CostCenterID=50051 AND IsColumnInUse=1 AND SysColumnName LIKE ''CCNID%'')
                                --5
                                Select * from COM_Files WITH(NOLOCK) WHERE FeatureID=50051 AND FeaturePK IN (Select NodeID FROM COM_CC50051 WITH(NOLOCK) WHERE IsGroup=0 AND LoginUserID=''admin'')                         
'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:57:18.851 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNjQzNiwiZXhwIjoxNzUyODQ1MjM2LCJpYXQiOjE3NTI4MTY0MzZ9.Fm1027JlYKmqSIMxYIs7BwiOhddYcE6gr8S33eHoHC0'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:57:18.977 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:57:18.977 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNjQzNiwiZXhwIjoxNzUyODQ1MjM2LCJpYXQiOjE3NTI4MTY0MzZ9.Fm1027JlYKmqSIMxYIs7BwiOhddYcE6gr8S33eHoHC0'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:57:19.226 | General Service|:: CompanyIndex:13 SpName: spADM_GetDashBoard 
 1
 ,8
 ,0
 ,'1'
 ,'1'
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:57:19.226 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNjQzNiwiZXhwIjoxNzUyODQ1MjM2LCJpYXQiOjE3NTI4MTY0MzZ9.Fm1027JlYKmqSIMxYIs7BwiOhddYcE6gr8S33eHoHC0'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:57:19.258 | General Service|:: CompanyIndex:13 SpName: spRPT_GetReport 
 0
 ,30456
 ,'1'
 ,'1'
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:57:19.258 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNjQzNiwiZXhwIjoxNzUyODQ1MjM2LCJpYXQiOjE3NTI4MTY0MzZ9.Fm1027JlYKmqSIMxYIs7BwiOhddYcE6gr8S33eHoHC0'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:57:19.336 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'SELECT StaticReportType FROM ADM_RevenUReports WITH(NOLOCK) WHERE ReportID=30456'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:57:19.351 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNjQzNiwiZXhwIjoxNzUyODQ1MjM2LCJpYXQiOjE3NTI4MTY0MzZ9.Fm1027JlYKmqSIMxYIs7BwiOhddYcE6gr8S33eHoHC0'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:57:19.476 | General Service|:: CompanyIndex:13 SpName: spRPT_GetReportCategoryandField 
 -1
 ,0
 ,1
 ,0
 ,'1'
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:57:19.492 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNjQzNiwiZXhwIjoxNzUyODQ1MjM2LCJpYXQiOjE3NTI4MTY0MzZ9.Fm1027JlYKmqSIMxYIs7BwiOhddYcE6gr8S33eHoHC0'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:57:19.523 | General Service|:: CompanyIndex:13 SpName: spRPT_GetReportFields 
 400
 ,0
 ,'1'
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:57:19.523 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNjQzNiwiZXhwIjoxNzUyODQ1MjM2LCJpYXQiOjE3NTI4MTY0MzZ9.Fm1027JlYKmqSIMxYIs7BwiOhddYcE6gr8S33eHoHC0'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:57:19.570 | General Service|:: CompanyIndex:13 SpName: spRPT_GetReportData 
 9
 ,1
 ,'<XML UID="1" ShowMyQueue="0"></XML>'
 ,'1'
[System: 192.168.1.54] DEBUG | 07-18-2025 10:57:19.586 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNjQzNiwiZXhwIjoxNzUyODQ1MjM2LCJpYXQiOjE3NTI4MTY0MzZ9.Fm1027JlYKmqSIMxYIs7BwiOhddYcE6gr8S33eHoHC0'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:57:19.742 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
                EXEC spRPT_GetReportData @Type=8,@Param1=1,@strXML=null,@RoleID=1
SELECT ACC.VoucherNo [C858bdfa70f884b78b8ec0453808910bb],ACC.VersionNo [C858bdfa70f884b78b8ec0453808910bbVer],CONVERT(DATETIME,ACC.DocDate) [Cf4c1ff96517a40978b75103376667aae],ACC.DocAbbr [C501419b9c341410d8920b953fb30cfbf],ACC.Amount [Cfa623191688842d5ac3c0cd9232cfb2e],NULL [C90a85d26ad47471988897309a5c78218],T1.UserName [Cd0c4cb9a7057416ca691fb5c4774545b],T3.Name [C80a6de4371d045c08bf9d035c1831959],ACC.CommonNarration [Ce66e27446651436893b0d2c967dd0ecb],T4.Status [Ca7da089a0bd542838ddeb39e78a982ea],T5.Name [Cff89130f277d4635b5e1c5e6887cbcb5],ACC.VoucherNo [Cdacb59b3f5e54f18b65dfc4cf3186555],ACC.DocAbbr [Cdacb59b3f5e54f18b65dfc4cf3186555Abr],ACC.DocPrefix [Cdacb59b3f5e54f18b65dfc4cf3186555prf],CONVERT(BIGINT,ACC.DocNumber) [Cdacb59b3f5e54f18b65dfc4cf3186555dno]
 FROM ACC_DocDetails ACC with(nolock) left join ADM_Users T1 with(nolock) on ACC.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on ACC.AccDocDetailsID=TDCC.AccDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on ACC.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (ACC.CostCenterID=41053) AND T4.Status=''Unapproved'' AND ACC.LinkedAccDocDetailsID is null AND WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT ACC.VoucherNo,ACC.VersionNo,CONVERT(DATETIME,ACC.DocDate),ACC.DocAbbr,ACC.Amount,NULL,T1.UserName,T3.Name,ACC.CommonNarration,T4.Status,T5.Name,ACC.VoucherNo,ACC.DocAbbr,ACC.DocPrefix,CONVERT(BIGINT,ACC.DocNumber)
 FROM ACC_DocDetails ACC with(nolock) left join ADM_Users T1 with(nolock) on ACC.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on ACC.AccDocDetailsID=TDCC.AccDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on ACC.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (ACC.CostCenterID=41061) AND T4.Status=''Unapproved'' AND ACC.LinkedAccDocDetailsID is null AND WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT ACC.VoucherNo,ACC.VersionNo,CONVERT(DATETIME,ACC.DocDate),ACC.DocAbbr,ACC.Amount,NULL,T1.UserName,T3.Name,ACC.CommonNarration,T4.Status,T5.Name,ACC.VoucherNo,ACC.DocAbbr,ACC.DocPrefix,CONVERT(BIGINT,ACC.DocNumber)
 FROM ACC_DocDetails ACC with(nolock) left join ADM_Users T1 with(nolock) on ACC.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on ACC.AccDocDetailsID=TDCC.AccDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on ACC.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (ACC.CostCenterID=40023) AND T4.Status=''Unapproved'' AND ACC.LinkedAccDocDetailsID is null AND WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT ACC.VoucherNo,ACC.VersionNo,CONVERT(DATETIME,ACC.DocDate),ACC.DocAbbr,ACC.Amount,NULL,T1.UserName,T3.Name,ACC.CommonNarration,T4.Status,T5.Name,ACC.VoucherNo,ACC.DocAbbr,ACC.DocPrefix,CONVERT(BIGINT,ACC.DocNumber)
 FROM ACC_DocDetails ACC with(nolock) left join ADM_Users T1 with(nolock) on ACC.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on ACC.AccDocDetailsID=TDCC.AccDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on ACC.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (ACC.CostCenterID=41064) AND T4.Status=''Unapproved'' AND ACC.LinkedAccDocDetailsID is null AND WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT ACC.VoucherNo,ACC.VersionNo,CONVERT(DATETIME,ACC.DocDate),ACC.DocAbbr,ACC.Amount,NULL,T1.UserName,T3.Name,ACC.CommonNarration,T4.Status,T5.Name,ACC.VoucherNo,ACC.DocAbbr,ACC.DocPrefix,CONVERT(BIGINT,ACC.DocNumber)
 FROM ACC_DocDetails ACC with(nolock) left join ADM_Users T1 with(nolock) on ACC.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on ACC.AccDocDetailsID=TDCC.AccDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on ACC.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (ACC.CostCenterID=41006) AND T4.Status=''Unapproved'' AND ACC.LinkedAccDocDetailsID is null AND WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT ACC.VoucherNo,ACC.VersionNo,CONVERT(DATETIME,ACC.DocDate),ACC.DocAbbr,ACC.Amount,NULL,T1.UserName,T3.Name,ACC.CommonNarration,T4.Status,T5.Name,ACC.VoucherNo,ACC.DocAbbr,ACC.DocPrefix,CONVERT(BIGINT,ACC.DocNumber)
 FROM ACC_DocDetails ACC with(nolock) left join ADM_Users T1 with(nolock) on ACC.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on ACC.AccDocDetailsID=TDCC.AccDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on ACC.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (ACC.CostCenterID=40022) AND T4.Status=''Unapproved'' AND ACC.LinkedAccDocDetailsID is null AND WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT ACC.VoucherNo,ACC.VersionNo,CONVERT(DATETIME,ACC.DocDate),ACC.DocAbbr,ACC.Amount,NULL,T1.UserName,T3.Name,ACC.CommonNarration,T4.Status,T5.Name,ACC.VoucherNo,ACC.DocAbbr,ACC.DocPrefix,CONVERT(BIGINT,ACC.DocNumber)
 FROM ACC_DocDetails ACC with(nolock) left join ADM_Users T1 with(nolock) on ACC.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on ACC.AccDocDetailsID=TDCC.AccDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on ACC.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (ACC.CostCenterID=41075) AND T4.Status=''Unapproved'' AND ACC.LinkedAccDocDetailsID is null AND WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT ACC.VoucherNo,ACC.VersionNo,CONVERT(DATETIME,ACC.DocDate),ACC.DocAbbr,ACC.Amount,NULL,T1.UserName,T3.Name,ACC.CommonNarration,T4.Status,T5.Name,ACC.VoucherNo,ACC.DocAbbr,ACC.DocPrefix,CONVERT(BIGINT,ACC.DocNumber)
 FROM ACC_DocDetails ACC with(nolock) left join ADM_Users T1 with(nolock) on ACC.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on ACC.AccDocDetailsID=TDCC.AccDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on ACC.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (ACC.CostCenterID=41077) AND T4.Status=''Unapproved'' AND ACC.LinkedAccDocDetailsID is null AND WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT ACC.VoucherNo,ACC.VersionNo,CONVERT(DATETIME,ACC.DocDate),ACC.DocAbbr,ACC.Amount,NULL,T1.UserName,T3.Name,ACC.CommonNarration,T4.Status,T5.Name,ACC.VoucherNo,ACC.DocAbbr,ACC.DocPrefix,CONVERT(BIGINT,ACC.DocNumber)
 FROM ACC_DocDetails ACC with(nolock) left join ADM_Users T1 with(nolock) on ACC.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on ACC.AccDocDetailsID=TDCC.AccDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on ACC.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (ACC.CostCenterID=40014) AND T4.Status=''Unapproved'' AND ACC.LinkedAccDocDetailsID is null AND WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT ACC.VoucherNo,ACC.VersionNo,CONVERT(DATETIME,ACC.DocDate),ACC.DocAbbr,ACC.Amount,NULL,T1.UserName,T3.Name,ACC.CommonNarration,T4.Status,T5.Name,ACC.VoucherNo,ACC.DocAbbr,ACC.DocPrefix,CONVERT(BIGINT,ACC.DocNumber)
 FROM ACC_DocDetails ACC with(nolock) left join ADM_Users T1 with(nolock) on ACC.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on ACC.AccDocDetailsID=TDCC.AccDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on ACC.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (ACC.CostCenterID=41065) AND T4.Status=''Unapproved'' AND ACC.LinkedAccDocDetailsID is null AND WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT ACC.VoucherNo,ACC.VersionNo,CONVERT(DATETIME,ACC.DocDate),ACC.DocAbbr,ACC.Amount,NULL,T1.UserName,T3.Name,ACC.CommonNarration,T4.Status,T5.Name,ACC.VoucherNo,ACC.DocAbbr,ACC.DocPrefix,CONVERT(BIGINT,ACC.DocNumber)
 FROM ACC_DocDetails ACC with(nolock) left join ADM_Users T1 with(nolock) on ACC.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on ACC.AccDocDetailsID=TDCC.AccDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on ACC.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (ACC.CostCenterID=40017) AND T4.Status=''Unapproved'' AND ACC.LinkedAccDocDetailsID is null AND WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT INV.VoucherNo,INV.VersionNo,CONVERT(DATETIME,INV.DocDate),INV.DocAbbr,NULL,CASE WHEN (SELECT DocumentType FROM ADM_DocumentTypes WITH(NOLOCK) WHERE CostCenterID=INV.CostCenterID)=38 AND VoucherType=1 THEN -INV.Gross ELSE INV.Gross END,T1.UserName,T3.Name,INV.CommonNarration,T4.Status,T5.Name,INV.VoucherNo,INV.DocAbbr,INV.DocPrefix,CONVERT(BIGINT,INV.DocNumber)
 FROM INV_DocDetails INV with(nolock) left join ADM_Users T1 with(nolock) on INV.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on INV.InvDocDetailsID=TDCC.InvDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on INV.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (INV.CostCenterID=41018) AND T4.Status=''Unapproved'' AND WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef and INV.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT INV.VoucherNo,INV.VersionNo,CONVERT(DATETIME,INV.DocDate),INV.DocAbbr,NULL,CASE WHEN (SELECT DocumentType FROM ADM_DocumentTypes WITH(NOLOCK) WHERE CostCenterID=INV.CostCenterID)=38 AND VoucherType=1 THEN -INV.Gross ELSE INV.Gross END,T1.UserName,T3.Name,INV.CommonNarration,T4.Status,T5.Name,INV.VoucherNo,INV.DocAbbr,INV.DocPrefix,CONVERT(BIGINT,INV.DocNumber)
 FROM INV_DocDetails INV with(nolock) left join ADM_Users T1 with(nolock) on INV.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on INV.InvDocDetailsID=TDCC.InvDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on INV.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (INV.CostCenterID=40011) AND T4.Status=''Unapproved'' AND WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef and INV.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT INV.VoucherNo,INV.VersionNo,CONVERT(DATETIME,INV.DocDate),INV.DocAbbr,NULL,CASE WHEN (SELECT DocumentType FROM ADM_DocumentTypes WITH(NOLOCK) WHERE CostCenterID=INV.CostCenterID)=38 AND VoucherType=1 THEN -INV.Gross ELSE INV.Gross END,T1.UserName,T3.Name,INV.CommonNarration,T4.Status,T5.Name,INV.VoucherNo,INV.DocAbbr,INV.DocPrefix,CONVERT(BIGINT,INV.DocNumber)
 FROM INV_DocDetails INV with(nolock) left join ADM_Users T1 with(nolock) on INV.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on INV.InvDocDetailsID=TDCC.InvDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on INV.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (INV.CostCenterID=41072) AND T4.Status=''Unapproved'' AND WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef and INV.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT INV.VoucherNo,INV.VersionNo,CONVERT(DATETIME,INV.DocDate),INV.DocAbbr,NULL,CASE WHEN (SELECT DocumentType FROM ADM_DocumentTypes WITH(NOLOCK) WHERE CostCenterID=INV.CostCenterID)=38 AND VoucherType=1 THEN -INV.Gross ELSE INV.Gross END,T1.UserName,T3.Name,INV.CommonNarration,T4.Status,T5.Name,INV.VoucherNo,INV.DocAbbr,INV.DocPrefix,CONVERT(BIGINT,INV.DocNumber)
 FROM INV_DocDetails INV with(nolock) left join ADM_Users T1 with(nolock) on INV.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on INV.InvDocDetailsID=TDCC.InvDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on INV.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (INV.CostCenterID=41057) AND T4.Status=''Unapproved'' AND WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef and INV.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT INV.VoucherNo,INV.VersionNo,CONVERT(DATETIME,INV.DocDate),INV.DocAbbr,NULL,CASE WHEN (SELECT DocumentType FROM ADM_DocumentTypes WITH(NOLOCK) WHERE CostCenterID=INV.CostCenterID)=38 AND VoucherType=1 THEN -INV.Gross ELSE INV.Gross END,T1.UserName,T3.Name,INV.CommonNarration,T4.Status,T5.Name,INV.VoucherNo,INV.DocAbbr,INV.DocPrefix,CONVERT(BIGINT,INV.DocNumber)
 FROM INV_DocDetails INV with(nolock) left join ADM_Users T1 with(nolock) on INV.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on INV.InvDocDetailsID=TDCC.InvDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on INV.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (INV.CostCenterID=41060) AND T4.Status=''Unapproved'' AND WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef and INV.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT INV.VoucherNo,INV.VersionNo,CONVERT(DATETIME,INV.DocDate),INV.DocAbbr,NULL,CASE WHEN (SELECT DocumentType FROM ADM_DocumentTypes WITH(NOLOCK) WHERE CostCenterID=INV.CostCenterID)=38 AND VoucherType=1 THEN -INV.Gross ELSE INV.Gross END,T1.UserName,T3.Name,INV.CommonNarration,T4.Status,T5.Name,INV.VoucherNo,INV.DocAbbr,INV.DocPrefix,CONVERT(BIGINT,INV.DocNumber)
 FROM INV_DocDetails INV with(nolock) left join ADM_Users T1 with(nolock) on INV.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on INV.InvDocDetailsID=TDCC.InvDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on INV.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (INV.CostCenterID=40001) AND T4.Status=''Unapproved'' AND WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef and INV.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT INV.VoucherNo,INV.VersionNo,CONVERT(DATETIME,INV.DocDate),INV.DocAbbr,NULL,CASE WHEN (SELECT DocumentType FROM ADM_DocumentTypes WITH(NOLOCK) WHERE CostCenterID=INV.CostCenterID)=38 AND VoucherType=1 THEN -INV.Gross ELSE INV.Gross END,T1.UserName,T3.Name,INV.CommonNarration,T4.Status,T5.Name,INV.VoucherNo,INV.DocAbbr,INV.DocPrefix,CONVERT(BIGINT,INV.DocNumber)
 FROM INV_DocDetails INV with(nolock) left join ADM_Users T1 with(nolock) on INV.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on INV.InvDocDetailsID=TDCC.InvDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on INV.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (INV.CostCenterID=41054) AND T4.Status=''Unapproved'' AND WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef and INV.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT ACC.VoucherNo,ACC.VersionNo,CONVERT(DATETIME,ACC.DocDate),ACC.DocAbbr,ACC.Amount,NULL,T1.UserName,T3.Name,ACC.CommonNarration,T4.Status,T5.Name,ACC.VoucherNo,ACC.DocAbbr,ACC.DocPrefix,CONVERT(BIGINT,ACC.DocNumber)
 FROM ACC_DocDetails ACC with(nolock) left join ADM_Users T1 with(nolock) on ACC.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on ACC.AccDocDetailsID=TDCC.AccDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on ACC.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (ACC.CostCenterID=41033) AND T4.Status=''Unapproved'' AND ACC.LinkedAccDocDetailsID is null AND WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT ACC.VoucherNo,ACC.VersionNo,CONVERT(DATETIME,ACC.DocDate),ACC.DocAbbr,ACC.Amount,NULL,T1.UserName,T3.Name,ACC.CommonNarration,T4.Status,T5.Name,ACC.VoucherNo,ACC.DocAbbr,ACC.DocPrefix,CONVERT(BIGINT,ACC.DocNumber)
 FROM ACC_DocDetails ACC with(nolock) left join ADM_Users T1 with(nolock) on ACC.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on ACC.AccDocDetailsID=TDCC.AccDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on ACC.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (ACC.CostCenterID=40019) AND T4.Status=''Unapproved'' AND ACC.LinkedAccDocDetailsID is null AND WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT ACC.VoucherNo,ACC.VersionNo,CONVERT(DATETIME,ACC.DocDate),ACC.DocAbbr,ACC.Amount,NULL,T1.UserName,T3.Name,ACC.CommonNarration,T4.Status,T5.Name,ACC.VoucherNo,ACC.DocAbbr,ACC.DocPrefix,CONVERT(BIGINT,ACC.DocNumber)
 FROM ACC_DocDetails ACC with(nolock) left join ADM_Users T1 with(nolock) on ACC.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on ACC.AccDocDetailsID=TDCC.AccDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on ACC.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (ACC.CostCenterID=41013) AND T4.Status=''Unapproved'' AND ACC.LinkedAccDocDetailsID is null AND WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef and ACC.CreatedDate+WF.CtWef<=convert(float,getdate()))) ORDER BY [Cdacb59b3f5e54f18b65dfc4cf3186555Abr] ,[Cdacb59b3f5e54f18b65dfc4cf3186555prf] ,[Cdacb59b3f5e54f18b65dfc4cf3186555dno]  
 DROP TABLE #TblUsrWF'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:57:19.742 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNjQzNiwiZXhwIjoxNzUyODQ1MjM2LCJpYXQiOjE3NTI4MTY0MzZ9.Fm1027JlYKmqSIMxYIs7BwiOhddYcE6gr8S33eHoHC0'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:57:21.882 | General Service|:: CompanyIndex:13 SpName: spDOC_GetDocumentDefinition 
 41025
 ,NULL
 ,NULL
 ,''
 ,1
 ,'admin'
 ,1
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:57:21.882 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNjQzNiwiZXhwIjoxNzUyODQ1MjM2LCJpYXQiOjE3NTI4MTY0MzZ9.Fm1027JlYKmqSIMxYIs7BwiOhddYcE6gr8S33eHoHC0'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:57:21.929 | General Service|:: CompanyIndex:13 SpName: spDoc_GetCurrencyExchangeRate 
 1
 ,'18-Jul-2025'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:57:21.929 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNjQzNiwiZXhwIjoxNzUyODQ1MjM2LCJpYXQiOjE3NTI4MTY0MzZ9.Fm1027JlYKmqSIMxYIs7BwiOhddYcE6gr8S33eHoHC0'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:57:21.960 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'SELECT Code FROM COM_Location WITH(NOLOCK) WHERE NodeID=27'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:57:21.960 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNjQzNiwiZXhwIjoxNzUyODQ1MjM2LCJpYXQiOjE3NTI4MTY0MzZ9.Fm1027JlYKmqSIMxYIs7BwiOhddYcE6gr8S33eHoHC0'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:57:21.976 | General Service|:: CompanyIndex:13 SpName: spDOC_GetDocumentPrefix 
 41025
 ,27
 ,''
 ,''
 ,'1'
 ,'1'
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:57:21.976 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNjQzNiwiZXhwIjoxNzUyODQ1MjM2LCJpYXQiOjE3NTI4MTY0MzZ9.Fm1027JlYKmqSIMxYIs7BwiOhddYcE6gr8S33eHoHC0'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:57:21.976 | General Service|:: CompanyIndex:13 SpName: spDOC_GetDueDate 
 55687
 ,27
 ,0
 ,0
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:57:21.976 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNjQzNiwiZXhwIjoxNzUyODQ1MjM2LCJpYXQiOjE3NTI4MTY0MzZ9.Fm1027JlYKmqSIMxYIs7BwiOhddYcE6gr8S33eHoHC0'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:57:21.991 | General Service|:: CompanyIndex:13 SpName: spDOC_GetCurrentCodeNumber 
 41025
 ,'023/25/'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:57:21.991 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNjQzNiwiZXhwIjoxNzUyODQ1MjM2LCJpYXQiOjE3NTI4MTY0MzZ9.Fm1027JlYKmqSIMxYIs7BwiOhddYcE6gr8S33eHoHC0'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:57:22.023 | General Service|:: CompanyIndex:13 SpName: spDOC_GetLinkReferenceData 
 566117
 ,41025
 ,55687
 ,'18/Jul/2025'
 ,55687
 ,'<XML><Row CostCenterID="50011" NODEID="1" /><Row CostCenterID="50002" NODEID="27" /><Row CostCenterID="50058" NODEID="1" /><Row CostCenterID="50059" NODEID="1" /><Row CostCenterID="50061" NODEID="11" /><Row CostCenterID="50062" NODEID="1" /></XML>'
 ,False
 ,'0'
 ,'0'
 ,'0'
 ,NULL
 ,'0'
 ,'0'
 ,'0'
 ,''
 ,'1'
 ,1
 ,'1'
[System: 192.168.1.54] DEBUG | 07-18-2025 10:57:22.023 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNjQzNiwiZXhwIjoxNzUyODQ1MjM2LCJpYXQiOjE3NTI4MTY0MzZ9.Fm1027JlYKmqSIMxYIs7BwiOhddYcE6gr8S33eHoHC0'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:57:22.054 | General Service|:: CompanyIndex:13 SpName: spADM_GetListViewDataByIDs 
 '<XML><Row CCID="50011"  TypeID="1"  DBColumnID="566213"  NodeID="1" /><Row CCID="2"  TypeID="10"  DBColumnID="566117"  NodeID="55687" /><Row CCID="2"  TypeID="100"  DBColumnID="566117"  NodeID="55687" /><Row CCID="2"  TypeID="10"  DBColumnID="566254"  NodeID="3" /><Row CCID="2"  TypeID="100"  DBColumnID="566254"  NodeID="3" /><Row CCID="50011"  TypeID="1"  DBColumnID="566213"  NodeID="1" /><Row CCID="50002"  TypeID="1"  DBColumnID="566204"  NodeID="27" /><Row CCID="50058"  TypeID="1"  DBColumnID="583442"  NodeID="1" /><Row CCID="50059"  TypeID="1"  DBColumnID="583494"  NodeID="1" /><Row CCID="50061"  TypeID="11"  DBColumnID="583598"  NodeID="11" /><Row CCID="50062"  TypeID="1"  DBColumnID="583650"  NodeID="1" /><Row CCID="50058"  TypeID="1"  DBColumnID="583713"  NodeID="1" /></XML>'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:57:22.054 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNjQzNiwiZXhwIjoxNzUyODQ1MjM2LCJpYXQiOjE3NTI4MTY0MzZ9.Fm1027JlYKmqSIMxYIs7BwiOhddYcE6gr8S33eHoHC0'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:57:22.070 | General Service|:: CompanyIndex:13 SpName: spADM_GetListViewDataByIDs 
 '<XML><Row CCID="50011"  TypeID="1"  DBColumnID="566213"  NodeID="1" /><Row CCID="2"  TypeID="10"  DBColumnID="566117"  NodeID="55687" /><Row CCID="2"  TypeID="100"  DBColumnID="566117"  NodeID="55687" /><Row CCID="2"  TypeID="10"  DBColumnID="566254"  NodeID="3" /><Row CCID="2"  TypeID="100"  DBColumnID="566254"  NodeID="3" /><Row CCID="50011"  TypeID="1"  DBColumnID="566213"  NodeID="1" /><Row CCID="50002"  TypeID="1"  DBColumnID="566204"  NodeID="27" /><Row CCID="50058"  TypeID="1"  DBColumnID="583442"  NodeID="1" /><Row CCID="50059"  TypeID="1"  DBColumnID="583494"  NodeID="1" /><Row CCID="50061"  TypeID="11"  DBColumnID="583598"  NodeID="11" /><Row CCID="50062"  TypeID="1"  DBColumnID="583650"  NodeID="1" /><Row CCID="50058"  TypeID="1"  DBColumnID="583713"  NodeID="1" /></XML>'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:57:22.070 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNjQzNiwiZXhwIjoxNzUyODQ1MjM2LCJpYXQiOjE3NTI4MTY0MzZ9.Fm1027JlYKmqSIMxYIs7BwiOhddYcE6gr8S33eHoHC0'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:57:22.085 | General Service|:: CompanyIndex:13 SpName: spDOC_GetLinkReferenceData 
 566117
 ,41025
 ,55687
 ,'18/Jul/2025'
 ,55687
 ,'<XML><Row CostCenterID="50011" NODEID="1" /><Row CostCenterID="50002" NODEID="27" /><Row CostCenterID="50058" NODEID="1" /><Row CostCenterID="50059" NODEID="1" /><Row CostCenterID="50061" NODEID="11" /><Row CostCenterID="50062" NODEID="1" /></XML>'
 ,False
 ,'0'
 ,'0'
 ,'0'
 ,NULL
 ,'0'
 ,'0'
 ,'0'
 ,''
 ,'1'
 ,1
 ,'1'
[System: 192.168.1.54] DEBUG | 07-18-2025 10:57:22.085 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNjQzNiwiZXhwIjoxNzUyODQ1MjM2LCJpYXQiOjE3NTI4MTY0MzZ9.Fm1027JlYKmqSIMxYIs7BwiOhddYcE6gr8S33eHoHC0'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:57:22.101 | General Service|:: CompanyIndex:13 SpName: spADM_GetListViewDataByIDs 
 '<XML><Row CCID="50011"  TypeID="1"  DBColumnID="566213"  NodeID="1" /><Row CCID="2"  TypeID="10"  DBColumnID="566117"  NodeID="55687" /><Row CCID="2"  TypeID="100"  DBColumnID="566117"  NodeID="55687" /><Row CCID="2"  TypeID="10"  DBColumnID="566254"  NodeID="3" /><Row CCID="2"  TypeID="100"  DBColumnID="566254"  NodeID="3" /><Row CCID="50011"  TypeID="1"  DBColumnID="566213"  NodeID="1" /><Row CCID="50002"  TypeID="1"  DBColumnID="566204"  NodeID="27" /><Row CCID="50058"  TypeID="1"  DBColumnID="583442"  NodeID="1" /><Row CCID="50059"  TypeID="1"  DBColumnID="583494"  NodeID="1" /><Row CCID="50061"  TypeID="11"  DBColumnID="583598"  NodeID="11" /><Row CCID="50062"  TypeID="1"  DBColumnID="583650"  NodeID="1" /><Row CCID="50058"  TypeID="1"  DBColumnID="583713"  NodeID="1" /></XML>'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:57:22.101 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNjQzNiwiZXhwIjoxNzUyODQ1MjM2LCJpYXQiOjE3NTI4MTY0MzZ9.Fm1027JlYKmqSIMxYIs7BwiOhddYcE6gr8S33eHoHC0'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:57:22.163 | General Service|:: CompanyIndex:13 SpName: spADM_GetCostCenterListViewData 
 500055
 ,'a.Name,a.Code,a.ccAlpha11'
 ,''
 ,''
 ,'Name'
 ,''
 ,60
 ,False
 ,''
 ,''
 ,''
 ,''
 ,''
 ,0
 ,False
 ,''
 ,''
 ,'1'
 ,'1'
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:57:22.163 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNjQzNiwiZXhwIjoxNzUyODQ1MjM2LCJpYXQiOjE3NTI4MTY0MzZ9.Fm1027JlYKmqSIMxYIs7BwiOhddYcE6gr8S33eHoHC0'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:57:23.803 | General Service|:: CompanyIndex:13 SpName: spDOC_GetInvDocument 
 41025
 ,'023/25/'
 ,'116'
 ,'1'
 ,0
 ,' and (a.CostCenterID=c.DocumentID or c.DocumentID=1) and (b.dcCCNID2=c.CCNID2 or c.CCNID2=0)'
 ,1
 ,1
 ,'admin'
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:57:23.803 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNjQzNiwiZXhwIjoxNzUyODQ1MjM2LCJpYXQiOjE3NTI4MTY0MzZ9.Fm1027JlYKmqSIMxYIs7BwiOhddYcE6gr8S33eHoHC0'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:57:23.850 | General Service|:: CompanyIndex:13 SpName: spADM_GetListViewDataByIDs 
 '<XML><Row CCID="50011"  TypeID="1"  DBColumnID="566213"  NodeID="1" /><Row CCID="2"  TypeID="10"  DBColumnID="566117"  NodeID="55687" /><Row CCID="2"  TypeID="100"  DBColumnID="566117"  NodeID="55687" /><Row CCID="2"  TypeID="10"  DBColumnID="566254"  NodeID="3" /><Row CCID="2"  TypeID="100"  DBColumnID="566254"  NodeID="3" /><Row CCID="50014"  TypeID="4"  DBColumnID="566216"  NodeID="10367" /><Row CCID="50009"  TypeID="3"  DBColumnID="566211"  NodeID="10570" /><Row CCID="50010"  TypeID="3"  DBColumnID="566212"  NodeID="51889" /><Row CCID="50018"  TypeID="1"  DBColumnID="566220"  NodeID="135" /><Row CCID="50070"  TypeID="1"  DBColumnID="598043"  NodeID="4" /><Row CCID="50011"  TypeID="1"  DBColumnID="566213"  NodeID="1" /><Row CCID="50014"  TypeID="4"  DBColumnID="566216"  NodeID="10367" /><Row CCID="50009"  TypeID="3"  DBColumnID="566211"  NodeID="10570" /><Row CCID="50010"  TypeID="3"  DBColumnID="566212"  NodeID="51889" /><Row CCID="50018"  TypeID="1"  DBColumnID="566220"  NodeID="135" /><Row CCID="50070"  TypeID="1"  DBColumnID="598043"  NodeID="4" /><Row CCID="50002"  TypeID="1"  DBColumnID="566204"  NodeID="27" /><Row CCID="50058"  TypeID="1"  DBColumnID="583442"  NodeID="1" /><Row CCID="50059"  TypeID="1"  DBColumnID="583494"  NodeID="1" /><Row CCID="50061"  TypeID="11"  DBColumnID="583598"  NodeID="11" /><Row CCID="50062"  TypeID="1"  DBColumnID="583650"  NodeID="1" /><Row CCID="50058"  TypeID="1"  DBColumnID="583713"  NodeID="1" /><Row CCID="44"  TypeID="122"  DBColumnID="566171"  NodeID="641" /><Row CCID="50060"  TypeID="1"  DBColumnID="583546"  NodeID="1" /></XML>'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:57:23.850 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNjQzNiwiZXhwIjoxNzUyODQ1MjM2LCJpYXQiOjE3NTI4MTY0MzZ9.Fm1027JlYKmqSIMxYIs7BwiOhddYcE6gr8S33eHoHC0'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:57:23.866 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select ParentNodeID NodeID from COM_CostCenterCostCenterMap where CostCenterID in (8,300) and ParentCostCenterId=50033 and NodeID=41025'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:57:23.866 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNjQzNiwiZXhwIjoxNzUyODQ1MjM2LCJpYXQiOjE3NTI4MTY0MzZ9.Fm1027JlYKmqSIMxYIs7BwiOhddYcE6gr8S33eHoHC0'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:57:23.882 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select ParentNodeID NodeID from COM_CostCenterCostCenterMap where CostCenterID in (8,300) and ParentCostCenterId=50033 and NodeID=41025'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:57:23.882 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNjQzNiwiZXhwIjoxNzUyODQ1MjM2LCJpYXQiOjE3NTI4MTY0MzZ9.Fm1027JlYKmqSIMxYIs7BwiOhddYcE6gr8S33eHoHC0'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:57:23.897 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select ParentNodeID NodeID from COM_CostCenterCostCenterMap where CostCenterID in (8,300) and ParentCostCenterId=50033 and NodeID=41025'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:57:23.897 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNjQzNiwiZXhwIjoxNzUyODQ1MjM2LCJpYXQiOjE3NTI4MTY0MzZ9.Fm1027JlYKmqSIMxYIs7BwiOhddYcE6gr8S33eHoHC0'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:57:23.913 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select ParentNodeID NodeID from COM_CostCenterCostCenterMap where CostCenterID in (8,300) and ParentCostCenterId=50033 and NodeID=41025'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:57:23.913 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNjQzNiwiZXhwIjoxNzUyODQ1MjM2LCJpYXQiOjE3NTI4MTY0MzZ9.Fm1027JlYKmqSIMxYIs7BwiOhddYcE6gr8S33eHoHC0'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:57:23.913 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select ParentNodeID NodeID from COM_CostCenterCostCenterMap where CostCenterID in (8,300) and ParentCostCenterId=50033 and NodeID=41025'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:57:23.928 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNjQzNiwiZXhwIjoxNzUyODQ1MjM2LCJpYXQiOjE3NTI4MTY0MzZ9.Fm1027JlYKmqSIMxYIs7BwiOhddYcE6gr8S33eHoHC0'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:57:23.928 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select ParentNodeID NodeID from COM_CostCenterCostCenterMap where CostCenterID in (8,300) and ParentCostCenterId=50033 and NodeID=41025'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:57:23.928 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNjQzNiwiZXhwIjoxNzUyODQ1MjM2LCJpYXQiOjE3NTI4MTY0MzZ9.Fm1027JlYKmqSIMxYIs7BwiOhddYcE6gr8S33eHoHC0'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:57:23.944 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select ParentNodeID NodeID from COM_CostCenterCostCenterMap where CostCenterID in (8,300) and ParentCostCenterId=50033 and NodeID=41025'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:57:23.944 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNjQzNiwiZXhwIjoxNzUyODQ1MjM2LCJpYXQiOjE3NTI4MTY0MzZ9.Fm1027JlYKmqSIMxYIs7BwiOhddYcE6gr8S33eHoHC0'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:57:23.960 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select ParentNodeID NodeID from COM_CostCenterCostCenterMap where CostCenterID in (8,300) and ParentCostCenterId=50033 and NodeID=41025'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:57:23.960 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNjQzNiwiZXhwIjoxNzUyODQ1MjM2LCJpYXQiOjE3NTI4MTY0MzZ9.Fm1027JlYKmqSIMxYIs7BwiOhddYcE6gr8S33eHoHC0'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:57:23.975 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select ParentNodeID NodeID from COM_CostCenterCostCenterMap where CostCenterID in (8,300) and ParentCostCenterId=50033 and NodeID=41025'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:57:23.975 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNjQzNiwiZXhwIjoxNzUyODQ1MjM2LCJpYXQiOjE3NTI4MTY0MzZ9.Fm1027JlYKmqSIMxYIs7BwiOhddYcE6gr8S33eHoHC0'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:57:23.991 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select ParentNodeID NodeID from COM_CostCenterCostCenterMap where CostCenterID in (8,300) and ParentCostCenterId=50033 and NodeID=41025'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:57:23.991 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNjQzNiwiZXhwIjoxNzUyODQ1MjM2LCJpYXQiOjE3NTI4MTY0MzZ9.Fm1027JlYKmqSIMxYIs7BwiOhddYcE6gr8S33eHoHC0'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:57:24.007 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select ParentNodeID NodeID from COM_CostCenterCostCenterMap where CostCenterID in (8,300) and ParentCostCenterId=50033 and NodeID=41025'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:57:24.007 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNjQzNiwiZXhwIjoxNzUyODQ1MjM2LCJpYXQiOjE3NTI4MTY0MzZ9.Fm1027JlYKmqSIMxYIs7BwiOhddYcE6gr8S33eHoHC0'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:57:24.007 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select ParentNodeID NodeID from COM_CostCenterCostCenterMap where CostCenterID in (8,300) and ParentCostCenterId=50033 and NodeID=41025'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:57:24.022 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNjQzNiwiZXhwIjoxNzUyODQ1MjM2LCJpYXQiOjE3NTI4MTY0MzZ9.Fm1027JlYKmqSIMxYIs7BwiOhddYcE6gr8S33eHoHC0'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:57:24.022 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select ParentNodeID NodeID from COM_CostCenterCostCenterMap where CostCenterID in (8,300) and ParentCostCenterId=50033 and NodeID=41025'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:57:24.022 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNjQzNiwiZXhwIjoxNzUyODQ1MjM2LCJpYXQiOjE3NTI4MTY0MzZ9.Fm1027JlYKmqSIMxYIs7BwiOhddYcE6gr8S33eHoHC0'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:57:24.116 | General Service|:: CompanyIndex:13 SpName: spADM_GetCostCenterListViewData 
 362
 ,'a.Name,a.Code'
 ,''
 ,''
 ,'Name'
 ,''
 ,60
 ,False
 ,''
 ,''
 ,'(CCNID9=10570)'
 ,''
 ,''
 ,0
 ,False
 ,''
 ,''
 ,'1'
 ,'1'
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:57:24.116 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNjQzNiwiZXhwIjoxNzUyODQ1MjM2LCJpYXQiOjE3NTI4MTY0MzZ9.Fm1027JlYKmqSIMxYIs7BwiOhddYcE6gr8S33eHoHC0'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 10:57:44.299 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 10:57:44.299 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:58:18.978 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:58:18.994 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNjQzNiwiZXhwIjoxNzUyODQ1MjM2LCJpYXQiOjE3NTI4MTY0MzZ9.Fm1027JlYKmqSIMxYIs7BwiOhddYcE6gr8S33eHoHC0'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 10:58:44.301 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 10:58:44.301 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:59:19.058 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 10:59:19.074 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNjQzNiwiZXhwIjoxNzUyODQ1MjM2LCJpYXQiOjE3NTI4MTY0MzZ9.Fm1027JlYKmqSIMxYIs7BwiOhddYcE6gr8S33eHoHC0'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 10:59:44.287 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 10:59:44.287 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 11:00:18.966 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 11:00:18.966 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNjQzNiwiZXhwIjoxNzUyODQ1MjM2LCJpYXQiOjE3NTI4MTY0MzZ9.Fm1027JlYKmqSIMxYIs7BwiOhddYcE6gr8S33eHoHC0'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 11:00:44.289 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 11:00:44.289 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 11:01:19.109 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 11:01:19.109 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNjQzNiwiZXhwIjoxNzUyODQ1MjM2LCJpYXQiOjE3NTI4MTY0MzZ9.Fm1027JlYKmqSIMxYIs7BwiOhddYcE6gr8S33eHoHC0'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 11:01:43.431 | General Service|:: CompanyIndex:13 SpName: spCOM_ConfigValues 
 1
 ,'NotifTime'
 ,''
[System: 192.168.1.79] DEBUG | 07-18-2025 11:01:43.431 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 11:01:44.291 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 11:01:44.291 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 11:02:18.095 | General Service|:: CompanyIndex:13 SpName: spCOM_ConfigValues 
 1
 ,'NotifTime'
 ,''
[System: 192.168.1.54] DEBUG | 07-18-2025 11:02:18.095 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNjQzNiwiZXhwIjoxNzUyODQ1MjM2LCJpYXQiOjE3NTI4MTY0MzZ9.Fm1027JlYKmqSIMxYIs7BwiOhddYcE6gr8S33eHoHC0'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 11:02:18.986 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 11:02:18.986 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNjQzNiwiZXhwIjoxNzUyODQ1MjM2LCJpYXQiOjE3NTI4MTY0MzZ9.Fm1027JlYKmqSIMxYIs7BwiOhddYcE6gr8S33eHoHC0'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 11:02:44.308 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 11:02:44.308 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 11:03:18.988 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 11:03:18.988 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNjQzNiwiZXhwIjoxNzUyODQ1MjM2LCJpYXQiOjE3NTI4MTY0MzZ9.Fm1027JlYKmqSIMxYIs7BwiOhddYcE6gr8S33eHoHC0'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 11:03:44.295 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 11:03:44.295 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 11:04:19.177 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 11:04:19.177 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNjQzNiwiZXhwIjoxNzUyODQ1MjM2LCJpYXQiOjE3NTI4MTY0MzZ9.Fm1027JlYKmqSIMxYIs7BwiOhddYcE6gr8S33eHoHC0'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 11:04:44.296 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 11:04:44.296 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 11:05:19.711 | General Service|:: CompanyIndex:0 SpName: spADM_GetClientUserDetails2C 
 'admin'
 ,1
 ,0
[System: 192.168.1.54] DEBUG | 07-18-2025 11:05:19.757 | General Service|:: CompanyIndex:0 SpName: spADM_UserLoginCheck 
 2
 ,'admin'
 ,0
 ,'192.168.1.54'
 ,'192.168.1.54'
 ,''
 ,'Web'
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 11:05:22.491 | General Service|:: CompanyIndex:13 SpName: spADM_GetClientUserDetails 
 'admin'
 ,1
 ,'26.1.0'
 ,0
[System: 192.168.1.54] DEBUG | 07-18-2025 11:05:22.538 | General Service|:: CompanyIndex:0 SpName: spADM_UserLoginCheck 
 2
 ,'admin'
 ,13
 ,'192.168.1.54'
 ,'192.168.1.54'
 ,''
 ,'Web'
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 11:05:22.538 | General Service|:: CompanyIndex:0 SpName: spADM_Login 
 1
 ,''
 ,''
 ,''
 ,''
 ,''
 ,13
[System: 192.168.1.54] DEBUG | 07-18-2025 11:05:22.538 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select Value from ADM_GlobalPreferences with (nolock) where name =''EnableReLogin'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 11:05:22.538 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNjkyMiwiZXhwIjoxNzUyODQ1NzIyLCJpYXQiOjE3NTI4MTY5MjJ9.vm-JMpDZjJQ6DROWc-_ncdqZ-9ULr1sMl9lB9YHV_lI'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 11:05:22.569 | General Service|:: CompanyIndex:0 SpName: spADM_Login 
 4
 ,''
 ,''
 ,''
 ,'declare @Cnt int,@ExpiredGUID nvarchar(50),@AllowSession int,@GUID nvarchar(50),@CurrDate float,@UserID INT,@Instances INT,@InstancesExists INT,@LCDBIndex int
set @CurrDate= convert(float,dateadd(minute,-21,getdate()))
set @AllowSession=0
set @GUID=''dee63c6c-c320-46cc-b74e-b591b2a0e513''
set @LCDBIndex=0
select top 1 @UserID=UserID,@Instances=InstanceCount from ADM_Users with(nolock) where UserName=''admin''
if exists(select [GUID] from ADM_Login with(nolock) where [GUID]=@GUID)
begin
	update ADM_Login 
	set LastAccessTime=convert(float,getdate()),UserID=@UserID
	where [GUID]=@GUID
    set @AllowSession=1
end
else
begin
	select @Cnt=count(*) from ADM_Login with(nolock) where LCDBIndex=@LCDBIndex and [GUID]!=''ACCESSRIGHTS'' and AP =''WEB''
    if(@Cnt<100)
		set @AllowSession=1
	else
	begin
		select top 1 @ExpiredGUID=[GUID] from ADM_Login with(nolock)
		where [GUID]!=''ACCESSRIGHTS'' and LCDBIndex=@LCDBIndex and LastAccessTime<@CurrDate  and AP =''WEB''
        order by LastAccessTime asc
		if @ExpiredGUID is not null
		begin
			delete from ADM_Login where [GUID]=@ExpiredGUID
			set @AllowSession=1
		end
	end
	if @AllowSession=1
	begin
        select @InstancesExists=COUNT(*) from ADM_Login with(nolock)
		where [GUID]!=''ACCESSRIGHTS'' and LCDBIndex=@LCDBIndex and LastAccessTime>=@CurrDate and UserID=@UserID and AP =''WEB''
		if(@Instances!=0 and @Instances<=@InstancesExists)
			set @AllowSession=2
		else
		    INSERT INTO ADM_Login([GUID],[SysName],IPAddress,[Status],LoginTime,LastAccessTime,AccessRights,UserID,DBIndex,LCDBIndex,AP)
		    VALUES(@GUID,''WEB'',''192.168.1.54'',1,convert(float,getdate()),convert(float,getdate()),null,@UserID,13,@LCDBIndex, ''WEB'')
	end
end

select @AllowSession AllowSession,@Instances Instances,@InstancesExists InstancesExists
'
 ,''
 ,0
[System: 192.168.1.54] DEBUG | 07-18-2025 11:05:22.569 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNjkyMiwiZXhwIjoxNzUyODQ1NzIyLCJpYXQiOjE3NTI4MTY5MjJ9.vm-JMpDZjJQ6DROWc-_ncdqZ-9ULr1sMl9lB9YHV_lI'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 11:05:22.601 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'SELECT (SELECT COUNT(*) FROM COM_Location L WITH(NOLOCK) JOIN COM_Status S WITH(NOLOCK) ON S.StatusID=L.StatusID WHERE L.IsGroup=0 AND S.[Status]=''Active'') ML
,(SELECT COUNT(*) FROM ADM_Features WITH(NOLOCK) WHERE ((FeatureID>50000 AND FeatureID<=50050) OR FeatureID>=51000) AND IsEnabled=1) MD
,(SELECT ISNULL(COUNT(*),0) FROM ADM_RevenUReports WITH(NOLOCK) WHERE IsGroup=0 AND ReportID>10000 AND StaticReportType IN (0,-1)) MR'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 11:05:22.601 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNjkyMiwiZXhwIjoxNzUyODQ1NzIyLCJpYXQiOjE3NTI4MTY5MjJ9.vm-JMpDZjJQ6DROWc-_ncdqZ-9ULr1sMl9lB9YHV_lI'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 11:05:24.053 | General Service|:: CompanyIndex:13 SpName: spCOM_ConfigValues 
 1
 ,'NotifTime'
 ,''
[System: 192.168.1.54] DEBUG | 07-18-2025 11:05:24.069 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNjkyMiwiZXhwIjoxNzUyODQ1NzIyLCJpYXQiOjE3NTI4MTY5MjJ9.vm-JMpDZjJQ6DROWc-_ncdqZ-9ULr1sMl9lB9YHV_lI'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 11:05:24.257 | General Service|:: CompanyIndex:13 SpName: spADM_GetRibbonView 
 1
 ,1
 ,1
 ,1
 ,0
 ,''
[System: 192.168.1.54] DEBUG | 07-18-2025 11:05:24.272 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNjkyMiwiZXhwIjoxNzUyODQ1NzIyLCJpYXQiOjE3NTI4MTY5MjJ9.vm-JMpDZjJQ6DROWc-_ncdqZ-9ULr1sMl9lB9YHV_lI'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 11:05:24.460 | General Service|:: CompanyIndex:13 SpName: spRPT_GetReport 
 2
 ,0
 ,'1'
 ,'1'
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 11:05:24.460 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNjkyMiwiZXhwIjoxNzUyODQ1NzIyLCJpYXQiOjE3NTI4MTY5MjJ9.vm-JMpDZjJQ6DROWc-_ncdqZ-9ULr1sMl9lB9YHV_lI'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 11:05:24.475 | General Service|:: CompanyIndex:13 SpName: spADM_GetDashBoard 
 2
 ,0
 ,0
 ,'1'
 ,'1'
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 11:05:24.475 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNjkyMiwiZXhwIjoxNzUyODQ1NzIyLCJpYXQiOjE3NTI4MTY5MjJ9.vm-JMpDZjJQ6DROWc-_ncdqZ-9ULr1sMl9lB9YHV_lI'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 11:05:24.491 | General Service|:: CompanyIndex:13 SpName: spCOM_ConfigValues 
 1
 ,'LandingDocs'
 ,'1'
[System: 192.168.1.54] DEBUG | 07-18-2025 11:05:24.491 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNjkyMiwiZXhwIjoxNzUyODQ1NzIyLCJpYXQiOjE3NTI4MTY5MjJ9.vm-JMpDZjJQ6DROWc-_ncdqZ-9ULr1sMl9lB9YHV_lI'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 11:05:24.522 | General Service|:: CompanyIndex:13 SpName: spADM_GetAllListViewsDef 
 1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 11:05:24.522 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNjkyMiwiZXhwIjoxNzUyODQ1NzIyLCJpYXQiOjE3NTI4MTY5MjJ9.vm-JMpDZjJQ6DROWc-_ncdqZ-9ULr1sMl9lB9YHV_lI'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 11:05:24.522 | General Service|:: CompanyIndex:13 SpName: spCOM_GetFavorites 
 'GETLIST0'
 ,0
 ,'1'
 ,'1'
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 11:05:24.538 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNjkyMiwiZXhwIjoxNzUyODQ1NzIyLCJpYXQiOjE3NTI4MTY5MjJ9.vm-JMpDZjJQ6DROWc-_ncdqZ-9ULr1sMl9lB9YHV_lI'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 11:05:24.600 | General Service|:: CompanyIndex:13 SpName: spADM_GetAllListViewsDef 
 1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 11:05:24.600 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNjkyMiwiZXhwIjoxNzUyODQ1NzIyLCJpYXQiOjE3NTI4MTY5MjJ9.vm-JMpDZjJQ6DROWc-_ncdqZ-9ULr1sMl9lB9YHV_lI'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 11:05:24.694 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'Select CostCenterID,CostCenterColID,CostCenterName,SysTableName,UserColumnName,SysColumnName,ISNULL(UserDefaultValue,'''') UserDefaultValue
From AdM_CostCenterDef WITH(NOLOCK)
Where SysColumnName IN(''CreditAccount'',''DebitAccount'',''ProductID'') 
AND CostCenterID>40000 AND CostCenterID<50000 

SELECT * FROM ADM_Features WITH(NOLOCK) '
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 11:05:24.694 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNjkyMiwiZXhwIjoxNzUyODQ1NzIyLCJpYXQiOjE3NTI4MTY5MjJ9.vm-JMpDZjJQ6DROWc-_ncdqZ-9ULr1sMl9lB9YHV_lI'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 11:05:24.725 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 '  SELECT * FROM PAY_PayrollPreferences WITH(NOLOCK) '
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 11:05:24.725 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNjkyMiwiZXhwIjoxNzUyODQ1NzIyLCJpYXQiOjE3NTI4MTY5MjJ9.vm-JMpDZjJQ6DROWc-_ncdqZ-9ULr1sMl9lB9YHV_lI'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 11:05:24.741 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 '  --0
                                Select * FROM COM_CC50051 WITH(NOLOCK) WHERE IsGroup=0 AND LoginUserID=''admin''
                                --1                                
                                Select * FROM COM_CC50051 WITH(NOLOCK) WHERE RptManager IN (Select NodeID FROM COM_CC50051 WITH(NOLOCK) WHERE IsGroup=0 AND LoginUserID=''admin'')
                                UNION ALL
                                Select * FROM COM_CC50051 WITH(NOLOCK) WHERE RptManager IN 
                                (
	                                Select NodeID FROM COM_CC50051 WITH(NOLOCK) 
	                                WHERE IsGroup=0 AND LoginUserID IN
	                                (
	                                SELECT fe.LoginUserID
	                                FROM INV_DocDetails a WITH(NOLOCK) 
	                                JOIN COM_DocCCData b WITH(NOLOCK) ON b.InvDocDetailsID=a.InvDocDetailsID
	                                JOIN COM_DocNumData c WITH(NOLOCK) ON c.InvDocDetailsID=a.InvDocDetailsID
	                                JOIN COM_DocTextData d WITH(NOLOCK) ON d.InvDocDetailsID=a.InvDocDetailsID
	                                JOIN COM_CC50051 fe WITH(NOLOCK) on fe.NodeID=b.dcCCNID51
	                                JOIN COM_CC50051 te WITH(NOLOCK) on CONVERT(NVARCHAR,te.NodeID)=d.dcAlpha1
	                                WHERE a.CostCenterID=40098 and a.StatusID=369 AND d.dcAlpha3=''Temporary''
	                                AND te.LoginUserID=''admin'' 
	                                AND ISDATE(d.dcAlpha4)=1 AND ISDATE(d.dcAlpha5)=1 
	                                AND CONVERT(DATETIME,''18 Jul 2025'') BETWEEN CONVERT(DATETIME,d.dcAlpha4) AND CONVERT(DATETIME,d.dcAlpha5)
	                                )
                                )
                                --2
                                Select * FROM ADM_USERS WITH(NOLOCK) WHERE USERID=1
                                --3
                                Select * FROM COM_CostCenterCostCenterMap WITH(NOLOCK) WHERE ParentCostCenterID=7 AND ParentNodeID=1
                                --4                                
                                Select * FROM COM_CostCenterCostCenterMap WITH(NOLOCK) WHERE ParentCostCenterID=7 AND ParentNodeID=1
                                AND CostCenterID IN(Select ColumnCostCenterID From ADM_CostCenterDef Where CostCenterID=50051 AND IsColumnInUse=1 AND SysColumnName LIKE ''CCNID%'')
                                --5
                                Select * from COM_Files WITH(NOLOCK) WHERE FeatureID=50051 AND FeaturePK IN (Select NodeID FROM COM_CC50051 WITH(NOLOCK) WHERE IsGroup=0 AND LoginUserID=''admin'')                         
'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 11:05:24.756 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNjkyMiwiZXhwIjoxNzUyODQ1NzIyLCJpYXQiOjE3NTI4MTY5MjJ9.vm-JMpDZjJQ6DROWc-_ncdqZ-9ULr1sMl9lB9YHV_lI'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 11:05:25.022 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 11:05:25.022 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNjkyMiwiZXhwIjoxNzUyODQ1NzIyLCJpYXQiOjE3NTI4MTY5MjJ9.vm-JMpDZjJQ6DROWc-_ncdqZ-9ULr1sMl9lB9YHV_lI'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 11:05:25.100 | General Service|:: CompanyIndex:13 SpName: spADM_GetDashBoard 
 1
 ,8
 ,0
 ,'1'
 ,'1'
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 11:05:25.116 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNjkyMiwiZXhwIjoxNzUyODQ1NzIyLCJpYXQiOjE3NTI4MTY5MjJ9.vm-JMpDZjJQ6DROWc-_ncdqZ-9ULr1sMl9lB9YHV_lI'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 11:05:25.131 | General Service|:: CompanyIndex:13 SpName: spRPT_GetReport 
 0
 ,30456
 ,'1'
 ,'1'
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 11:05:25.131 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNjkyMiwiZXhwIjoxNzUyODQ1NzIyLCJpYXQiOjE3NTI4MTY5MjJ9.vm-JMpDZjJQ6DROWc-_ncdqZ-9ULr1sMl9lB9YHV_lI'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 11:05:25.225 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'SELECT StaticReportType FROM ADM_RevenUReports WITH(NOLOCK) WHERE ReportID=30456'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 11:05:25.225 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNjkyMiwiZXhwIjoxNzUyODQ1NzIyLCJpYXQiOjE3NTI4MTY5MjJ9.vm-JMpDZjJQ6DROWc-_ncdqZ-9ULr1sMl9lB9YHV_lI'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 11:05:25.350 | General Service|:: CompanyIndex:13 SpName: spRPT_GetReportCategoryandField 
 -1
 ,0
 ,1
 ,0
 ,'1'
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 11:05:25.350 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNjkyMiwiZXhwIjoxNzUyODQ1NzIyLCJpYXQiOjE3NTI4MTY5MjJ9.vm-JMpDZjJQ6DROWc-_ncdqZ-9ULr1sMl9lB9YHV_lI'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 11:05:25.381 | General Service|:: CompanyIndex:13 SpName: spRPT_GetReportFields 
 400
 ,0
 ,'1'
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 11:05:25.381 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNjkyMiwiZXhwIjoxNzUyODQ1NzIyLCJpYXQiOjE3NTI4MTY5MjJ9.vm-JMpDZjJQ6DROWc-_ncdqZ-9ULr1sMl9lB9YHV_lI'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 11:05:25.428 | General Service|:: CompanyIndex:13 SpName: spRPT_GetReportData 
 9
 ,1
 ,'<XML UID="1" ShowMyQueue="0"></XML>'
 ,'1'
[System: 192.168.1.54] DEBUG | 07-18-2025 11:05:25.428 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNjkyMiwiZXhwIjoxNzUyODQ1NzIyLCJpYXQiOjE3NTI4MTY5MjJ9.vm-JMpDZjJQ6DROWc-_ncdqZ-9ULr1sMl9lB9YHV_lI'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 11:05:25.584 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
                EXEC spRPT_GetReportData @Type=8,@Param1=1,@strXML=null,@RoleID=1
SELECT ACC.VoucherNo [C858bdfa70f884b78b8ec0453808910bb],ACC.VersionNo [C858bdfa70f884b78b8ec0453808910bbVer],CONVERT(DATETIME,ACC.DocDate) [Cf4c1ff96517a40978b75103376667aae],ACC.DocAbbr [C501419b9c341410d8920b953fb30cfbf],ACC.Amount [Cfa623191688842d5ac3c0cd9232cfb2e],NULL [C90a85d26ad47471988897309a5c78218],T1.UserName [Cd0c4cb9a7057416ca691fb5c4774545b],T3.Name [C80a6de4371d045c08bf9d035c1831959],ACC.CommonNarration [Ce66e27446651436893b0d2c967dd0ecb],T4.Status [Ca7da089a0bd542838ddeb39e78a982ea],T5.Name [Cff89130f277d4635b5e1c5e6887cbcb5],ACC.VoucherNo [Cdacb59b3f5e54f18b65dfc4cf3186555],ACC.DocAbbr [Cdacb59b3f5e54f18b65dfc4cf3186555Abr],ACC.DocPrefix [Cdacb59b3f5e54f18b65dfc4cf3186555prf],CONVERT(BIGINT,ACC.DocNumber) [Cdacb59b3f5e54f18b65dfc4cf3186555dno]
 FROM ACC_DocDetails ACC with(nolock) left join ADM_Users T1 with(nolock) on ACC.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on ACC.AccDocDetailsID=TDCC.AccDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on ACC.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (ACC.CostCenterID=41053) AND T4.Status=''Unapproved'' AND ACC.LinkedAccDocDetailsID is null AND WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT ACC.VoucherNo,ACC.VersionNo,CONVERT(DATETIME,ACC.DocDate),ACC.DocAbbr,ACC.Amount,NULL,T1.UserName,T3.Name,ACC.CommonNarration,T4.Status,T5.Name,ACC.VoucherNo,ACC.DocAbbr,ACC.DocPrefix,CONVERT(BIGINT,ACC.DocNumber)
 FROM ACC_DocDetails ACC with(nolock) left join ADM_Users T1 with(nolock) on ACC.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on ACC.AccDocDetailsID=TDCC.AccDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on ACC.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (ACC.CostCenterID=41061) AND T4.Status=''Unapproved'' AND ACC.LinkedAccDocDetailsID is null AND WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT ACC.VoucherNo,ACC.VersionNo,CONVERT(DATETIME,ACC.DocDate),ACC.DocAbbr,ACC.Amount,NULL,T1.UserName,T3.Name,ACC.CommonNarration,T4.Status,T5.Name,ACC.VoucherNo,ACC.DocAbbr,ACC.DocPrefix,CONVERT(BIGINT,ACC.DocNumber)
 FROM ACC_DocDetails ACC with(nolock) left join ADM_Users T1 with(nolock) on ACC.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on ACC.AccDocDetailsID=TDCC.AccDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on ACC.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (ACC.CostCenterID=40023) AND T4.Status=''Unapproved'' AND ACC.LinkedAccDocDetailsID is null AND WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT ACC.VoucherNo,ACC.VersionNo,CONVERT(DATETIME,ACC.DocDate),ACC.DocAbbr,ACC.Amount,NULL,T1.UserName,T3.Name,ACC.CommonNarration,T4.Status,T5.Name,ACC.VoucherNo,ACC.DocAbbr,ACC.DocPrefix,CONVERT(BIGINT,ACC.DocNumber)
 FROM ACC_DocDetails ACC with(nolock) left join ADM_Users T1 with(nolock) on ACC.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on ACC.AccDocDetailsID=TDCC.AccDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on ACC.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (ACC.CostCenterID=41064) AND T4.Status=''Unapproved'' AND ACC.LinkedAccDocDetailsID is null AND WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT ACC.VoucherNo,ACC.VersionNo,CONVERT(DATETIME,ACC.DocDate),ACC.DocAbbr,ACC.Amount,NULL,T1.UserName,T3.Name,ACC.CommonNarration,T4.Status,T5.Name,ACC.VoucherNo,ACC.DocAbbr,ACC.DocPrefix,CONVERT(BIGINT,ACC.DocNumber)
 FROM ACC_DocDetails ACC with(nolock) left join ADM_Users T1 with(nolock) on ACC.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on ACC.AccDocDetailsID=TDCC.AccDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on ACC.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (ACC.CostCenterID=41006) AND T4.Status=''Unapproved'' AND ACC.LinkedAccDocDetailsID is null AND WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT ACC.VoucherNo,ACC.VersionNo,CONVERT(DATETIME,ACC.DocDate),ACC.DocAbbr,ACC.Amount,NULL,T1.UserName,T3.Name,ACC.CommonNarration,T4.Status,T5.Name,ACC.VoucherNo,ACC.DocAbbr,ACC.DocPrefix,CONVERT(BIGINT,ACC.DocNumber)
 FROM ACC_DocDetails ACC with(nolock) left join ADM_Users T1 with(nolock) on ACC.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on ACC.AccDocDetailsID=TDCC.AccDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on ACC.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (ACC.CostCenterID=40022) AND T4.Status=''Unapproved'' AND ACC.LinkedAccDocDetailsID is null AND WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT ACC.VoucherNo,ACC.VersionNo,CONVERT(DATETIME,ACC.DocDate),ACC.DocAbbr,ACC.Amount,NULL,T1.UserName,T3.Name,ACC.CommonNarration,T4.Status,T5.Name,ACC.VoucherNo,ACC.DocAbbr,ACC.DocPrefix,CONVERT(BIGINT,ACC.DocNumber)
 FROM ACC_DocDetails ACC with(nolock) left join ADM_Users T1 with(nolock) on ACC.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on ACC.AccDocDetailsID=TDCC.AccDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on ACC.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (ACC.CostCenterID=41075) AND T4.Status=''Unapproved'' AND ACC.LinkedAccDocDetailsID is null AND WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT ACC.VoucherNo,ACC.VersionNo,CONVERT(DATETIME,ACC.DocDate),ACC.DocAbbr,ACC.Amount,NULL,T1.UserName,T3.Name,ACC.CommonNarration,T4.Status,T5.Name,ACC.VoucherNo,ACC.DocAbbr,ACC.DocPrefix,CONVERT(BIGINT,ACC.DocNumber)
 FROM ACC_DocDetails ACC with(nolock) left join ADM_Users T1 with(nolock) on ACC.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on ACC.AccDocDetailsID=TDCC.AccDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on ACC.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (ACC.CostCenterID=41077) AND T4.Status=''Unapproved'' AND ACC.LinkedAccDocDetailsID is null AND WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT ACC.VoucherNo,ACC.VersionNo,CONVERT(DATETIME,ACC.DocDate),ACC.DocAbbr,ACC.Amount,NULL,T1.UserName,T3.Name,ACC.CommonNarration,T4.Status,T5.Name,ACC.VoucherNo,ACC.DocAbbr,ACC.DocPrefix,CONVERT(BIGINT,ACC.DocNumber)
 FROM ACC_DocDetails ACC with(nolock) left join ADM_Users T1 with(nolock) on ACC.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on ACC.AccDocDetailsID=TDCC.AccDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on ACC.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (ACC.CostCenterID=40014) AND T4.Status=''Unapproved'' AND ACC.LinkedAccDocDetailsID is null AND WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT ACC.VoucherNo,ACC.VersionNo,CONVERT(DATETIME,ACC.DocDate),ACC.DocAbbr,ACC.Amount,NULL,T1.UserName,T3.Name,ACC.CommonNarration,T4.Status,T5.Name,ACC.VoucherNo,ACC.DocAbbr,ACC.DocPrefix,CONVERT(BIGINT,ACC.DocNumber)
 FROM ACC_DocDetails ACC with(nolock) left join ADM_Users T1 with(nolock) on ACC.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on ACC.AccDocDetailsID=TDCC.AccDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on ACC.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (ACC.CostCenterID=41065) AND T4.Status=''Unapproved'' AND ACC.LinkedAccDocDetailsID is null AND WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT ACC.VoucherNo,ACC.VersionNo,CONVERT(DATETIME,ACC.DocDate),ACC.DocAbbr,ACC.Amount,NULL,T1.UserName,T3.Name,ACC.CommonNarration,T4.Status,T5.Name,ACC.VoucherNo,ACC.DocAbbr,ACC.DocPrefix,CONVERT(BIGINT,ACC.DocNumber)
 FROM ACC_DocDetails ACC with(nolock) left join ADM_Users T1 with(nolock) on ACC.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on ACC.AccDocDetailsID=TDCC.AccDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on ACC.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (ACC.CostCenterID=40017) AND T4.Status=''Unapproved'' AND ACC.LinkedAccDocDetailsID is null AND WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT INV.VoucherNo,INV.VersionNo,CONVERT(DATETIME,INV.DocDate),INV.DocAbbr,NULL,CASE WHEN (SELECT DocumentType FROM ADM_DocumentTypes WITH(NOLOCK) WHERE CostCenterID=INV.CostCenterID)=38 AND VoucherType=1 THEN -INV.Gross ELSE INV.Gross END,T1.UserName,T3.Name,INV.CommonNarration,T4.Status,T5.Name,INV.VoucherNo,INV.DocAbbr,INV.DocPrefix,CONVERT(BIGINT,INV.DocNumber)
 FROM INV_DocDetails INV with(nolock) left join ADM_Users T1 with(nolock) on INV.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on INV.InvDocDetailsID=TDCC.InvDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on INV.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (INV.CostCenterID=41018) AND T4.Status=''Unapproved'' AND WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef and INV.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT INV.VoucherNo,INV.VersionNo,CONVERT(DATETIME,INV.DocDate),INV.DocAbbr,NULL,CASE WHEN (SELECT DocumentType FROM ADM_DocumentTypes WITH(NOLOCK) WHERE CostCenterID=INV.CostCenterID)=38 AND VoucherType=1 THEN -INV.Gross ELSE INV.Gross END,T1.UserName,T3.Name,INV.CommonNarration,T4.Status,T5.Name,INV.VoucherNo,INV.DocAbbr,INV.DocPrefix,CONVERT(BIGINT,INV.DocNumber)
 FROM INV_DocDetails INV with(nolock) left join ADM_Users T1 with(nolock) on INV.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on INV.InvDocDetailsID=TDCC.InvDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on INV.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (INV.CostCenterID=40011) AND T4.Status=''Unapproved'' AND WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef and INV.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT INV.VoucherNo,INV.VersionNo,CONVERT(DATETIME,INV.DocDate),INV.DocAbbr,NULL,CASE WHEN (SELECT DocumentType FROM ADM_DocumentTypes WITH(NOLOCK) WHERE CostCenterID=INV.CostCenterID)=38 AND VoucherType=1 THEN -INV.Gross ELSE INV.Gross END,T1.UserName,T3.Name,INV.CommonNarration,T4.Status,T5.Name,INV.VoucherNo,INV.DocAbbr,INV.DocPrefix,CONVERT(BIGINT,INV.DocNumber)
 FROM INV_DocDetails INV with(nolock) left join ADM_Users T1 with(nolock) on INV.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on INV.InvDocDetailsID=TDCC.InvDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on INV.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (INV.CostCenterID=41072) AND T4.Status=''Unapproved'' AND WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef and INV.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT INV.VoucherNo,INV.VersionNo,CONVERT(DATETIME,INV.DocDate),INV.DocAbbr,NULL,CASE WHEN (SELECT DocumentType FROM ADM_DocumentTypes WITH(NOLOCK) WHERE CostCenterID=INV.CostCenterID)=38 AND VoucherType=1 THEN -INV.Gross ELSE INV.Gross END,T1.UserName,T3.Name,INV.CommonNarration,T4.Status,T5.Name,INV.VoucherNo,INV.DocAbbr,INV.DocPrefix,CONVERT(BIGINT,INV.DocNumber)
 FROM INV_DocDetails INV with(nolock) left join ADM_Users T1 with(nolock) on INV.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on INV.InvDocDetailsID=TDCC.InvDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on INV.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (INV.CostCenterID=41057) AND T4.Status=''Unapproved'' AND WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef and INV.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT INV.VoucherNo,INV.VersionNo,CONVERT(DATETIME,INV.DocDate),INV.DocAbbr,NULL,CASE WHEN (SELECT DocumentType FROM ADM_DocumentTypes WITH(NOLOCK) WHERE CostCenterID=INV.CostCenterID)=38 AND VoucherType=1 THEN -INV.Gross ELSE INV.Gross END,T1.UserName,T3.Name,INV.CommonNarration,T4.Status,T5.Name,INV.VoucherNo,INV.DocAbbr,INV.DocPrefix,CONVERT(BIGINT,INV.DocNumber)
 FROM INV_DocDetails INV with(nolock) left join ADM_Users T1 with(nolock) on INV.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on INV.InvDocDetailsID=TDCC.InvDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on INV.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (INV.CostCenterID=41060) AND T4.Status=''Unapproved'' AND WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef and INV.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT INV.VoucherNo,INV.VersionNo,CONVERT(DATETIME,INV.DocDate),INV.DocAbbr,NULL,CASE WHEN (SELECT DocumentType FROM ADM_DocumentTypes WITH(NOLOCK) WHERE CostCenterID=INV.CostCenterID)=38 AND VoucherType=1 THEN -INV.Gross ELSE INV.Gross END,T1.UserName,T3.Name,INV.CommonNarration,T4.Status,T5.Name,INV.VoucherNo,INV.DocAbbr,INV.DocPrefix,CONVERT(BIGINT,INV.DocNumber)
 FROM INV_DocDetails INV with(nolock) left join ADM_Users T1 with(nolock) on INV.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on INV.InvDocDetailsID=TDCC.InvDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on INV.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (INV.CostCenterID=40001) AND T4.Status=''Unapproved'' AND WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef and INV.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT INV.VoucherNo,INV.VersionNo,CONVERT(DATETIME,INV.DocDate),INV.DocAbbr,NULL,CASE WHEN (SELECT DocumentType FROM ADM_DocumentTypes WITH(NOLOCK) WHERE CostCenterID=INV.CostCenterID)=38 AND VoucherType=1 THEN -INV.Gross ELSE INV.Gross END,T1.UserName,T3.Name,INV.CommonNarration,T4.Status,T5.Name,INV.VoucherNo,INV.DocAbbr,INV.DocPrefix,CONVERT(BIGINT,INV.DocNumber)
 FROM INV_DocDetails INV with(nolock) left join ADM_Users T1 with(nolock) on INV.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on INV.InvDocDetailsID=TDCC.InvDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on INV.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (INV.CostCenterID=41054) AND T4.Status=''Unapproved'' AND WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef and INV.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT ACC.VoucherNo,ACC.VersionNo,CONVERT(DATETIME,ACC.DocDate),ACC.DocAbbr,ACC.Amount,NULL,T1.UserName,T3.Name,ACC.CommonNarration,T4.Status,T5.Name,ACC.VoucherNo,ACC.DocAbbr,ACC.DocPrefix,CONVERT(BIGINT,ACC.DocNumber)
 FROM ACC_DocDetails ACC with(nolock) left join ADM_Users T1 with(nolock) on ACC.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on ACC.AccDocDetailsID=TDCC.AccDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on ACC.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (ACC.CostCenterID=41033) AND T4.Status=''Unapproved'' AND ACC.LinkedAccDocDetailsID is null AND WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT ACC.VoucherNo,ACC.VersionNo,CONVERT(DATETIME,ACC.DocDate),ACC.DocAbbr,ACC.Amount,NULL,T1.UserName,T3.Name,ACC.CommonNarration,T4.Status,T5.Name,ACC.VoucherNo,ACC.DocAbbr,ACC.DocPrefix,CONVERT(BIGINT,ACC.DocNumber)
 FROM ACC_DocDetails ACC with(nolock) left join ADM_Users T1 with(nolock) on ACC.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on ACC.AccDocDetailsID=TDCC.AccDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on ACC.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (ACC.CostCenterID=40019) AND T4.Status=''Unapproved'' AND ACC.LinkedAccDocDetailsID is null AND WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT ACC.VoucherNo,ACC.VersionNo,CONVERT(DATETIME,ACC.DocDate),ACC.DocAbbr,ACC.Amount,NULL,T1.UserName,T3.Name,ACC.CommonNarration,T4.Status,T5.Name,ACC.VoucherNo,ACC.DocAbbr,ACC.DocPrefix,CONVERT(BIGINT,ACC.DocNumber)
 FROM ACC_DocDetails ACC with(nolock) left join ADM_Users T1 with(nolock) on ACC.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on ACC.AccDocDetailsID=TDCC.AccDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on ACC.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (ACC.CostCenterID=41013) AND T4.Status=''Unapproved'' AND ACC.LinkedAccDocDetailsID is null AND WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef and ACC.CreatedDate+WF.CtWef<=convert(float,getdate()))) ORDER BY [Cdacb59b3f5e54f18b65dfc4cf3186555Abr] ,[Cdacb59b3f5e54f18b65dfc4cf3186555prf] ,[Cdacb59b3f5e54f18b65dfc4cf3186555dno]  
 DROP TABLE #TblUsrWF'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 11:05:25.584 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNjkyMiwiZXhwIjoxNzUyODQ1NzIyLCJpYXQiOjE3NTI4MTY5MjJ9.vm-JMpDZjJQ6DROWc-_ncdqZ-9ULr1sMl9lB9YHV_lI'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 11:05:28.349 | General Service|:: CompanyIndex:13 SpName: spDOC_GetDocumentDefinition 
 41025
 ,NULL
 ,NULL
 ,''
 ,1
 ,'admin'
 ,1
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 11:05:28.349 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNjkyMiwiZXhwIjoxNzUyODQ1NzIyLCJpYXQiOjE3NTI4MTY5MjJ9.vm-JMpDZjJQ6DROWc-_ncdqZ-9ULr1sMl9lB9YHV_lI'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 11:05:28.396 | General Service|:: CompanyIndex:13 SpName: spDoc_GetCurrencyExchangeRate 
 1
 ,'18-Jul-2025'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 11:05:28.396 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNjkyMiwiZXhwIjoxNzUyODQ1NzIyLCJpYXQiOjE3NTI4MTY5MjJ9.vm-JMpDZjJQ6DROWc-_ncdqZ-9ULr1sMl9lB9YHV_lI'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 11:05:28.428 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'SELECT Code FROM COM_Location WITH(NOLOCK) WHERE NodeID=27'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 11:05:28.428 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNjkyMiwiZXhwIjoxNzUyODQ1NzIyLCJpYXQiOjE3NTI4MTY5MjJ9.vm-JMpDZjJQ6DROWc-_ncdqZ-9ULr1sMl9lB9YHV_lI'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 11:05:28.443 | General Service|:: CompanyIndex:13 SpName: spDOC_GetDocumentPrefix 
 41025
 ,27
 ,''
 ,''
 ,'1'
 ,'1'
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 11:05:28.443 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNjkyMiwiZXhwIjoxNzUyODQ1NzIyLCJpYXQiOjE3NTI4MTY5MjJ9.vm-JMpDZjJQ6DROWc-_ncdqZ-9ULr1sMl9lB9YHV_lI'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 11:05:28.459 | General Service|:: CompanyIndex:13 SpName: spDOC_GetDueDate 
 55687
 ,27
 ,0
 ,0
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 11:05:28.459 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNjkyMiwiZXhwIjoxNzUyODQ1NzIyLCJpYXQiOjE3NTI4MTY5MjJ9.vm-JMpDZjJQ6DROWc-_ncdqZ-9ULr1sMl9lB9YHV_lI'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 11:05:28.474 | General Service|:: CompanyIndex:13 SpName: spDOC_GetCurrentCodeNumber 
 41025
 ,'023/25/'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 11:05:28.474 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNjkyMiwiZXhwIjoxNzUyODQ1NzIyLCJpYXQiOjE3NTI4MTY5MjJ9.vm-JMpDZjJQ6DROWc-_ncdqZ-9ULr1sMl9lB9YHV_lI'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 11:05:28.506 | General Service|:: CompanyIndex:13 SpName: spDOC_GetLinkReferenceData 
 566117
 ,41025
 ,55687
 ,'18/Jul/2025'
 ,55687
 ,'<XML><Row CostCenterID="50011" NODEID="1" /><Row CostCenterID="50002" NODEID="27" /><Row CostCenterID="50058" NODEID="1" /><Row CostCenterID="50059" NODEID="1" /><Row CostCenterID="50061" NODEID="11" /><Row CostCenterID="50062" NODEID="1" /></XML>'
 ,False
 ,'0'
 ,'0'
 ,'0'
 ,NULL
 ,'0'
 ,'0'
 ,'0'
 ,''
 ,'1'
 ,1
 ,'1'
[System: 192.168.1.54] DEBUG | 07-18-2025 11:05:28.506 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNjkyMiwiZXhwIjoxNzUyODQ1NzIyLCJpYXQiOjE3NTI4MTY5MjJ9.vm-JMpDZjJQ6DROWc-_ncdqZ-9ULr1sMl9lB9YHV_lI'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 11:05:28.537 | General Service|:: CompanyIndex:13 SpName: spADM_GetListViewDataByIDs 
 '<XML><Row CCID="50011"  TypeID="1"  DBColumnID="566213"  NodeID="1" /><Row CCID="2"  TypeID="10"  DBColumnID="566117"  NodeID="55687" /><Row CCID="2"  TypeID="100"  DBColumnID="566117"  NodeID="55687" /><Row CCID="2"  TypeID="10"  DBColumnID="566254"  NodeID="3" /><Row CCID="2"  TypeID="100"  DBColumnID="566254"  NodeID="3" /><Row CCID="50011"  TypeID="1"  DBColumnID="566213"  NodeID="1" /><Row CCID="50002"  TypeID="1"  DBColumnID="566204"  NodeID="27" /><Row CCID="50058"  TypeID="1"  DBColumnID="583442"  NodeID="1" /><Row CCID="50059"  TypeID="1"  DBColumnID="583494"  NodeID="1" /><Row CCID="50061"  TypeID="11"  DBColumnID="583598"  NodeID="11" /><Row CCID="50062"  TypeID="1"  DBColumnID="583650"  NodeID="1" /><Row CCID="50058"  TypeID="1"  DBColumnID="583713"  NodeID="1" /></XML>'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 11:05:28.537 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNjkyMiwiZXhwIjoxNzUyODQ1NzIyLCJpYXQiOjE3NTI4MTY5MjJ9.vm-JMpDZjJQ6DROWc-_ncdqZ-9ULr1sMl9lB9YHV_lI'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 11:05:28.553 | General Service|:: CompanyIndex:13 SpName: spADM_GetListViewDataByIDs 
 '<XML><Row CCID="50011"  TypeID="1"  DBColumnID="566213"  NodeID="1" /><Row CCID="2"  TypeID="10"  DBColumnID="566117"  NodeID="55687" /><Row CCID="2"  TypeID="100"  DBColumnID="566117"  NodeID="55687" /><Row CCID="2"  TypeID="10"  DBColumnID="566254"  NodeID="3" /><Row CCID="2"  TypeID="100"  DBColumnID="566254"  NodeID="3" /><Row CCID="50011"  TypeID="1"  DBColumnID="566213"  NodeID="1" /><Row CCID="50002"  TypeID="1"  DBColumnID="566204"  NodeID="27" /><Row CCID="50058"  TypeID="1"  DBColumnID="583442"  NodeID="1" /><Row CCID="50059"  TypeID="1"  DBColumnID="583494"  NodeID="1" /><Row CCID="50061"  TypeID="11"  DBColumnID="583598"  NodeID="11" /><Row CCID="50062"  TypeID="1"  DBColumnID="583650"  NodeID="1" /><Row CCID="50058"  TypeID="1"  DBColumnID="583713"  NodeID="1" /></XML>'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 11:05:28.553 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNjkyMiwiZXhwIjoxNzUyODQ1NzIyLCJpYXQiOjE3NTI4MTY5MjJ9.vm-JMpDZjJQ6DROWc-_ncdqZ-9ULr1sMl9lB9YHV_lI'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 11:05:28.568 | General Service|:: CompanyIndex:13 SpName: spDOC_GetLinkReferenceData 
 566117
 ,41025
 ,55687
 ,'18/Jul/2025'
 ,55687
 ,'<XML><Row CostCenterID="50011" NODEID="1" /><Row CostCenterID="50002" NODEID="27" /><Row CostCenterID="50058" NODEID="1" /><Row CostCenterID="50059" NODEID="1" /><Row CostCenterID="50061" NODEID="11" /><Row CostCenterID="50062" NODEID="1" /></XML>'
 ,False
 ,'0'
 ,'0'
 ,'0'
 ,NULL
 ,'0'
 ,'0'
 ,'0'
 ,''
 ,'1'
 ,1
 ,'1'
[System: 192.168.1.54] DEBUG | 07-18-2025 11:05:28.568 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNjkyMiwiZXhwIjoxNzUyODQ1NzIyLCJpYXQiOjE3NTI4MTY5MjJ9.vm-JMpDZjJQ6DROWc-_ncdqZ-9ULr1sMl9lB9YHV_lI'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 11:05:28.599 | General Service|:: CompanyIndex:13 SpName: spADM_GetListViewDataByIDs 
 '<XML><Row CCID="50011"  TypeID="1"  DBColumnID="566213"  NodeID="1" /><Row CCID="2"  TypeID="10"  DBColumnID="566117"  NodeID="55687" /><Row CCID="2"  TypeID="100"  DBColumnID="566117"  NodeID="55687" /><Row CCID="2"  TypeID="10"  DBColumnID="566254"  NodeID="3" /><Row CCID="2"  TypeID="100"  DBColumnID="566254"  NodeID="3" /><Row CCID="50011"  TypeID="1"  DBColumnID="566213"  NodeID="1" /><Row CCID="50002"  TypeID="1"  DBColumnID="566204"  NodeID="27" /><Row CCID="50058"  TypeID="1"  DBColumnID="583442"  NodeID="1" /><Row CCID="50059"  TypeID="1"  DBColumnID="583494"  NodeID="1" /><Row CCID="50061"  TypeID="11"  DBColumnID="583598"  NodeID="11" /><Row CCID="50062"  TypeID="1"  DBColumnID="583650"  NodeID="1" /><Row CCID="50058"  TypeID="1"  DBColumnID="583713"  NodeID="1" /></XML>'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 11:05:28.599 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNjkyMiwiZXhwIjoxNzUyODQ1NzIyLCJpYXQiOjE3NTI4MTY5MjJ9.vm-JMpDZjJQ6DROWc-_ncdqZ-9ULr1sMl9lB9YHV_lI'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 11:05:28.646 | General Service|:: CompanyIndex:13 SpName: spADM_GetCostCenterListViewData 
 500055
 ,'a.Name,a.Code,a.ccAlpha11'
 ,''
 ,''
 ,'Name'
 ,''
 ,60
 ,False
 ,''
 ,''
 ,''
 ,''
 ,''
 ,0
 ,False
 ,''
 ,''
 ,'1'
 ,'1'
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 11:05:28.646 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNjkyMiwiZXhwIjoxNzUyODQ1NzIyLCJpYXQiOjE3NTI4MTY5MjJ9.vm-JMpDZjJQ6DROWc-_ncdqZ-9ULr1sMl9lB9YHV_lI'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 11:05:44.300 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 11:05:44.315 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 11:06:17.433 | General Service|:: CompanyIndex:13 SpName: spDOC_GetInvDocument 
 41025
 ,'023/25/'
 ,'116'
 ,'1'
 ,0
 ,' and (a.CostCenterID=c.DocumentID or c.DocumentID=1) and (b.dcCCNID2=c.CCNID2 or c.CCNID2=0)'
 ,1
 ,1
 ,'admin'
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 11:06:17.433 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNjkyMiwiZXhwIjoxNzUyODQ1NzIyLCJpYXQiOjE3NTI4MTY5MjJ9.vm-JMpDZjJQ6DROWc-_ncdqZ-9ULr1sMl9lB9YHV_lI'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 11:06:17.480 | General Service|:: CompanyIndex:13 SpName: spADM_GetListViewDataByIDs 
 '<XML><Row CCID="50011"  TypeID="1"  DBColumnID="566213"  NodeID="1" /><Row CCID="2"  TypeID="10"  DBColumnID="566117"  NodeID="55687" /><Row CCID="2"  TypeID="100"  DBColumnID="566117"  NodeID="55687" /><Row CCID="2"  TypeID="10"  DBColumnID="566254"  NodeID="3" /><Row CCID="2"  TypeID="100"  DBColumnID="566254"  NodeID="3" /><Row CCID="50014"  TypeID="4"  DBColumnID="566216"  NodeID="10367" /><Row CCID="50009"  TypeID="3"  DBColumnID="566211"  NodeID="10570" /><Row CCID="50010"  TypeID="3"  DBColumnID="566212"  NodeID="51889" /><Row CCID="50018"  TypeID="1"  DBColumnID="566220"  NodeID="135" /><Row CCID="50070"  TypeID="1"  DBColumnID="598043"  NodeID="4" /><Row CCID="50011"  TypeID="1"  DBColumnID="566213"  NodeID="1" /><Row CCID="50014"  TypeID="4"  DBColumnID="566216"  NodeID="10367" /><Row CCID="50009"  TypeID="3"  DBColumnID="566211"  NodeID="10570" /><Row CCID="50010"  TypeID="3"  DBColumnID="566212"  NodeID="51889" /><Row CCID="50018"  TypeID="1"  DBColumnID="566220"  NodeID="135" /><Row CCID="50070"  TypeID="1"  DBColumnID="598043"  NodeID="4" /><Row CCID="50002"  TypeID="1"  DBColumnID="566204"  NodeID="27" /><Row CCID="50058"  TypeID="1"  DBColumnID="583442"  NodeID="1" /><Row CCID="50059"  TypeID="1"  DBColumnID="583494"  NodeID="1" /><Row CCID="50061"  TypeID="11"  DBColumnID="583598"  NodeID="11" /><Row CCID="50062"  TypeID="1"  DBColumnID="583650"  NodeID="1" /><Row CCID="50058"  TypeID="1"  DBColumnID="583713"  NodeID="1" /><Row CCID="44"  TypeID="122"  DBColumnID="566171"  NodeID="641" /><Row CCID="50060"  TypeID="1"  DBColumnID="583546"  NodeID="1" /></XML>'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 11:06:17.480 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNjkyMiwiZXhwIjoxNzUyODQ1NzIyLCJpYXQiOjE3NTI4MTY5MjJ9.vm-JMpDZjJQ6DROWc-_ncdqZ-9ULr1sMl9lB9YHV_lI'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 11:06:17.511 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select ParentNodeID NodeID from COM_CostCenterCostCenterMap where CostCenterID in (8,300) and ParentCostCenterId=50033 and NodeID=41025'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 11:06:17.511 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNjkyMiwiZXhwIjoxNzUyODQ1NzIyLCJpYXQiOjE3NTI4MTY5MjJ9.vm-JMpDZjJQ6DROWc-_ncdqZ-9ULr1sMl9lB9YHV_lI'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 11:06:17.511 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select ParentNodeID NodeID from COM_CostCenterCostCenterMap where CostCenterID in (8,300) and ParentCostCenterId=50033 and NodeID=41025'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 11:06:17.527 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNjkyMiwiZXhwIjoxNzUyODQ1NzIyLCJpYXQiOjE3NTI4MTY5MjJ9.vm-JMpDZjJQ6DROWc-_ncdqZ-9ULr1sMl9lB9YHV_lI'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 11:06:17.527 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select ParentNodeID NodeID from COM_CostCenterCostCenterMap where CostCenterID in (8,300) and ParentCostCenterId=50033 and NodeID=41025'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 11:06:17.527 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNjkyMiwiZXhwIjoxNzUyODQ1NzIyLCJpYXQiOjE3NTI4MTY5MjJ9.vm-JMpDZjJQ6DROWc-_ncdqZ-9ULr1sMl9lB9YHV_lI'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 11:06:17.543 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select ParentNodeID NodeID from COM_CostCenterCostCenterMap where CostCenterID in (8,300) and ParentCostCenterId=50033 and NodeID=41025'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 11:06:17.543 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNjkyMiwiZXhwIjoxNzUyODQ1NzIyLCJpYXQiOjE3NTI4MTY5MjJ9.vm-JMpDZjJQ6DROWc-_ncdqZ-9ULr1sMl9lB9YHV_lI'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 11:06:17.558 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select ParentNodeID NodeID from COM_CostCenterCostCenterMap where CostCenterID in (8,300) and ParentCostCenterId=50033 and NodeID=41025'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 11:06:17.558 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNjkyMiwiZXhwIjoxNzUyODQ1NzIyLCJpYXQiOjE3NTI4MTY5MjJ9.vm-JMpDZjJQ6DROWc-_ncdqZ-9ULr1sMl9lB9YHV_lI'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 11:06:17.574 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select ParentNodeID NodeID from COM_CostCenterCostCenterMap where CostCenterID in (8,300) and ParentCostCenterId=50033 and NodeID=41025'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 11:06:17.574 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNjkyMiwiZXhwIjoxNzUyODQ1NzIyLCJpYXQiOjE3NTI4MTY5MjJ9.vm-JMpDZjJQ6DROWc-_ncdqZ-9ULr1sMl9lB9YHV_lI'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 11:06:17.574 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select ParentNodeID NodeID from COM_CostCenterCostCenterMap where CostCenterID in (8,300) and ParentCostCenterId=50033 and NodeID=41025'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 11:06:17.574 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNjkyMiwiZXhwIjoxNzUyODQ1NzIyLCJpYXQiOjE3NTI4MTY5MjJ9.vm-JMpDZjJQ6DROWc-_ncdqZ-9ULr1sMl9lB9YHV_lI'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 11:06:17.589 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select ParentNodeID NodeID from COM_CostCenterCostCenterMap where CostCenterID in (8,300) and ParentCostCenterId=50033 and NodeID=41025'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 11:06:17.589 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNjkyMiwiZXhwIjoxNzUyODQ1NzIyLCJpYXQiOjE3NTI4MTY5MjJ9.vm-JMpDZjJQ6DROWc-_ncdqZ-9ULr1sMl9lB9YHV_lI'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 11:06:17.605 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select ParentNodeID NodeID from COM_CostCenterCostCenterMap where CostCenterID in (8,300) and ParentCostCenterId=50033 and NodeID=41025'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 11:06:17.605 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNjkyMiwiZXhwIjoxNzUyODQ1NzIyLCJpYXQiOjE3NTI4MTY5MjJ9.vm-JMpDZjJQ6DROWc-_ncdqZ-9ULr1sMl9lB9YHV_lI'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 11:06:17.621 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select ParentNodeID NodeID from COM_CostCenterCostCenterMap where CostCenterID in (8,300) and ParentCostCenterId=50033 and NodeID=41025'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 11:06:17.621 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNjkyMiwiZXhwIjoxNzUyODQ1NzIyLCJpYXQiOjE3NTI4MTY5MjJ9.vm-JMpDZjJQ6DROWc-_ncdqZ-9ULr1sMl9lB9YHV_lI'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 11:06:17.636 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select ParentNodeID NodeID from COM_CostCenterCostCenterMap where CostCenterID in (8,300) and ParentCostCenterId=50033 and NodeID=41025'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 11:06:17.636 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNjkyMiwiZXhwIjoxNzUyODQ1NzIyLCJpYXQiOjE3NTI4MTY5MjJ9.vm-JMpDZjJQ6DROWc-_ncdqZ-9ULr1sMl9lB9YHV_lI'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 11:06:17.636 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select ParentNodeID NodeID from COM_CostCenterCostCenterMap where CostCenterID in (8,300) and ParentCostCenterId=50033 and NodeID=41025'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 11:06:17.652 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNjkyMiwiZXhwIjoxNzUyODQ1NzIyLCJpYXQiOjE3NTI4MTY5MjJ9.vm-JMpDZjJQ6DROWc-_ncdqZ-9ULr1sMl9lB9YHV_lI'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 11:06:17.652 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select ParentNodeID NodeID from COM_CostCenterCostCenterMap where CostCenterID in (8,300) and ParentCostCenterId=50033 and NodeID=41025'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 11:06:17.652 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNjkyMiwiZXhwIjoxNzUyODQ1NzIyLCJpYXQiOjE3NTI4MTY5MjJ9.vm-JMpDZjJQ6DROWc-_ncdqZ-9ULr1sMl9lB9YHV_lI'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 11:06:17.730 | General Service|:: CompanyIndex:13 SpName: spADM_GetCostCenterListViewData 
 362
 ,'a.Name,a.Code'
 ,''
 ,''
 ,'Name'
 ,''
 ,60
 ,False
 ,''
 ,''
 ,'(CCNID9=10570)'
 ,''
 ,''
 ,0
 ,False
 ,''
 ,''
 ,'1'
 ,'1'
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 11:06:17.730 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNjkyMiwiZXhwIjoxNzUyODQ1NzIyLCJpYXQiOjE3NTI4MTY5MjJ9.vm-JMpDZjJQ6DROWc-_ncdqZ-9ULr1sMl9lB9YHV_lI'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 11:06:24.869 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 11:06:24.869 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNjkyMiwiZXhwIjoxNzUyODQ1NzIyLCJpYXQiOjE3NTI4MTY5MjJ9.vm-JMpDZjJQ6DROWc-_ncdqZ-9ULr1sMl9lB9YHV_lI'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 11:06:43.412 | General Service|:: CompanyIndex:13 SpName: spCOM_ConfigValues 
 1
 ,'NotifTime'
 ,''
[System: 192.168.1.79] DEBUG | 07-18-2025 11:06:43.412 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 11:06:44.287 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 11:06:44.303 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 11:07:44.291 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 11:07:44.306 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 11:08:44.294 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 11:08:44.294 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 11:09:44.297 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 11:09:44.297 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 11:10:44.300 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 11:10:44.300 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 11:11:40.724 | General Service|:: CompanyIndex:0 SpName: spADM_Login 
 4
 ,''
 ,''
 ,''
 ,'declare @AllowSession bit,@GUID nvarchar(50)
set @AllowSession=0
set @GUID=''0e5fc663-5269-4683-a080-85b06e4ab335''
if exists(select [GUID] from ADM_Login with(nolock) where [GUID]=@GUID)
begin
    update ADM_Login  set LastAccessTime=convert(float,getdate()) where [GUID]=@GUID
    set @AllowSession=1
end
select @AllowSession AllowSession
'
 ,''
 ,0
[System: 192.168.1.79] DEBUG | 07-18-2025 11:11:40.724 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 11:11:43.411 | General Service|:: CompanyIndex:13 SpName: spCOM_ConfigValues 
 1
 ,'NotifTime'
 ,''
[System: 192.168.1.79] DEBUG | 07-18-2025 11:11:43.411 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 11:11:44.286 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 11:11:44.302 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 11:12:44.291 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 11:12:44.291 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 11:13:44.291 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 11:13:44.291 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 11:14:44.309 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 11:14:44.309 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 11:15:30.594 | General Service|:: CompanyIndex:0 SpName: spADM_GetClientUserDetails2C 
 'admin'
 ,1
 ,0
[System: 192.168.1.54] DEBUG | 07-18-2025 11:15:30.625 | General Service|:: CompanyIndex:0 SpName: spADM_UserLoginCheck 
 2
 ,'admin'
 ,0
 ,'192.168.1.54'
 ,'192.168.1.54'
 ,''
 ,'Web'
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 11:15:33.983 | General Service|:: CompanyIndex:13 SpName: spADM_GetClientUserDetails 
 'admin'
 ,1
 ,'26.1.0'
 ,0
[System: 192.168.1.54] DEBUG | 07-18-2025 11:15:34.030 | General Service|:: CompanyIndex:0 SpName: spADM_UserLoginCheck 
 2
 ,'admin'
 ,13
 ,'192.168.1.54'
 ,'192.168.1.54'
 ,''
 ,'Web'
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 11:15:34.046 | General Service|:: CompanyIndex:0 SpName: spADM_Login 
 1
 ,''
 ,''
 ,''
 ,''
 ,''
 ,13
[System: 192.168.1.54] DEBUG | 07-18-2025 11:15:34.046 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select Value from ADM_GlobalPreferences with (nolock) where name =''EnableReLogin'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 11:15:34.061 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNzUzMywiZXhwIjoxNzUyODQ2MzMzLCJpYXQiOjE3NTI4MTc1MzN9.Ve50zNJqjFRiPCAWhGOGbJW3At109Eb-eggN1-AgT_Y'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 11:15:34.093 | General Service|:: CompanyIndex:0 SpName: spADM_Login 
 4
 ,''
 ,''
 ,''
 ,'declare @Cnt int,@ExpiredGUID nvarchar(50),@AllowSession int,@GUID nvarchar(50),@CurrDate float,@UserID INT,@Instances INT,@InstancesExists INT,@LCDBIndex int
set @CurrDate= convert(float,dateadd(minute,-21,getdate()))
set @AllowSession=0
set @GUID=''089b1b0d-3242-4bb3-b955-4b761f52d32b''
set @LCDBIndex=0
select top 1 @UserID=UserID,@Instances=InstanceCount from ADM_Users with(nolock) where UserName=''admin''
if exists(select [GUID] from ADM_Login with(nolock) where [GUID]=@GUID)
begin
	update ADM_Login 
	set LastAccessTime=convert(float,getdate()),UserID=@UserID
	where [GUID]=@GUID
    set @AllowSession=1
end
else
begin
	select @Cnt=count(*) from ADM_Login with(nolock) where LCDBIndex=@LCDBIndex and [GUID]!=''ACCESSRIGHTS'' and AP =''WEB''
    if(@Cnt<100)
		set @AllowSession=1
	else
	begin
		select top 1 @ExpiredGUID=[GUID] from ADM_Login with(nolock)
		where [GUID]!=''ACCESSRIGHTS'' and LCDBIndex=@LCDBIndex and LastAccessTime<@CurrDate  and AP =''WEB''
        order by LastAccessTime asc
		if @ExpiredGUID is not null
		begin
			delete from ADM_Login where [GUID]=@ExpiredGUID
			set @AllowSession=1
		end
	end
	if @AllowSession=1
	begin
        select @InstancesExists=COUNT(*) from ADM_Login with(nolock)
		where [GUID]!=''ACCESSRIGHTS'' and LCDBIndex=@LCDBIndex and LastAccessTime>=@CurrDate and UserID=@UserID and AP =''WEB''
		if(@Instances!=0 and @Instances<=@InstancesExists)
			set @AllowSession=2
		else
		    INSERT INTO ADM_Login([GUID],[SysName],IPAddress,[Status],LoginTime,LastAccessTime,AccessRights,UserID,DBIndex,LCDBIndex,AP)
		    VALUES(@GUID,''WEB'',''192.168.1.54'',1,convert(float,getdate()),convert(float,getdate()),null,@UserID,13,@LCDBIndex, ''WEB'')
	end
end

select @AllowSession AllowSession,@Instances Instances,@InstancesExists InstancesExists
'
 ,''
 ,0
[System: 192.168.1.54] DEBUG | 07-18-2025 11:15:34.093 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNzUzMywiZXhwIjoxNzUyODQ2MzMzLCJpYXQiOjE3NTI4MTc1MzN9.Ve50zNJqjFRiPCAWhGOGbJW3At109Eb-eggN1-AgT_Y'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 11:15:34.124 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'SELECT (SELECT COUNT(*) FROM COM_Location L WITH(NOLOCK) JOIN COM_Status S WITH(NOLOCK) ON S.StatusID=L.StatusID WHERE L.IsGroup=0 AND S.[Status]=''Active'') ML
,(SELECT COUNT(*) FROM ADM_Features WITH(NOLOCK) WHERE ((FeatureID>50000 AND FeatureID<=50050) OR FeatureID>=51000) AND IsEnabled=1) MD
,(SELECT ISNULL(COUNT(*),0) FROM ADM_RevenUReports WITH(NOLOCK) WHERE IsGroup=0 AND ReportID>10000 AND StaticReportType IN (0,-1)) MR'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 11:15:34.124 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNzUzMywiZXhwIjoxNzUyODQ2MzMzLCJpYXQiOjE3NTI4MTc1MzN9.Ve50zNJqjFRiPCAWhGOGbJW3At109Eb-eggN1-AgT_Y'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 11:15:35.421 | General Service|:: CompanyIndex:13 SpName: spCOM_ConfigValues 
 1
 ,'NotifTime'
 ,''
[System: 192.168.1.54] DEBUG | 07-18-2025 11:15:35.421 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNzUzMywiZXhwIjoxNzUyODQ2MzMzLCJpYXQiOjE3NTI4MTc1MzN9.Ve50zNJqjFRiPCAWhGOGbJW3At109Eb-eggN1-AgT_Y'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 11:15:35.608 | General Service|:: CompanyIndex:13 SpName: spADM_GetRibbonView 
 1
 ,1
 ,1
 ,1
 ,0
 ,''
[System: 192.168.1.54] DEBUG | 07-18-2025 11:15:35.608 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNzUzMywiZXhwIjoxNzUyODQ2MzMzLCJpYXQiOjE3NTI4MTc1MzN9.Ve50zNJqjFRiPCAWhGOGbJW3At109Eb-eggN1-AgT_Y'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 11:15:35.811 | General Service|:: CompanyIndex:13 SpName: spRPT_GetReport 
 2
 ,0
 ,'1'
 ,'1'
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 11:15:35.811 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNzUzMywiZXhwIjoxNzUyODQ2MzMzLCJpYXQiOjE3NTI4MTc1MzN9.Ve50zNJqjFRiPCAWhGOGbJW3At109Eb-eggN1-AgT_Y'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 11:15:35.827 | General Service|:: CompanyIndex:13 SpName: spADM_GetDashBoard 
 2
 ,0
 ,0
 ,'1'
 ,'1'
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 11:15:35.842 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNzUzMywiZXhwIjoxNzUyODQ2MzMzLCJpYXQiOjE3NTI4MTc1MzN9.Ve50zNJqjFRiPCAWhGOGbJW3At109Eb-eggN1-AgT_Y'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 11:15:35.858 | General Service|:: CompanyIndex:13 SpName: spCOM_ConfigValues 
 1
 ,'LandingDocs'
 ,'1'
[System: 192.168.1.54] DEBUG | 07-18-2025 11:15:35.858 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNzUzMywiZXhwIjoxNzUyODQ2MzMzLCJpYXQiOjE3NTI4MTc1MzN9.Ve50zNJqjFRiPCAWhGOGbJW3At109Eb-eggN1-AgT_Y'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 11:15:35.920 | General Service|:: CompanyIndex:13 SpName: spADM_GetAllListViewsDef 
 1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 11:15:35.920 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNzUzMywiZXhwIjoxNzUyODQ2MzMzLCJpYXQiOjE3NTI4MTc1MzN9.Ve50zNJqjFRiPCAWhGOGbJW3At109Eb-eggN1-AgT_Y'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 11:15:35.920 | General Service|:: CompanyIndex:13 SpName: spCOM_GetFavorites 
 'GETLIST0'
 ,0
 ,'1'
 ,'1'
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 11:15:35.920 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNzUzMywiZXhwIjoxNzUyODQ2MzMzLCJpYXQiOjE3NTI4MTc1MzN9.Ve50zNJqjFRiPCAWhGOGbJW3At109Eb-eggN1-AgT_Y'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 11:15:35.999 | General Service|:: CompanyIndex:13 SpName: spADM_GetAllListViewsDef 
 1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 11:15:35.999 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNzUzMywiZXhwIjoxNzUyODQ2MzMzLCJpYXQiOjE3NTI4MTc1MzN9.Ve50zNJqjFRiPCAWhGOGbJW3At109Eb-eggN1-AgT_Y'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 11:15:36.108 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'Select CostCenterID,CostCenterColID,CostCenterName,SysTableName,UserColumnName,SysColumnName,ISNULL(UserDefaultValue,'''') UserDefaultValue
From AdM_CostCenterDef WITH(NOLOCK)
Where SysColumnName IN(''CreditAccount'',''DebitAccount'',''ProductID'') 
AND CostCenterID>40000 AND CostCenterID<50000 

SELECT * FROM ADM_Features WITH(NOLOCK) '
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 11:15:36.123 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNzUzMywiZXhwIjoxNzUyODQ2MzMzLCJpYXQiOjE3NTI4MTc1MzN9.Ve50zNJqjFRiPCAWhGOGbJW3At109Eb-eggN1-AgT_Y'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 11:15:36.155 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 '  SELECT * FROM PAY_PayrollPreferences WITH(NOLOCK) '
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 11:15:36.155 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNzUzMywiZXhwIjoxNzUyODQ2MzMzLCJpYXQiOjE3NTI4MTc1MzN9.Ve50zNJqjFRiPCAWhGOGbJW3At109Eb-eggN1-AgT_Y'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 11:15:36.186 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 '  --0
                                Select * FROM COM_CC50051 WITH(NOLOCK) WHERE IsGroup=0 AND LoginUserID=''admin''
                                --1                                
                                Select * FROM COM_CC50051 WITH(NOLOCK) WHERE RptManager IN (Select NodeID FROM COM_CC50051 WITH(NOLOCK) WHERE IsGroup=0 AND LoginUserID=''admin'')
                                UNION ALL
                                Select * FROM COM_CC50051 WITH(NOLOCK) WHERE RptManager IN 
                                (
	                                Select NodeID FROM COM_CC50051 WITH(NOLOCK) 
	                                WHERE IsGroup=0 AND LoginUserID IN
	                                (
	                                SELECT fe.LoginUserID
	                                FROM INV_DocDetails a WITH(NOLOCK) 
	                                JOIN COM_DocCCData b WITH(NOLOCK) ON b.InvDocDetailsID=a.InvDocDetailsID
	                                JOIN COM_DocNumData c WITH(NOLOCK) ON c.InvDocDetailsID=a.InvDocDetailsID
	                                JOIN COM_DocTextData d WITH(NOLOCK) ON d.InvDocDetailsID=a.InvDocDetailsID
	                                JOIN COM_CC50051 fe WITH(NOLOCK) on fe.NodeID=b.dcCCNID51
	                                JOIN COM_CC50051 te WITH(NOLOCK) on CONVERT(NVARCHAR,te.NodeID)=d.dcAlpha1
	                                WHERE a.CostCenterID=40098 and a.StatusID=369 AND d.dcAlpha3=''Temporary''
	                                AND te.LoginUserID=''admin'' 
	                                AND ISDATE(d.dcAlpha4)=1 AND ISDATE(d.dcAlpha5)=1 
	                                AND CONVERT(DATETIME,''18 Jul 2025'') BETWEEN CONVERT(DATETIME,d.dcAlpha4) AND CONVERT(DATETIME,d.dcAlpha5)
	                                )
                                )
                                --2
                                Select * FROM ADM_USERS WITH(NOLOCK) WHERE USERID=1
                                --3
                                Select * FROM COM_CostCenterCostCenterMap WITH(NOLOCK) WHERE ParentCostCenterID=7 AND ParentNodeID=1
                                --4                                
                                Select * FROM COM_CostCenterCostCenterMap WITH(NOLOCK) WHERE ParentCostCenterID=7 AND ParentNodeID=1
                                AND CostCenterID IN(Select ColumnCostCenterID From ADM_CostCenterDef Where CostCenterID=50051 AND IsColumnInUse=1 AND SysColumnName LIKE ''CCNID%'')
                                --5
                                Select * from COM_Files WITH(NOLOCK) WHERE FeatureID=50051 AND FeaturePK IN (Select NodeID FROM COM_CC50051 WITH(NOLOCK) WHERE IsGroup=0 AND LoginUserID=''admin'')                         
'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 11:15:36.186 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNzUzMywiZXhwIjoxNzUyODQ2MzMzLCJpYXQiOjE3NTI4MTc1MzN9.Ve50zNJqjFRiPCAWhGOGbJW3At109Eb-eggN1-AgT_Y'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 11:15:36.311 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 11:15:36.311 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNzUzMywiZXhwIjoxNzUyODQ2MzMzLCJpYXQiOjE3NTI4MTc1MzN9.Ve50zNJqjFRiPCAWhGOGbJW3At109Eb-eggN1-AgT_Y'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 11:15:36.545 | General Service|:: CompanyIndex:13 SpName: spADM_GetDashBoard 
 1
 ,8
 ,0
 ,'1'
 ,'1'
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 11:15:36.545 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNzUzMywiZXhwIjoxNzUyODQ2MzMzLCJpYXQiOjE3NTI4MTc1MzN9.Ve50zNJqjFRiPCAWhGOGbJW3At109Eb-eggN1-AgT_Y'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 11:15:36.577 | General Service|:: CompanyIndex:13 SpName: spRPT_GetReport 
 0
 ,30456
 ,'1'
 ,'1'
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 11:15:36.577 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNzUzMywiZXhwIjoxNzUyODQ2MzMzLCJpYXQiOjE3NTI4MTc1MzN9.Ve50zNJqjFRiPCAWhGOGbJW3At109Eb-eggN1-AgT_Y'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 11:15:36.670 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'SELECT StaticReportType FROM ADM_RevenUReports WITH(NOLOCK) WHERE ReportID=30456'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 11:15:36.670 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNzUzMywiZXhwIjoxNzUyODQ2MzMzLCJpYXQiOjE3NTI4MTc1MzN9.Ve50zNJqjFRiPCAWhGOGbJW3At109Eb-eggN1-AgT_Y'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 11:15:36.811 | General Service|:: CompanyIndex:13 SpName: spRPT_GetReportCategoryandField 
 -1
 ,0
 ,1
 ,0
 ,'1'
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 11:15:36.811 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNzUzMywiZXhwIjoxNzUyODQ2MzMzLCJpYXQiOjE3NTI4MTc1MzN9.Ve50zNJqjFRiPCAWhGOGbJW3At109Eb-eggN1-AgT_Y'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 11:15:36.858 | General Service|:: CompanyIndex:13 SpName: spRPT_GetReportFields 
 400
 ,0
 ,'1'
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 11:15:36.858 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNzUzMywiZXhwIjoxNzUyODQ2MzMzLCJpYXQiOjE3NTI4MTc1MzN9.Ve50zNJqjFRiPCAWhGOGbJW3At109Eb-eggN1-AgT_Y'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 11:15:36.905 | General Service|:: CompanyIndex:13 SpName: spRPT_GetReportData 
 9
 ,1
 ,'<XML UID="1" ShowMyQueue="0"></XML>'
 ,'1'
[System: 192.168.1.54] DEBUG | 07-18-2025 11:15:36.905 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNzUzMywiZXhwIjoxNzUyODQ2MzMzLCJpYXQiOjE3NTI4MTc1MzN9.Ve50zNJqjFRiPCAWhGOGbJW3At109Eb-eggN1-AgT_Y'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 11:15:37.077 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
                EXEC spRPT_GetReportData @Type=8,@Param1=1,@strXML=null,@RoleID=1
SELECT ACC.VoucherNo [C858bdfa70f884b78b8ec0453808910bb],ACC.VersionNo [C858bdfa70f884b78b8ec0453808910bbVer],CONVERT(DATETIME,ACC.DocDate) [Cf4c1ff96517a40978b75103376667aae],ACC.DocAbbr [C501419b9c341410d8920b953fb30cfbf],ACC.Amount [Cfa623191688842d5ac3c0cd9232cfb2e],NULL [C90a85d26ad47471988897309a5c78218],T1.UserName [Cd0c4cb9a7057416ca691fb5c4774545b],T3.Name [C80a6de4371d045c08bf9d035c1831959],ACC.CommonNarration [Ce66e27446651436893b0d2c967dd0ecb],T4.Status [Ca7da089a0bd542838ddeb39e78a982ea],T5.Name [Cff89130f277d4635b5e1c5e6887cbcb5],ACC.VoucherNo [Cdacb59b3f5e54f18b65dfc4cf3186555],ACC.DocAbbr [Cdacb59b3f5e54f18b65dfc4cf3186555Abr],ACC.DocPrefix [Cdacb59b3f5e54f18b65dfc4cf3186555prf],CONVERT(BIGINT,ACC.DocNumber) [Cdacb59b3f5e54f18b65dfc4cf3186555dno]
 FROM ACC_DocDetails ACC with(nolock) left join ADM_Users T1 with(nolock) on ACC.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on ACC.AccDocDetailsID=TDCC.AccDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on ACC.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (ACC.CostCenterID=41053) AND T4.Status=''Unapproved'' AND ACC.LinkedAccDocDetailsID is null AND WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT ACC.VoucherNo,ACC.VersionNo,CONVERT(DATETIME,ACC.DocDate),ACC.DocAbbr,ACC.Amount,NULL,T1.UserName,T3.Name,ACC.CommonNarration,T4.Status,T5.Name,ACC.VoucherNo,ACC.DocAbbr,ACC.DocPrefix,CONVERT(BIGINT,ACC.DocNumber)
 FROM ACC_DocDetails ACC with(nolock) left join ADM_Users T1 with(nolock) on ACC.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on ACC.AccDocDetailsID=TDCC.AccDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on ACC.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (ACC.CostCenterID=41061) AND T4.Status=''Unapproved'' AND ACC.LinkedAccDocDetailsID is null AND WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT ACC.VoucherNo,ACC.VersionNo,CONVERT(DATETIME,ACC.DocDate),ACC.DocAbbr,ACC.Amount,NULL,T1.UserName,T3.Name,ACC.CommonNarration,T4.Status,T5.Name,ACC.VoucherNo,ACC.DocAbbr,ACC.DocPrefix,CONVERT(BIGINT,ACC.DocNumber)
 FROM ACC_DocDetails ACC with(nolock) left join ADM_Users T1 with(nolock) on ACC.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on ACC.AccDocDetailsID=TDCC.AccDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on ACC.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (ACC.CostCenterID=40023) AND T4.Status=''Unapproved'' AND ACC.LinkedAccDocDetailsID is null AND WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT ACC.VoucherNo,ACC.VersionNo,CONVERT(DATETIME,ACC.DocDate),ACC.DocAbbr,ACC.Amount,NULL,T1.UserName,T3.Name,ACC.CommonNarration,T4.Status,T5.Name,ACC.VoucherNo,ACC.DocAbbr,ACC.DocPrefix,CONVERT(BIGINT,ACC.DocNumber)
 FROM ACC_DocDetails ACC with(nolock) left join ADM_Users T1 with(nolock) on ACC.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on ACC.AccDocDetailsID=TDCC.AccDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on ACC.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (ACC.CostCenterID=41064) AND T4.Status=''Unapproved'' AND ACC.LinkedAccDocDetailsID is null AND WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT ACC.VoucherNo,ACC.VersionNo,CONVERT(DATETIME,ACC.DocDate),ACC.DocAbbr,ACC.Amount,NULL,T1.UserName,T3.Name,ACC.CommonNarration,T4.Status,T5.Name,ACC.VoucherNo,ACC.DocAbbr,ACC.DocPrefix,CONVERT(BIGINT,ACC.DocNumber)
 FROM ACC_DocDetails ACC with(nolock) left join ADM_Users T1 with(nolock) on ACC.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on ACC.AccDocDetailsID=TDCC.AccDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on ACC.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (ACC.CostCenterID=41006) AND T4.Status=''Unapproved'' AND ACC.LinkedAccDocDetailsID is null AND WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT ACC.VoucherNo,ACC.VersionNo,CONVERT(DATETIME,ACC.DocDate),ACC.DocAbbr,ACC.Amount,NULL,T1.UserName,T3.Name,ACC.CommonNarration,T4.Status,T5.Name,ACC.VoucherNo,ACC.DocAbbr,ACC.DocPrefix,CONVERT(BIGINT,ACC.DocNumber)
 FROM ACC_DocDetails ACC with(nolock) left join ADM_Users T1 with(nolock) on ACC.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on ACC.AccDocDetailsID=TDCC.AccDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on ACC.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (ACC.CostCenterID=40022) AND T4.Status=''Unapproved'' AND ACC.LinkedAccDocDetailsID is null AND WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT ACC.VoucherNo,ACC.VersionNo,CONVERT(DATETIME,ACC.DocDate),ACC.DocAbbr,ACC.Amount,NULL,T1.UserName,T3.Name,ACC.CommonNarration,T4.Status,T5.Name,ACC.VoucherNo,ACC.DocAbbr,ACC.DocPrefix,CONVERT(BIGINT,ACC.DocNumber)
 FROM ACC_DocDetails ACC with(nolock) left join ADM_Users T1 with(nolock) on ACC.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on ACC.AccDocDetailsID=TDCC.AccDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on ACC.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (ACC.CostCenterID=41075) AND T4.Status=''Unapproved'' AND ACC.LinkedAccDocDetailsID is null AND WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT ACC.VoucherNo,ACC.VersionNo,CONVERT(DATETIME,ACC.DocDate),ACC.DocAbbr,ACC.Amount,NULL,T1.UserName,T3.Name,ACC.CommonNarration,T4.Status,T5.Name,ACC.VoucherNo,ACC.DocAbbr,ACC.DocPrefix,CONVERT(BIGINT,ACC.DocNumber)
 FROM ACC_DocDetails ACC with(nolock) left join ADM_Users T1 with(nolock) on ACC.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on ACC.AccDocDetailsID=TDCC.AccDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on ACC.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (ACC.CostCenterID=41077) AND T4.Status=''Unapproved'' AND ACC.LinkedAccDocDetailsID is null AND WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT ACC.VoucherNo,ACC.VersionNo,CONVERT(DATETIME,ACC.DocDate),ACC.DocAbbr,ACC.Amount,NULL,T1.UserName,T3.Name,ACC.CommonNarration,T4.Status,T5.Name,ACC.VoucherNo,ACC.DocAbbr,ACC.DocPrefix,CONVERT(BIGINT,ACC.DocNumber)
 FROM ACC_DocDetails ACC with(nolock) left join ADM_Users T1 with(nolock) on ACC.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on ACC.AccDocDetailsID=TDCC.AccDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on ACC.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (ACC.CostCenterID=40014) AND T4.Status=''Unapproved'' AND ACC.LinkedAccDocDetailsID is null AND WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT ACC.VoucherNo,ACC.VersionNo,CONVERT(DATETIME,ACC.DocDate),ACC.DocAbbr,ACC.Amount,NULL,T1.UserName,T3.Name,ACC.CommonNarration,T4.Status,T5.Name,ACC.VoucherNo,ACC.DocAbbr,ACC.DocPrefix,CONVERT(BIGINT,ACC.DocNumber)
 FROM ACC_DocDetails ACC with(nolock) left join ADM_Users T1 with(nolock) on ACC.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on ACC.AccDocDetailsID=TDCC.AccDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on ACC.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (ACC.CostCenterID=41065) AND T4.Status=''Unapproved'' AND ACC.LinkedAccDocDetailsID is null AND WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT ACC.VoucherNo,ACC.VersionNo,CONVERT(DATETIME,ACC.DocDate),ACC.DocAbbr,ACC.Amount,NULL,T1.UserName,T3.Name,ACC.CommonNarration,T4.Status,T5.Name,ACC.VoucherNo,ACC.DocAbbr,ACC.DocPrefix,CONVERT(BIGINT,ACC.DocNumber)
 FROM ACC_DocDetails ACC with(nolock) left join ADM_Users T1 with(nolock) on ACC.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on ACC.AccDocDetailsID=TDCC.AccDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on ACC.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (ACC.CostCenterID=40017) AND T4.Status=''Unapproved'' AND ACC.LinkedAccDocDetailsID is null AND WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT INV.VoucherNo,INV.VersionNo,CONVERT(DATETIME,INV.DocDate),INV.DocAbbr,NULL,CASE WHEN (SELECT DocumentType FROM ADM_DocumentTypes WITH(NOLOCK) WHERE CostCenterID=INV.CostCenterID)=38 AND VoucherType=1 THEN -INV.Gross ELSE INV.Gross END,T1.UserName,T3.Name,INV.CommonNarration,T4.Status,T5.Name,INV.VoucherNo,INV.DocAbbr,INV.DocPrefix,CONVERT(BIGINT,INV.DocNumber)
 FROM INV_DocDetails INV with(nolock) left join ADM_Users T1 with(nolock) on INV.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on INV.InvDocDetailsID=TDCC.InvDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on INV.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (INV.CostCenterID=41018) AND T4.Status=''Unapproved'' AND WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef and INV.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT INV.VoucherNo,INV.VersionNo,CONVERT(DATETIME,INV.DocDate),INV.DocAbbr,NULL,CASE WHEN (SELECT DocumentType FROM ADM_DocumentTypes WITH(NOLOCK) WHERE CostCenterID=INV.CostCenterID)=38 AND VoucherType=1 THEN -INV.Gross ELSE INV.Gross END,T1.UserName,T3.Name,INV.CommonNarration,T4.Status,T5.Name,INV.VoucherNo,INV.DocAbbr,INV.DocPrefix,CONVERT(BIGINT,INV.DocNumber)
 FROM INV_DocDetails INV with(nolock) left join ADM_Users T1 with(nolock) on INV.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on INV.InvDocDetailsID=TDCC.InvDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on INV.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (INV.CostCenterID=40011) AND T4.Status=''Unapproved'' AND WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef and INV.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT INV.VoucherNo,INV.VersionNo,CONVERT(DATETIME,INV.DocDate),INV.DocAbbr,NULL,CASE WHEN (SELECT DocumentType FROM ADM_DocumentTypes WITH(NOLOCK) WHERE CostCenterID=INV.CostCenterID)=38 AND VoucherType=1 THEN -INV.Gross ELSE INV.Gross END,T1.UserName,T3.Name,INV.CommonNarration,T4.Status,T5.Name,INV.VoucherNo,INV.DocAbbr,INV.DocPrefix,CONVERT(BIGINT,INV.DocNumber)
 FROM INV_DocDetails INV with(nolock) left join ADM_Users T1 with(nolock) on INV.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on INV.InvDocDetailsID=TDCC.InvDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on INV.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (INV.CostCenterID=41072) AND T4.Status=''Unapproved'' AND WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef and INV.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT INV.VoucherNo,INV.VersionNo,CONVERT(DATETIME,INV.DocDate),INV.DocAbbr,NULL,CASE WHEN (SELECT DocumentType FROM ADM_DocumentTypes WITH(NOLOCK) WHERE CostCenterID=INV.CostCenterID)=38 AND VoucherType=1 THEN -INV.Gross ELSE INV.Gross END,T1.UserName,T3.Name,INV.CommonNarration,T4.Status,T5.Name,INV.VoucherNo,INV.DocAbbr,INV.DocPrefix,CONVERT(BIGINT,INV.DocNumber)
 FROM INV_DocDetails INV with(nolock) left join ADM_Users T1 with(nolock) on INV.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on INV.InvDocDetailsID=TDCC.InvDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on INV.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (INV.CostCenterID=41057) AND T4.Status=''Unapproved'' AND WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef and INV.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT INV.VoucherNo,INV.VersionNo,CONVERT(DATETIME,INV.DocDate),INV.DocAbbr,NULL,CASE WHEN (SELECT DocumentType FROM ADM_DocumentTypes WITH(NOLOCK) WHERE CostCenterID=INV.CostCenterID)=38 AND VoucherType=1 THEN -INV.Gross ELSE INV.Gross END,T1.UserName,T3.Name,INV.CommonNarration,T4.Status,T5.Name,INV.VoucherNo,INV.DocAbbr,INV.DocPrefix,CONVERT(BIGINT,INV.DocNumber)
 FROM INV_DocDetails INV with(nolock) left join ADM_Users T1 with(nolock) on INV.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on INV.InvDocDetailsID=TDCC.InvDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on INV.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (INV.CostCenterID=41060) AND T4.Status=''Unapproved'' AND WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef and INV.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT INV.VoucherNo,INV.VersionNo,CONVERT(DATETIME,INV.DocDate),INV.DocAbbr,NULL,CASE WHEN (SELECT DocumentType FROM ADM_DocumentTypes WITH(NOLOCK) WHERE CostCenterID=INV.CostCenterID)=38 AND VoucherType=1 THEN -INV.Gross ELSE INV.Gross END,T1.UserName,T3.Name,INV.CommonNarration,T4.Status,T5.Name,INV.VoucherNo,INV.DocAbbr,INV.DocPrefix,CONVERT(BIGINT,INV.DocNumber)
 FROM INV_DocDetails INV with(nolock) left join ADM_Users T1 with(nolock) on INV.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on INV.InvDocDetailsID=TDCC.InvDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on INV.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (INV.CostCenterID=40001) AND T4.Status=''Unapproved'' AND WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef and INV.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT INV.VoucherNo,INV.VersionNo,CONVERT(DATETIME,INV.DocDate),INV.DocAbbr,NULL,CASE WHEN (SELECT DocumentType FROM ADM_DocumentTypes WITH(NOLOCK) WHERE CostCenterID=INV.CostCenterID)=38 AND VoucherType=1 THEN -INV.Gross ELSE INV.Gross END,T1.UserName,T3.Name,INV.CommonNarration,T4.Status,T5.Name,INV.VoucherNo,INV.DocAbbr,INV.DocPrefix,CONVERT(BIGINT,INV.DocNumber)
 FROM INV_DocDetails INV with(nolock) left join ADM_Users T1 with(nolock) on INV.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on INV.InvDocDetailsID=TDCC.InvDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on INV.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (INV.CostCenterID=41054) AND T4.Status=''Unapproved'' AND WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef and INV.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT ACC.VoucherNo,ACC.VersionNo,CONVERT(DATETIME,ACC.DocDate),ACC.DocAbbr,ACC.Amount,NULL,T1.UserName,T3.Name,ACC.CommonNarration,T4.Status,T5.Name,ACC.VoucherNo,ACC.DocAbbr,ACC.DocPrefix,CONVERT(BIGINT,ACC.DocNumber)
 FROM ACC_DocDetails ACC with(nolock) left join ADM_Users T1 with(nolock) on ACC.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on ACC.AccDocDetailsID=TDCC.AccDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on ACC.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (ACC.CostCenterID=41033) AND T4.Status=''Unapproved'' AND ACC.LinkedAccDocDetailsID is null AND WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT ACC.VoucherNo,ACC.VersionNo,CONVERT(DATETIME,ACC.DocDate),ACC.DocAbbr,ACC.Amount,NULL,T1.UserName,T3.Name,ACC.CommonNarration,T4.Status,T5.Name,ACC.VoucherNo,ACC.DocAbbr,ACC.DocPrefix,CONVERT(BIGINT,ACC.DocNumber)
 FROM ACC_DocDetails ACC with(nolock) left join ADM_Users T1 with(nolock) on ACC.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on ACC.AccDocDetailsID=TDCC.AccDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on ACC.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (ACC.CostCenterID=40019) AND T4.Status=''Unapproved'' AND ACC.LinkedAccDocDetailsID is null AND WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))
 UNION ALL 
SELECT ACC.VoucherNo,ACC.VersionNo,CONVERT(DATETIME,ACC.DocDate),ACC.DocAbbr,ACC.Amount,NULL,T1.UserName,T3.Name,ACC.CommonNarration,T4.Status,T5.Name,ACC.VoucherNo,ACC.DocAbbr,ACC.DocPrefix,CONVERT(BIGINT,ACC.DocNumber)
 FROM ACC_DocDetails ACC with(nolock) left join ADM_Users T1 with(nolock) on ACC.CreatedBy=T1.Username left join COM_DocCCData TDCC with(nolock) on ACC.AccDocDetailsID=TDCC.AccDocDetailsID left join COM_CC50009 T3 with(nolock) on TDCC.dcCCNID9=T3.NodeID left join COM_Status T4 with(nolock) on ACC.StatusID=T4.StatusID left join COM_Location T5 with(nolock) on TDCC.dcCCNID2=T5.NodeID,#TblUsrWF WF
 WHERE (ACC.CostCenterID=41013) AND T4.Status=''Unapproved'' AND ACC.LinkedAccDocDetailsID is null AND WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef and ACC.CreatedDate+WF.CtWef<=convert(float,getdate()))) ORDER BY [Cdacb59b3f5e54f18b65dfc4cf3186555Abr] ,[Cdacb59b3f5e54f18b65dfc4cf3186555prf] ,[Cdacb59b3f5e54f18b65dfc4cf3186555dno]  
 DROP TABLE #TblUsrWF'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 11:15:37.077 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNzUzMywiZXhwIjoxNzUyODQ2MzMzLCJpYXQiOjE3NTI4MTc1MzN9.Ve50zNJqjFRiPCAWhGOGbJW3At109Eb-eggN1-AgT_Y'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 11:15:38.767 | General Service|:: CompanyIndex:13 SpName: spDOC_GetDocumentDefinition 
 41025
 ,NULL
 ,NULL
 ,''
 ,1
 ,'admin'
 ,1
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 11:15:38.767 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNzUzMywiZXhwIjoxNzUyODQ2MzMzLCJpYXQiOjE3NTI4MTc1MzN9.Ve50zNJqjFRiPCAWhGOGbJW3At109Eb-eggN1-AgT_Y'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 11:15:38.814 | General Service|:: CompanyIndex:13 SpName: spDoc_GetCurrencyExchangeRate 
 1
 ,'18-Jul-2025'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 11:15:38.829 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNzUzMywiZXhwIjoxNzUyODQ2MzMzLCJpYXQiOjE3NTI4MTc1MzN9.Ve50zNJqjFRiPCAWhGOGbJW3At109Eb-eggN1-AgT_Y'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 11:15:38.845 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'SELECT Code FROM COM_Location WITH(NOLOCK) WHERE NodeID=27'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 11:15:38.845 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNzUzMywiZXhwIjoxNzUyODQ2MzMzLCJpYXQiOjE3NTI4MTc1MzN9.Ve50zNJqjFRiPCAWhGOGbJW3At109Eb-eggN1-AgT_Y'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 11:15:38.861 | General Service|:: CompanyIndex:13 SpName: spDOC_GetDocumentPrefix 
 41025
 ,27
 ,''
 ,''
 ,'1'
 ,'1'
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 11:15:38.876 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNzUzMywiZXhwIjoxNzUyODQ2MzMzLCJpYXQiOjE3NTI4MTc1MzN9.Ve50zNJqjFRiPCAWhGOGbJW3At109Eb-eggN1-AgT_Y'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 11:15:38.876 | General Service|:: CompanyIndex:13 SpName: spDOC_GetDueDate 
 55687
 ,27
 ,0
 ,0
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 11:15:38.892 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNzUzMywiZXhwIjoxNzUyODQ2MzMzLCJpYXQiOjE3NTI4MTc1MzN9.Ve50zNJqjFRiPCAWhGOGbJW3At109Eb-eggN1-AgT_Y'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 11:15:38.908 | General Service|:: CompanyIndex:13 SpName: spDOC_GetCurrentCodeNumber 
 41025
 ,'023/25/'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 11:15:38.908 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNzUzMywiZXhwIjoxNzUyODQ2MzMzLCJpYXQiOjE3NTI4MTc1MzN9.Ve50zNJqjFRiPCAWhGOGbJW3At109Eb-eggN1-AgT_Y'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 11:15:38.939 | General Service|:: CompanyIndex:13 SpName: spDOC_GetLinkReferenceData 
 566117
 ,41025
 ,55687
 ,'18/Jul/2025'
 ,55687
 ,'<XML><Row CostCenterID="50011" NODEID="1" /><Row CostCenterID="50002" NODEID="27" /><Row CostCenterID="50058" NODEID="1" /><Row CostCenterID="50059" NODEID="1" /><Row CostCenterID="50061" NODEID="11" /><Row CostCenterID="50062" NODEID="1" /></XML>'
 ,False
 ,'0'
 ,'0'
 ,'0'
 ,NULL
 ,'0'
 ,'0'
 ,'0'
 ,''
 ,'1'
 ,1
 ,'1'
[System: 192.168.1.54] DEBUG | 07-18-2025 11:15:38.939 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNzUzMywiZXhwIjoxNzUyODQ2MzMzLCJpYXQiOjE3NTI4MTc1MzN9.Ve50zNJqjFRiPCAWhGOGbJW3At109Eb-eggN1-AgT_Y'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 11:15:38.970 | General Service|:: CompanyIndex:13 SpName: spADM_GetListViewDataByIDs 
 '<XML><Row CCID="50011"  TypeID="1"  DBColumnID="566213"  NodeID="1" /><Row CCID="2"  TypeID="10"  DBColumnID="566117"  NodeID="55687" /><Row CCID="2"  TypeID="100"  DBColumnID="566117"  NodeID="55687" /><Row CCID="2"  TypeID="10"  DBColumnID="566254"  NodeID="3" /><Row CCID="2"  TypeID="100"  DBColumnID="566254"  NodeID="3" /><Row CCID="50011"  TypeID="1"  DBColumnID="566213"  NodeID="1" /><Row CCID="50002"  TypeID="1"  DBColumnID="566204"  NodeID="27" /><Row CCID="50058"  TypeID="1"  DBColumnID="583442"  NodeID="1" /><Row CCID="50059"  TypeID="1"  DBColumnID="583494"  NodeID="1" /><Row CCID="50061"  TypeID="11"  DBColumnID="583598"  NodeID="11" /><Row CCID="50062"  TypeID="1"  DBColumnID="583650"  NodeID="1" /><Row CCID="50058"  TypeID="1"  DBColumnID="583713"  NodeID="1" /></XML>'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 11:15:38.970 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNzUzMywiZXhwIjoxNzUyODQ2MzMzLCJpYXQiOjE3NTI4MTc1MzN9.Ve50zNJqjFRiPCAWhGOGbJW3At109Eb-eggN1-AgT_Y'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 11:15:39.001 | General Service|:: CompanyIndex:13 SpName: spADM_GetListViewDataByIDs 
 '<XML><Row CCID="50011"  TypeID="1"  DBColumnID="566213"  NodeID="1" /><Row CCID="2"  TypeID="10"  DBColumnID="566117"  NodeID="55687" /><Row CCID="2"  TypeID="100"  DBColumnID="566117"  NodeID="55687" /><Row CCID="2"  TypeID="10"  DBColumnID="566254"  NodeID="3" /><Row CCID="2"  TypeID="100"  DBColumnID="566254"  NodeID="3" /><Row CCID="50011"  TypeID="1"  DBColumnID="566213"  NodeID="1" /><Row CCID="50002"  TypeID="1"  DBColumnID="566204"  NodeID="27" /><Row CCID="50058"  TypeID="1"  DBColumnID="583442"  NodeID="1" /><Row CCID="50059"  TypeID="1"  DBColumnID="583494"  NodeID="1" /><Row CCID="50061"  TypeID="11"  DBColumnID="583598"  NodeID="11" /><Row CCID="50062"  TypeID="1"  DBColumnID="583650"  NodeID="1" /><Row CCID="50058"  TypeID="1"  DBColumnID="583713"  NodeID="1" /></XML>'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 11:15:39.001 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNzUzMywiZXhwIjoxNzUyODQ2MzMzLCJpYXQiOjE3NTI4MTc1MzN9.Ve50zNJqjFRiPCAWhGOGbJW3At109Eb-eggN1-AgT_Y'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 11:15:39.017 | General Service|:: CompanyIndex:13 SpName: spDOC_GetLinkReferenceData 
 566117
 ,41025
 ,55687
 ,'18/Jul/2025'
 ,55687
 ,'<XML><Row CostCenterID="50011" NODEID="1" /><Row CostCenterID="50002" NODEID="27" /><Row CostCenterID="50058" NODEID="1" /><Row CostCenterID="50059" NODEID="1" /><Row CostCenterID="50061" NODEID="11" /><Row CostCenterID="50062" NODEID="1" /></XML>'
 ,False
 ,'0'
 ,'0'
 ,'0'
 ,NULL
 ,'0'
 ,'0'
 ,'0'
 ,''
 ,'1'
 ,1
 ,'1'
[System: 192.168.1.54] DEBUG | 07-18-2025 11:15:39.017 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNzUzMywiZXhwIjoxNzUyODQ2MzMzLCJpYXQiOjE3NTI4MTc1MzN9.Ve50zNJqjFRiPCAWhGOGbJW3At109Eb-eggN1-AgT_Y'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 11:15:39.048 | General Service|:: CompanyIndex:13 SpName: spADM_GetListViewDataByIDs 
 '<XML><Row CCID="50011"  TypeID="1"  DBColumnID="566213"  NodeID="1" /><Row CCID="2"  TypeID="10"  DBColumnID="566117"  NodeID="55687" /><Row CCID="2"  TypeID="100"  DBColumnID="566117"  NodeID="55687" /><Row CCID="2"  TypeID="10"  DBColumnID="566254"  NodeID="3" /><Row CCID="2"  TypeID="100"  DBColumnID="566254"  NodeID="3" /><Row CCID="50011"  TypeID="1"  DBColumnID="566213"  NodeID="1" /><Row CCID="50002"  TypeID="1"  DBColumnID="566204"  NodeID="27" /><Row CCID="50058"  TypeID="1"  DBColumnID="583442"  NodeID="1" /><Row CCID="50059"  TypeID="1"  DBColumnID="583494"  NodeID="1" /><Row CCID="50061"  TypeID="11"  DBColumnID="583598"  NodeID="11" /><Row CCID="50062"  TypeID="1"  DBColumnID="583650"  NodeID="1" /><Row CCID="50058"  TypeID="1"  DBColumnID="583713"  NodeID="1" /></XML>'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 11:15:39.048 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNzUzMywiZXhwIjoxNzUyODQ2MzMzLCJpYXQiOjE3NTI4MTc1MzN9.Ve50zNJqjFRiPCAWhGOGbJW3At109Eb-eggN1-AgT_Y'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 11:15:39.111 | General Service|:: CompanyIndex:13 SpName: spADM_GetCostCenterListViewData 
 500055
 ,'a.Name,a.Code,a.ccAlpha11'
 ,''
 ,''
 ,'Name'
 ,''
 ,60
 ,False
 ,''
 ,''
 ,''
 ,''
 ,''
 ,0
 ,False
 ,''
 ,''
 ,'1'
 ,'1'
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 11:15:39.111 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNzUzMywiZXhwIjoxNzUyODQ2MzMzLCJpYXQiOjE3NTI4MTc1MzN9.Ve50zNJqjFRiPCAWhGOGbJW3At109Eb-eggN1-AgT_Y'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 11:15:40.923 | General Service|:: CompanyIndex:13 SpName: spDOC_GetInvDocument 
 41025
 ,'023/25/'
 ,'116'
 ,'1'
 ,0
 ,' and (a.CostCenterID=c.DocumentID or c.DocumentID=1) and (b.dcCCNID2=c.CCNID2 or c.CCNID2=0)'
 ,1
 ,1
 ,'admin'
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 11:15:40.923 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNzUzMywiZXhwIjoxNzUyODQ2MzMzLCJpYXQiOjE3NTI4MTc1MzN9.Ve50zNJqjFRiPCAWhGOGbJW3At109Eb-eggN1-AgT_Y'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 11:15:40.970 | General Service|:: CompanyIndex:13 SpName: spADM_GetListViewDataByIDs 
 '<XML><Row CCID="50011"  TypeID="1"  DBColumnID="566213"  NodeID="1" /><Row CCID="2"  TypeID="10"  DBColumnID="566117"  NodeID="55687" /><Row CCID="2"  TypeID="100"  DBColumnID="566117"  NodeID="55687" /><Row CCID="2"  TypeID="10"  DBColumnID="566254"  NodeID="3" /><Row CCID="2"  TypeID="100"  DBColumnID="566254"  NodeID="3" /><Row CCID="50014"  TypeID="4"  DBColumnID="566216"  NodeID="10367" /><Row CCID="50009"  TypeID="3"  DBColumnID="566211"  NodeID="10570" /><Row CCID="50010"  TypeID="3"  DBColumnID="566212"  NodeID="51889" /><Row CCID="50018"  TypeID="1"  DBColumnID="566220"  NodeID="135" /><Row CCID="50070"  TypeID="1"  DBColumnID="598043"  NodeID="4" /><Row CCID="50011"  TypeID="1"  DBColumnID="566213"  NodeID="1" /><Row CCID="50014"  TypeID="4"  DBColumnID="566216"  NodeID="10367" /><Row CCID="50009"  TypeID="3"  DBColumnID="566211"  NodeID="10570" /><Row CCID="50010"  TypeID="3"  DBColumnID="566212"  NodeID="51889" /><Row CCID="50018"  TypeID="1"  DBColumnID="566220"  NodeID="135" /><Row CCID="50070"  TypeID="1"  DBColumnID="598043"  NodeID="4" /><Row CCID="50002"  TypeID="1"  DBColumnID="566204"  NodeID="27" /><Row CCID="50058"  TypeID="1"  DBColumnID="583442"  NodeID="1" /><Row CCID="50059"  TypeID="1"  DBColumnID="583494"  NodeID="1" /><Row CCID="50061"  TypeID="11"  DBColumnID="583598"  NodeID="11" /><Row CCID="50062"  TypeID="1"  DBColumnID="583650"  NodeID="1" /><Row CCID="50058"  TypeID="1"  DBColumnID="583713"  NodeID="1" /><Row CCID="44"  TypeID="122"  DBColumnID="566171"  NodeID="641" /><Row CCID="50060"  TypeID="1"  DBColumnID="583546"  NodeID="1" /></XML>'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 11:15:40.970 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNzUzMywiZXhwIjoxNzUyODQ2MzMzLCJpYXQiOjE3NTI4MTc1MzN9.Ve50zNJqjFRiPCAWhGOGbJW3At109Eb-eggN1-AgT_Y'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 11:15:41.001 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select ParentNodeID NodeID from COM_CostCenterCostCenterMap where CostCenterID in (8,300) and ParentCostCenterId=50033 and NodeID=41025'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 11:15:41.001 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNzUzMywiZXhwIjoxNzUyODQ2MzMzLCJpYXQiOjE3NTI4MTc1MzN9.Ve50zNJqjFRiPCAWhGOGbJW3At109Eb-eggN1-AgT_Y'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 11:15:41.016 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select ParentNodeID NodeID from COM_CostCenterCostCenterMap where CostCenterID in (8,300) and ParentCostCenterId=50033 and NodeID=41025'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 11:15:41.016 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNzUzMywiZXhwIjoxNzUyODQ2MzMzLCJpYXQiOjE3NTI4MTc1MzN9.Ve50zNJqjFRiPCAWhGOGbJW3At109Eb-eggN1-AgT_Y'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 11:15:41.032 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select ParentNodeID NodeID from COM_CostCenterCostCenterMap where CostCenterID in (8,300) and ParentCostCenterId=50033 and NodeID=41025'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 11:15:41.032 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNzUzMywiZXhwIjoxNzUyODQ2MzMzLCJpYXQiOjE3NTI4MTc1MzN9.Ve50zNJqjFRiPCAWhGOGbJW3At109Eb-eggN1-AgT_Y'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 11:15:41.063 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select ParentNodeID NodeID from COM_CostCenterCostCenterMap where CostCenterID in (8,300) and ParentCostCenterId=50033 and NodeID=41025'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 11:15:41.063 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNzUzMywiZXhwIjoxNzUyODQ2MzMzLCJpYXQiOjE3NTI4MTc1MzN9.Ve50zNJqjFRiPCAWhGOGbJW3At109Eb-eggN1-AgT_Y'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 11:15:41.079 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select ParentNodeID NodeID from COM_CostCenterCostCenterMap where CostCenterID in (8,300) and ParentCostCenterId=50033 and NodeID=41025'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 11:15:41.079 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNzUzMywiZXhwIjoxNzUyODQ2MzMzLCJpYXQiOjE3NTI4MTc1MzN9.Ve50zNJqjFRiPCAWhGOGbJW3At109Eb-eggN1-AgT_Y'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 11:15:41.095 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select ParentNodeID NodeID from COM_CostCenterCostCenterMap where CostCenterID in (8,300) and ParentCostCenterId=50033 and NodeID=41025'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 11:15:41.095 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNzUzMywiZXhwIjoxNzUyODQ2MzMzLCJpYXQiOjE3NTI4MTc1MzN9.Ve50zNJqjFRiPCAWhGOGbJW3At109Eb-eggN1-AgT_Y'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 11:15:41.110 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select ParentNodeID NodeID from COM_CostCenterCostCenterMap where CostCenterID in (8,300) and ParentCostCenterId=50033 and NodeID=41025'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 11:15:41.126 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNzUzMywiZXhwIjoxNzUyODQ2MzMzLCJpYXQiOjE3NTI4MTc1MzN9.Ve50zNJqjFRiPCAWhGOGbJW3At109Eb-eggN1-AgT_Y'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 11:15:41.126 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select ParentNodeID NodeID from COM_CostCenterCostCenterMap where CostCenterID in (8,300) and ParentCostCenterId=50033 and NodeID=41025'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 11:15:41.141 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNzUzMywiZXhwIjoxNzUyODQ2MzMzLCJpYXQiOjE3NTI4MTc1MzN9.Ve50zNJqjFRiPCAWhGOGbJW3At109Eb-eggN1-AgT_Y'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 11:15:41.157 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select ParentNodeID NodeID from COM_CostCenterCostCenterMap where CostCenterID in (8,300) and ParentCostCenterId=50033 and NodeID=41025'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 11:15:41.157 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNzUzMywiZXhwIjoxNzUyODQ2MzMzLCJpYXQiOjE3NTI4MTc1MzN9.Ve50zNJqjFRiPCAWhGOGbJW3At109Eb-eggN1-AgT_Y'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 11:15:41.173 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select ParentNodeID NodeID from COM_CostCenterCostCenterMap where CostCenterID in (8,300) and ParentCostCenterId=50033 and NodeID=41025'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 11:15:41.173 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNzUzMywiZXhwIjoxNzUyODQ2MzMzLCJpYXQiOjE3NTI4MTc1MzN9.Ve50zNJqjFRiPCAWhGOGbJW3At109Eb-eggN1-AgT_Y'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 11:15:41.188 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select ParentNodeID NodeID from COM_CostCenterCostCenterMap where CostCenterID in (8,300) and ParentCostCenterId=50033 and NodeID=41025'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 11:15:41.204 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNzUzMywiZXhwIjoxNzUyODQ2MzMzLCJpYXQiOjE3NTI4MTc1MzN9.Ve50zNJqjFRiPCAWhGOGbJW3At109Eb-eggN1-AgT_Y'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 11:15:41.204 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select ParentNodeID NodeID from COM_CostCenterCostCenterMap where CostCenterID in (8,300) and ParentCostCenterId=50033 and NodeID=41025'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 11:15:41.220 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNzUzMywiZXhwIjoxNzUyODQ2MzMzLCJpYXQiOjE3NTI4MTc1MzN9.Ve50zNJqjFRiPCAWhGOGbJW3At109Eb-eggN1-AgT_Y'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 11:15:41.235 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select ParentNodeID NodeID from COM_CostCenterCostCenterMap where CostCenterID in (8,300) and ParentCostCenterId=50033 and NodeID=41025'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 11:15:41.235 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNzUzMywiZXhwIjoxNzUyODQ2MzMzLCJpYXQiOjE3NTI4MTc1MzN9.Ve50zNJqjFRiPCAWhGOGbJW3At109Eb-eggN1-AgT_Y'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 11:15:41.313 | General Service|:: CompanyIndex:13 SpName: spADM_GetCostCenterListViewData 
 362
 ,'a.Name,a.Code'
 ,''
 ,''
 ,'Name'
 ,''
 ,60
 ,False
 ,''
 ,''
 ,'(CCNID9=10570)'
 ,''
 ,''
 ,0
 ,False
 ,''
 ,''
 ,'1'
 ,'1'
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 11:15:41.313 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNzUzMywiZXhwIjoxNzUyODQ2MzMzLCJpYXQiOjE3NTI4MTc1MzN9.Ve50zNJqjFRiPCAWhGOGbJW3At109Eb-eggN1-AgT_Y'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 11:15:44.469 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 11:15:44.469 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 11:16:37.026 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 11:16:37.026 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNzUzMywiZXhwIjoxNzUyODQ2MzMzLCJpYXQiOjE3NTI4MTc1MzN9.Ve50zNJqjFRiPCAWhGOGbJW3At109Eb-eggN1-AgT_Y'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 11:16:43.421 | General Service|:: CompanyIndex:13 SpName: spCOM_ConfigValues 
 1
 ,'NotifTime'
 ,''
[System: 192.168.1.79] DEBUG | 07-18-2025 11:16:43.421 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 11:16:44.298 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 11:16:44.298 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 11:17:37.011 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 11:17:37.011 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNzUzMywiZXhwIjoxNzUyODQ2MzMzLCJpYXQiOjE3NTI4MTc1MzN9.Ve50zNJqjFRiPCAWhGOGbJW3At109Eb-eggN1-AgT_Y'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 11:17:44.284 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 11:17:44.300 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 11:18:37.015 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 11:18:37.015 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6ImFkbWluLDEsMTMsMSIsIm5iZiI6MTc1MjgxNzUzMywiZXhwIjoxNzUyODQ2MzMzLCJpYXQiOjE3NTI4MTc1MzN9.Ve50zNJqjFRiPCAWhGOGbJW3At109Eb-eggN1-AgT_Y'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 11:18:44.281 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 11:18:44.281 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 11:19:44.297 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 11:19:44.297 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 11:20:44.283 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 11:20:44.283 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 11:21:43.416 | General Service|:: CompanyIndex:13 SpName: spCOM_ConfigValues 
 1
 ,'NotifTime'
 ,''
[System: 192.168.1.79] DEBUG | 07-18-2025 11:21:43.416 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 11:21:44.295 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 11:21:44.295 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 11:22:44.312 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 11:22:44.312 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 11:23:44.281 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 11:23:44.281 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 11:24:22.253 | General Service|:: CompanyIndex:0 SpName: spADM_GetClientUserDetails2C 
 'admin'
 ,1
 ,0
[System: 192.168.1.54] DEBUG | 07-18-2025 11:24:22.300 | General Service|:: CompanyIndex:0 SpName: spADM_UserLoginCheck 
 1
 ,'admin'
 ,0
 ,'192.168.1.54'
 ,'192.168.1.54'
 ,''
 ,'Web'
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 11:24:25.987 | General Service|:: CompanyIndex:0 SpName: spADM_GetClientUserDetails2C 
 'admin'
 ,1
 ,0
[System: 192.168.1.54] DEBUG | 07-18-2025 11:24:26.066 | General Service|:: CompanyIndex:0 SpName: spADM_UserLoginCheck 
 2
 ,'admin'
 ,0
 ,'192.168.1.54'
 ,'192.168.1.54'
 ,''
 ,'Web'
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 11:24:44.280 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 11:24:44.280 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 11:25:44.316 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 11:25:44.316 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.54] DEBUG | 07-18-2025 11:26:04.514 | General Service|:: CompanyIndex:0 SpName: spADM_GetClientUserDetails2C 
 'admin'
 ,1
 ,0
[System: 192.168.1.54] DEBUG | 07-18-2025 11:26:04.546 | General Service|:: CompanyIndex:0 SpName: spADM_UserLoginCheck 
 2
 ,'admin'
 ,0
 ,'192.168.1.54'
 ,'192.168.1.54'
 ,''
 ,'Web'
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 11:26:40.692 | General Service|:: CompanyIndex:0 SpName: spADM_Login 
 4
 ,''
 ,''
 ,''
 ,'declare @AllowSession bit,@GUID nvarchar(50)
set @AllowSession=0
set @GUID=''0e5fc663-5269-4683-a080-85b06e4ab335''
if exists(select [GUID] from ADM_Login with(nolock) where [GUID]=@GUID)
begin
    update ADM_Login  set LastAccessTime=convert(float,getdate()) where [GUID]=@GUID
    set @AllowSession=1
end
select @AllowSession AllowSession
'
 ,''
 ,0
[System: 192.168.1.79] DEBUG | 07-18-2025 11:26:40.708 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 11:26:43.392 | General Service|:: CompanyIndex:13 SpName: spCOM_ConfigValues 
 1
 ,'NotifTime'
 ,''
[System: 192.168.1.79] DEBUG | 07-18-2025 11:26:43.408 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 11:26:44.282 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 11:26:44.282 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 11:27:44.286 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 11:27:44.286 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 11:28:44.280 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 11:28:44.280 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 11:29:44.269 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 11:29:44.285 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 11:30:44.281 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 11:30:44.281 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 11:31:43.409 | General Service|:: CompanyIndex:13 SpName: spCOM_ConfigValues 
 1
 ,'NotifTime'
 ,''
[System: 192.168.1.79] DEBUG | 07-18-2025 11:31:43.409 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 11:31:44.284 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 11:31:44.284 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 11:32:44.266 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 11:32:44.266 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 11:33:44.282 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 11:33:44.282 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 11:34:44.292 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 11:34:44.292 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 11:35:44.371 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 11:35:44.465 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 11:36:43.397 | General Service|:: CompanyIndex:13 SpName: spCOM_ConfigValues 
 1
 ,'NotifTime'
 ,''
[System: 192.168.1.79] DEBUG | 07-18-2025 11:36:43.397 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 11:36:44.272 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 11:36:44.272 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 11:37:44.286 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 11:37:44.286 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 11:38:44.265 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 11:38:44.265 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 11:39:44.272 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 11:39:44.272 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 11:40:44.279 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 11:40:44.279 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 11:41:40.684 | General Service|:: CompanyIndex:0 SpName: spADM_Login 
 4
 ,''
 ,''
 ,''
 ,'declare @AllowSession bit,@GUID nvarchar(50)
set @AllowSession=0
set @GUID=''0e5fc663-5269-4683-a080-85b06e4ab335''
if exists(select [GUID] from ADM_Login with(nolock) where [GUID]=@GUID)
begin
    update ADM_Login  set LastAccessTime=convert(float,getdate()) where [GUID]=@GUID
    set @AllowSession=1
end
select @AllowSession AllowSession
'
 ,''
 ,0
[System: 192.168.1.79] DEBUG | 07-18-2025 11:41:40.699 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 11:41:43.388 | General Service|:: CompanyIndex:13 SpName: spCOM_ConfigValues 
 1
 ,'NotifTime'
 ,''
[System: 192.168.1.79] DEBUG | 07-18-2025 11:41:43.388 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 11:41:44.283 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 11:41:44.283 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 11:42:44.269 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 11:42:44.284 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 11:43:44.280 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 11:43:44.280 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 11:44:44.271 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 11:44:44.271 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 11:45:44.275 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 11:45:44.275 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 11:46:43.400 | General Service|:: CompanyIndex:13 SpName: spCOM_ConfigValues 
 1
 ,'NotifTime'
 ,''
[System: 192.168.1.79] DEBUG | 07-18-2025 11:46:43.400 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 11:46:44.275 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 11:46:44.275 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 11:47:44.260 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 11:47:44.260 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 11:48:44.277 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 11:48:44.277 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 11:49:44.267 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 11:49:44.283 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 11:50:44.261 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 11:50:44.276 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 11:51:43.391 | General Service|:: CompanyIndex:13 SpName: spCOM_ConfigValues 
 1
 ,'NotifTime'
 ,''
[System: 192.168.1.79] DEBUG | 07-18-2025 11:51:43.406 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 11:51:44.256 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 11:51:44.256 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 11:52:44.261 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 11:52:44.277 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 11:53:44.268 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 11:53:44.268 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 11:54:44.260 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 11:54:44.260 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 11:55:44.247 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 11:55:44.262 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 11:56:40.682 | General Service|:: CompanyIndex:0 SpName: spADM_Login 
 4
 ,''
 ,''
 ,''
 ,'declare @AllowSession bit,@GUID nvarchar(50)
set @AllowSession=0
set @GUID=''0e5fc663-5269-4683-a080-85b06e4ab335''
if exists(select [GUID] from ADM_Login with(nolock) where [GUID]=@GUID)
begin
    update ADM_Login  set LastAccessTime=convert(float,getdate()) where [GUID]=@GUID
    set @AllowSession=1
end
select @AllowSession AllowSession
'
 ,''
 ,0
[System: 192.168.1.79] DEBUG | 07-18-2025 11:56:40.682 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 11:56:43.386 | General Service|:: CompanyIndex:13 SpName: spCOM_ConfigValues 
 1
 ,'NotifTime'
 ,''
[System: 192.168.1.79] DEBUG | 07-18-2025 11:56:43.401 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 11:56:44.261 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 11:56:44.261 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 11:57:44.264 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 11:57:44.264 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 11:58:44.262 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 11:58:44.277 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 11:59:44.263 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 11:59:44.263 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 12:00:44.271 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 12:00:44.271 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 12:01:43.379 | General Service|:: CompanyIndex:13 SpName: spCOM_ConfigValues 
 1
 ,'NotifTime'
 ,''
[System: 192.168.1.79] DEBUG | 07-18-2025 12:01:43.379 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 12:01:44.269 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 12:01:44.269 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 12:02:44.299 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 12:02:44.299 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 12:03:44.251 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 12:03:44.251 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 12:04:44.269 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 12:04:44.269 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 12:05:44.258 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 12:05:44.258 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 12:06:43.368 | General Service|:: CompanyIndex:13 SpName: spCOM_ConfigValues 
 1
 ,'NotifTime'
 ,''
[System: 192.168.1.79] DEBUG | 07-18-2025 12:06:43.383 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 12:06:44.274 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 12:06:44.274 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 12:07:44.259 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 12:07:44.259 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 12:08:44.258 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 12:08:44.258 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 12:09:44.257 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 12:09:44.273 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 12:10:44.259 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 12:10:44.259 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 12:11:40.673 | General Service|:: CompanyIndex:0 SpName: spADM_Login 
 4
 ,''
 ,''
 ,''
 ,'declare @AllowSession bit,@GUID nvarchar(50)
set @AllowSession=0
set @GUID=''0e5fc663-5269-4683-a080-85b06e4ab335''
if exists(select [GUID] from ADM_Login with(nolock) where [GUID]=@GUID)
begin
    update ADM_Login  set LastAccessTime=convert(float,getdate()) where [GUID]=@GUID
    set @AllowSession=1
end
select @AllowSession AllowSession
'
 ,''
 ,0
[System: 192.168.1.79] DEBUG | 07-18-2025 12:11:40.689 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 12:11:43.365 | General Service|:: CompanyIndex:13 SpName: spCOM_ConfigValues 
 1
 ,'NotifTime'
 ,''
[System: 192.168.1.79] DEBUG | 07-18-2025 12:11:43.380 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 12:11:44.261 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 12:11:44.261 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 12:12:44.257 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 12:12:44.257 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 12:13:44.248 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 12:13:44.263 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 12:14:44.247 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 12:14:44.247 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 12:15:44.253 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 12:15:44.253 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 12:16:43.371 | General Service|:: CompanyIndex:13 SpName: spCOM_ConfigValues 
 1
 ,'NotifTime'
 ,''
[System: 192.168.1.79] DEBUG | 07-18-2025 12:16:43.371 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 12:16:44.247 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 12:16:44.247 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 12:17:44.255 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 12:17:44.255 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 12:18:44.253 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 12:18:44.253 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 12:19:44.258 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 12:19:44.258 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 12:20:44.246 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 12:20:44.262 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 12:21:43.360 | General Service|:: CompanyIndex:13 SpName: spCOM_ConfigValues 
 1
 ,'NotifTime'
 ,''
[System: 192.168.1.79] DEBUG | 07-18-2025 12:21:43.375 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 12:21:44.266 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 12:21:44.266 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 12:22:44.247 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 12:22:44.263 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 12:23:44.246 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 12:23:44.246 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 12:24:44.272 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 12:24:44.287 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 12:25:44.242 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 12:25:44.242 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 12:26:40.662 | General Service|:: CompanyIndex:0 SpName: spADM_Login 
 4
 ,''
 ,''
 ,''
 ,'declare @AllowSession bit,@GUID nvarchar(50)
set @AllowSession=0
set @GUID=''0e5fc663-5269-4683-a080-85b06e4ab335''
if exists(select [GUID] from ADM_Login with(nolock) where [GUID]=@GUID)
begin
    update ADM_Login  set LastAccessTime=convert(float,getdate()) where [GUID]=@GUID
    set @AllowSession=1
end
select @AllowSession AllowSession
'
 ,''
 ,0
[System: 192.168.1.79] DEBUG | 07-18-2025 12:26:40.662 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 12:26:43.365 | General Service|:: CompanyIndex:13 SpName: spCOM_ConfigValues 
 1
 ,'NotifTime'
 ,''
[System: 192.168.1.79] DEBUG | 07-18-2025 12:26:43.365 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 12:26:44.244 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 12:26:44.244 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 12:27:44.247 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 12:27:44.247 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 12:28:44.248 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 12:28:44.248 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 12:29:44.238 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 12:29:44.254 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.56] DEBUG | 07-18-2025 12:29:46.098 | General Service|:: CompanyIndex:0 SpName: spADM_GetClientUserDetails2C 
 'Admin'
 ,1
 ,0
[System: 192.168.1.56] DEBUG | 07-18-2025 12:29:46.191 | General Service|:: CompanyIndex:0 SpName: spADM_UserLoginCheck 
 2
 ,'Admin'
 ,0
 ,'192.168.1.56'
 ,'192.168.1.56'
 ,''
 ,'Web'
 ,1
[System: 192.168.1.56] DEBUG | 07-18-2025 12:29:52.627 | General Service|:: CompanyIndex:7 SpName: spADM_GetClientUserDetails 
 'Admin'
 ,1
 ,'26.1.4'
 ,0
[System: 192.168.1.56] DEBUG | 07-18-2025 12:29:52.987 | General Service|:: CompanyIndex:0 SpName: spADM_UserLoginCheck 
 2
 ,'Admin'
 ,7
 ,'192.168.1.56'
 ,'192.168.1.56'
 ,''
 ,'Web'
 ,1
[System: 192.168.1.56] DEBUG | 07-18-2025 12:29:53.002 | General Service|:: CompanyIndex:0 SpName: spADM_Login 
 1
 ,''
 ,''
 ,''
 ,''
 ,''
 ,7
[System: 192.168.1.56] DEBUG | 07-18-2025 12:29:53.174 | General Service|:: CompanyIndex:7 SpName: spADM_GetDataSet 
 'select Value from ADM_GlobalPreferences with (nolock) where name =''EnableReLogin'''
 ,1
 ,1
[System: 192.168.1.56] DEBUG | 07-18-2025 12:29:53.190 | General Service|:: CompanyIndex:7 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFkbWluLDEsNywxIiwibmJmIjoxNzUyODIxOTkyLCJleHAiOjE3NTI4NTA3OTIsImlhdCI6MTc1MjgyMTk5Mn0.0pMdepPPPb_68_m1-3CLWm6cuxO24JON2xKxJU3ndCg'''
 ,1
 ,1
[System: 192.168.1.56] DEBUG | 07-18-2025 12:29:53.221 | General Service|:: CompanyIndex:0 SpName: spADM_Login 
 4
 ,''
 ,''
 ,''
 ,'declare @Cnt int,@ExpiredGUID nvarchar(50),@AllowSession int,@GUID nvarchar(50),@CurrDate float,@UserID INT,@Instances INT,@InstancesExists INT,@LCDBIndex int
set @CurrDate= convert(float,dateadd(minute,-21,getdate()))
set @AllowSession=0
set @GUID=''5c14d9c5-1cd1-4f10-90af-a7f91005930f''
set @LCDBIndex=0
select top 1 @UserID=UserID,@Instances=InstanceCount from ADM_Users with(nolock) where UserName=''admin''
if exists(select [GUID] from ADM_Login with(nolock) where [GUID]=@GUID)
begin
	update ADM_Login 
	set LastAccessTime=convert(float,getdate()),UserID=@UserID
	where [GUID]=@GUID
    set @AllowSession=1
end
else
begin
	select @Cnt=count(*) from ADM_Login with(nolock) where LCDBIndex=@LCDBIndex and [GUID]!=''ACCESSRIGHTS'' and AP =''WEB''
    if(@Cnt<100)
		set @AllowSession=1
	else
	begin
		select top 1 @ExpiredGUID=[GUID] from ADM_Login with(nolock)
		where [GUID]!=''ACCESSRIGHTS'' and LCDBIndex=@LCDBIndex and LastAccessTime<@CurrDate  and AP =''WEB''
        order by LastAccessTime asc
		if @ExpiredGUID is not null
		begin
			delete from ADM_Login where [GUID]=@ExpiredGUID
			set @AllowSession=1
		end
	end
	if @AllowSession=1
	begin
        select @InstancesExists=COUNT(*) from ADM_Login with(nolock)
		where [GUID]!=''ACCESSRIGHTS'' and LCDBIndex=@LCDBIndex and LastAccessTime>=@CurrDate and UserID=@UserID and AP =''WEB''
		if(@Instances!=0 and @Instances<=@InstancesExists)
			set @AllowSession=2
		else
		    INSERT INTO ADM_Login([GUID],[SysName],IPAddress,[Status],LoginTime,LastAccessTime,AccessRights,UserID,DBIndex,LCDBIndex,AP)
		    VALUES(@GUID,''WEB'',''192.168.1.56'',1,convert(float,getdate()),convert(float,getdate()),null,@UserID,7,@LCDBIndex, ''WEB'')
	end
end

select @AllowSession AllowSession,@Instances Instances,@InstancesExists InstancesExists
'
 ,''
 ,0
[System: 192.168.1.56] DEBUG | 07-18-2025 12:29:53.221 | General Service|:: CompanyIndex:7 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFkbWluLDEsNywxIiwibmJmIjoxNzUyODIxOTkyLCJleHAiOjE3NTI4NTA3OTIsImlhdCI6MTc1MjgyMTk5Mn0.0pMdepPPPb_68_m1-3CLWm6cuxO24JON2xKxJU3ndCg'''
 ,1
 ,1
[System: 192.168.1.56] DEBUG | 07-18-2025 12:29:53.518 | General Service|:: CompanyIndex:7 SpName: spADM_GetDataSet 
 'SELECT (SELECT COUNT(*) FROM COM_Location L WITH(NOLOCK) JOIN COM_Status S WITH(NOLOCK) ON S.StatusID=L.StatusID WHERE L.IsGroup=0 AND S.[Status]=''Active'') ML
,(SELECT COUNT(*) FROM ADM_Features WITH(NOLOCK) WHERE ((FeatureID>50000 AND FeatureID<=50050) OR FeatureID>=51000) AND IsEnabled=1) MD
,(SELECT ISNULL(COUNT(*),0) FROM ADM_RevenUReports WITH(NOLOCK) WHERE IsGroup=0 AND ReportID>10000 AND StaticReportType IN (0,-1)) MR'
 ,1
 ,1
[System: 192.168.1.56] DEBUG | 07-18-2025 12:29:53.533 | General Service|:: CompanyIndex:7 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFkbWluLDEsNywxIiwibmJmIjoxNzUyODIxOTkyLCJleHAiOjE3NTI4NTA3OTIsImlhdCI6MTc1MjgyMTk5Mn0.0pMdepPPPb_68_m1-3CLWm6cuxO24JON2xKxJU3ndCg'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 12:30:44.230 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 12:30:44.230 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 12:31:43.366 | General Service|:: CompanyIndex:13 SpName: spCOM_ConfigValues 
 1
 ,'NotifTime'
 ,''
[System: 192.168.1.79] DEBUG | 07-18-2025 12:31:43.381 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 12:31:44.256 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 12:31:44.256 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 12:32:44.249 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 12:32:44.249 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 12:33:44.242 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 12:33:44.242 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 12:34:44.250 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 12:34:44.250 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 12:35:44.241 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 12:35:44.241 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 12:36:43.362 | General Service|:: CompanyIndex:13 SpName: spCOM_ConfigValues 
 1
 ,'NotifTime'
 ,''
[System: 192.168.1.79] DEBUG | 07-18-2025 12:36:43.362 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 12:36:44.236 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 12:36:44.236 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 12:37:44.243 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 12:37:44.259 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 12:38:44.248 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 12:38:44.248 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 12:39:44.239 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 12:39:44.255 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 12:40:44.236 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 12:40:44.251 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 12:41:40.662 | General Service|:: CompanyIndex:0 SpName: spADM_Login 
 4
 ,''
 ,''
 ,''
 ,'declare @AllowSession bit,@GUID nvarchar(50)
set @AllowSession=0
set @GUID=''0e5fc663-5269-4683-a080-85b06e4ab335''
if exists(select [GUID] from ADM_Login with(nolock) where [GUID]=@GUID)
begin
    update ADM_Login  set LastAccessTime=convert(float,getdate()) where [GUID]=@GUID
    set @AllowSession=1
end
select @AllowSession AllowSession
'
 ,''
 ,0
[System: 192.168.1.79] DEBUG | 07-18-2025 12:41:40.662 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 12:41:43.365 | General Service|:: CompanyIndex:13 SpName: spCOM_ConfigValues 
 1
 ,'NotifTime'
 ,''
[System: 192.168.1.79] DEBUG | 07-18-2025 12:41:43.365 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 12:41:44.224 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 12:41:44.240 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 12:42:44.238 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 12:42:44.238 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 12:43:44.244 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 12:43:44.244 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 12:44:44.226 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 12:44:44.226 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.56] DEBUG | 07-18-2025 12:44:54.428 | General Service|:: CompanyIndex:0 SpName: spADM_Login 
 4
 ,''
 ,''
 ,''
 ,'declare @AllowSession bit,@GUID nvarchar(50)
set @AllowSession=0
set @GUID=''5c14d9c5-1cd1-4f10-90af-a7f91005930f''
if exists(select [GUID] from ADM_Login with(nolock) where [GUID]=@GUID)
begin
    update ADM_Login  set LastAccessTime=convert(float,getdate()) where [GUID]=@GUID
    set @AllowSession=1
end
select @AllowSession AllowSession
'
 ,''
 ,0
[System: 192.168.1.56] DEBUG | 07-18-2025 12:44:54.444 | General Service|:: CompanyIndex:7 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFkbWluLDEsNywxIiwibmJmIjoxNzUyODIxOTkyLCJleHAiOjE3NTI4NTA3OTIsImlhdCI6MTc1MjgyMTk5Mn0.0pMdepPPPb_68_m1-3CLWm6cuxO24JON2xKxJU3ndCg'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 12:45:44.230 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 12:45:44.230 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 12:46:43.354 | General Service|:: CompanyIndex:13 SpName: spCOM_ConfigValues 
 1
 ,'NotifTime'
 ,''
[System: 192.168.1.79] DEBUG | 07-18-2025 12:46:43.369 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 12:46:44.229 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 12:46:44.229 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 12:47:44.232 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 12:47:44.232 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 12:48:44.231 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 12:48:44.231 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 12:49:44.233 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 12:49:44.233 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 12:50:44.232 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 12:50:44.232 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 12:51:43.350 | General Service|:: CompanyIndex:13 SpName: spCOM_ConfigValues 
 1
 ,'NotifTime'
 ,''
[System: 192.168.1.79] DEBUG | 07-18-2025 12:51:43.350 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 12:51:44.241 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 12:51:44.241 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 12:52:44.316 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 12:52:44.316 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 12:53:44.220 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 12:53:44.236 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 12:54:44.233 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 12:54:44.248 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 12:55:44.237 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 12:55:44.237 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 12:56:40.649 | General Service|:: CompanyIndex:0 SpName: spADM_Login 
 4
 ,''
 ,''
 ,''
 ,'declare @AllowSession bit,@GUID nvarchar(50)
set @AllowSession=0
set @GUID=''0e5fc663-5269-4683-a080-85b06e4ab335''
if exists(select [GUID] from ADM_Login with(nolock) where [GUID]=@GUID)
begin
    update ADM_Login  set LastAccessTime=convert(float,getdate()) where [GUID]=@GUID
    set @AllowSession=1
end
select @AllowSession AllowSession
'
 ,''
 ,0
[System: 192.168.1.79] DEBUG | 07-18-2025 12:56:40.649 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 12:56:43.339 | General Service|:: CompanyIndex:13 SpName: spCOM_ConfigValues 
 1
 ,'NotifTime'
 ,''
[System: 192.168.1.79] DEBUG | 07-18-2025 12:56:43.355 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 12:56:44.229 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 12:56:44.229 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 12:57:44.233 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 12:57:44.233 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 12:58:44.245 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 12:58:44.260 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 12:59:44.238 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 12:59:44.238 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.56] DEBUG | 07-18-2025 13:00:00.977 | General Service|:: CompanyIndex:0 SpName: spADM_Login 
 4
 ,''
 ,''
 ,''
 ,'declare @AllowSession bit,@GUID nvarchar(50)
set @AllowSession=0
set @GUID=''5c14d9c5-1cd1-4f10-90af-a7f91005930f''
if exists(select [GUID] from ADM_Login with(nolock) where [GUID]=@GUID)
begin
    update ADM_Login  set LastAccessTime=convert(float,getdate()) where [GUID]=@GUID
    set @AllowSession=1
end
select @AllowSession AllowSession
'
 ,''
 ,0
[System: 192.168.1.56] DEBUG | 07-18-2025 13:00:00.993 | General Service|:: CompanyIndex:7 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFkbWluLDEsNywxIiwibmJmIjoxNzUyODIxOTkyLCJleHAiOjE3NTI4NTA3OTIsImlhdCI6MTc1MjgyMTk5Mn0.0pMdepPPPb_68_m1-3CLWm6cuxO24JON2xKxJU3ndCg'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 13:00:44.237 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 13:00:44.237 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 13:01:43.349 | General Service|:: CompanyIndex:13 SpName: spCOM_ConfigValues 
 1
 ,'NotifTime'
 ,''
[System: 192.168.1.79] DEBUG | 07-18-2025 13:01:43.349 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 13:01:44.228 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 13:01:44.228 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 13:02:44.236 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 13:02:44.236 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 13:03:44.225 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 13:03:44.240 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 13:04:44.214 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 13:04:44.230 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 13:05:44.207 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 13:05:44.207 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 13:06:43.342 | General Service|:: CompanyIndex:13 SpName: spCOM_ConfigValues 
 1
 ,'NotifTime'
 ,''
[System: 192.168.1.79] DEBUG | 07-18-2025 13:06:43.342 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 13:06:44.223 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 13:06:44.223 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 13:07:44.224 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 13:07:44.224 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 13:08:44.228 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 13:08:44.228 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 13:09:44.222 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 13:09:44.222 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 13:10:44.218 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 13:10:44.233 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 13:11:40.638 | General Service|:: CompanyIndex:0 SpName: spADM_Login 
 4
 ,''
 ,''
 ,''
 ,'declare @AllowSession bit,@GUID nvarchar(50)
set @AllowSession=0
set @GUID=''0e5fc663-5269-4683-a080-85b06e4ab335''
if exists(select [GUID] from ADM_Login with(nolock) where [GUID]=@GUID)
begin
    update ADM_Login  set LastAccessTime=convert(float,getdate()) where [GUID]=@GUID
    set @AllowSession=1
end
select @AllowSession AllowSession
'
 ,''
 ,0
[System: 192.168.1.79] DEBUG | 07-18-2025 13:11:40.638 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 13:11:43.348 | General Service|:: CompanyIndex:13 SpName: spCOM_ConfigValues 
 1
 ,'NotifTime'
 ,''
[System: 192.168.1.79] DEBUG | 07-18-2025 13:11:43.348 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 13:11:44.223 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 13:11:44.223 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 13:12:44.216 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 13:12:44.216 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 13:13:44.244 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 13:13:44.244 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 13:14:44.213 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 13:14:44.228 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.56] DEBUG | 07-18-2025 13:14:54.585 | General Service|:: CompanyIndex:0 SpName: spADM_Login 
 4
 ,''
 ,''
 ,''
 ,'declare @AllowSession bit,@GUID nvarchar(50)
set @AllowSession=0
set @GUID=''5c14d9c5-1cd1-4f10-90af-a7f91005930f''
if exists(select [GUID] from ADM_Login with(nolock) where [GUID]=@GUID)
begin
    update ADM_Login  set LastAccessTime=convert(float,getdate()) where [GUID]=@GUID
    set @AllowSession=1
end
select @AllowSession AllowSession
'
 ,''
 ,0
[System: 192.168.1.56] DEBUG | 07-18-2025 13:14:54.601 | General Service|:: CompanyIndex:7 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFkbWluLDEsNywxIiwibmJmIjoxNzUyODIxOTkyLCJleHAiOjE3NTI4NTA3OTIsImlhdCI6MTc1MjgyMTk5Mn0.0pMdepPPPb_68_m1-3CLWm6cuxO24JON2xKxJU3ndCg'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 13:15:44.228 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 13:15:44.228 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 13:16:43.336 | General Service|:: CompanyIndex:13 SpName: spCOM_ConfigValues 
 1
 ,'NotifTime'
 ,''
[System: 192.168.1.79] DEBUG | 07-18-2025 13:16:43.336 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 13:16:44.211 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 13:16:44.211 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 13:17:44.307 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 13:17:44.401 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 13:18:44.216 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 13:18:44.216 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 13:19:44.223 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 13:19:44.223 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 13:20:44.213 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 13:20:44.213 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 13:21:43.336 | General Service|:: CompanyIndex:13 SpName: spCOM_ConfigValues 
 1
 ,'NotifTime'
 ,''
[System: 192.168.1.79] DEBUG | 07-18-2025 13:21:43.336 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 13:21:44.211 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 13:21:44.227 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 13:22:44.210 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 13:22:44.210 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 13:23:44.217 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 13:23:44.217 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 13:24:44.222 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 13:24:44.222 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 13:25:44.225 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 13:25:44.225 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 13:26:40.620 | General Service|:: CompanyIndex:0 SpName: spADM_Login 
 4
 ,''
 ,''
 ,''
 ,'declare @AllowSession bit,@GUID nvarchar(50)
set @AllowSession=0
set @GUID=''0e5fc663-5269-4683-a080-85b06e4ab335''
if exists(select [GUID] from ADM_Login with(nolock) where [GUID]=@GUID)
begin
    update ADM_Login  set LastAccessTime=convert(float,getdate()) where [GUID]=@GUID
    set @AllowSession=1
end
select @AllowSession AllowSession
'
 ,''
 ,0
[System: 192.168.1.79] DEBUG | 07-18-2025 13:26:40.620 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 13:26:43.322 | General Service|:: CompanyIndex:13 SpName: spCOM_ConfigValues 
 1
 ,'NotifTime'
 ,''
[System: 192.168.1.79] DEBUG | 07-18-2025 13:26:43.322 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 13:26:44.197 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 13:26:44.197 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 13:27:44.533 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 13:27:44.549 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 13:28:44.203 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 13:28:44.203 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 13:29:44.198 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 13:29:44.214 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.56] DEBUG | 07-18-2025 13:29:54.383 | General Service|:: CompanyIndex:0 SpName: spADM_Login 
 4
 ,''
 ,''
 ,''
 ,'declare @AllowSession bit,@GUID nvarchar(50)
set @AllowSession=0
set @GUID=''5c14d9c5-1cd1-4f10-90af-a7f91005930f''
if exists(select [GUID] from ADM_Login with(nolock) where [GUID]=@GUID)
begin
    update ADM_Login  set LastAccessTime=convert(float,getdate()) where [GUID]=@GUID
    set @AllowSession=1
end
select @AllowSession AllowSession
'
 ,''
 ,0
[System: 192.168.1.56] DEBUG | 07-18-2025 13:29:54.399 | General Service|:: CompanyIndex:7 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFkbWluLDEsNywxIiwibmJmIjoxNzUyODIxOTkyLCJleHAiOjE3NTI4NTA3OTIsImlhdCI6MTc1MjgyMTk5Mn0.0pMdepPPPb_68_m1-3CLWm6cuxO24JON2xKxJU3ndCg'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 13:30:44.210 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 13:30:44.210 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 13:31:43.336 | General Service|:: CompanyIndex:13 SpName: spCOM_ConfigValues 
 1
 ,'NotifTime'
 ,''
[System: 192.168.1.79] DEBUG | 07-18-2025 13:31:43.336 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 13:31:44.195 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 13:31:44.211 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 13:32:44.211 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 13:32:44.211 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 13:33:44.208 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 13:33:44.208 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 13:34:44.209 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 13:34:44.209 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 13:35:44.224 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 13:35:44.224 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 13:36:43.315 | General Service|:: CompanyIndex:13 SpName: spCOM_ConfigValues 
 1
 ,'NotifTime'
 ,''
[System: 192.168.1.79] DEBUG | 07-18-2025 13:36:43.346 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 13:36:44.209 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 13:36:44.209 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 13:37:44.194 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 13:37:44.194 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 13:38:44.201 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 13:38:44.217 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 13:39:44.199 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 13:39:44.199 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 13:40:44.211 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 13:40:44.211 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 13:41:40.613 | General Service|:: CompanyIndex:0 SpName: spADM_Login 
 4
 ,''
 ,''
 ,''
 ,'declare @AllowSession bit,@GUID nvarchar(50)
set @AllowSession=0
set @GUID=''0e5fc663-5269-4683-a080-85b06e4ab335''
if exists(select [GUID] from ADM_Login with(nolock) where [GUID]=@GUID)
begin
    update ADM_Login  set LastAccessTime=convert(float,getdate()) where [GUID]=@GUID
    set @AllowSession=1
end
select @AllowSession AllowSession
'
 ,''
 ,0
[System: 192.168.1.79] DEBUG | 07-18-2025 13:41:40.628 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 13:41:43.319 | General Service|:: CompanyIndex:13 SpName: spCOM_ConfigValues 
 1
 ,'NotifTime'
 ,''
[System: 192.168.1.79] DEBUG | 07-18-2025 13:41:43.334 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 13:41:44.213 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 13:41:44.213 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 13:42:44.207 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 13:42:44.207 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 13:43:44.213 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 13:43:44.213 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 13:44:44.194 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 13:44:44.194 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
[System: 192.168.1.56] DEBUG | 07-18-2025 13:44:54.366 | General Service|:: CompanyIndex:0 SpName: spADM_Login 
 4
 ,''
 ,''
 ,''
 ,'declare @AllowSession bit,@GUID nvarchar(50)
set @AllowSession=0
set @GUID=''5c14d9c5-1cd1-4f10-90af-a7f91005930f''
if exists(select [GUID] from ADM_Login with(nolock) where [GUID]=@GUID)
begin
    update ADM_Login  set LastAccessTime=convert(float,getdate()) where [GUID]=@GUID
    set @AllowSession=1
end
select @AllowSession AllowSession
'
 ,''
 ,0
[System: 192.168.1.56] DEBUG | 07-18-2025 13:44:54.382 | General Service|:: CompanyIndex:7 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFkbWluLDEsNywxIiwibmJmIjoxNzUyODIxOTkyLCJleHAiOjE3NTI4NTA3OTIsImlhdCI6MTc1MjgyMTk5Mn0.0pMdepPPPb_68_m1-3CLWm6cuxO24JON2xKxJU3ndCg'''
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 13:45:44.190 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'declare @UserID int,@RoleID int,@UserName NVARCHAR(100),@where nvarchar(max),@query nvarchar(max)
set @UserID=1
set @RoleID=1-- Employee:-1
SELECT @UserName=UserName From ADM_Users WITH(NOLOCK) WHERE UserID=@UserID
exec [fnGet_GetAssignedDims] @UserID,@RoleID,@where output
 create table #TblUsrWF(WID int,LevelID int,Type int,CtWef float,LvWef int)
EXEC spRPT_GetReportData @Type=8,@Param1=@UserID,@strXML=null,@RoleID=@RoleID set @query=''  SELECT DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory,count(*) CNT
FROM (
 SELECT INV.CostCenterID
FROM INV_DocDetails INV with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on INV.INVDocDetailsid=d.INVDocDetailsid''	

set @query=@query+'' ,#TblUsrWF WF
WHERE WF.WID=INV.WorkflowID and (WF.LevelID>INV.WorkFlowLevel or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372)) and (INV.StatusID=371 or INV.StatusID=372 or INV.StatusID=441) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=372) or (WF.LevelID+1=INV.WorkFlowLevel and INV.StatusID=372) or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) ''+@where+''
GROUP BY INV.CostCenterID,INV.VoucherNo
UNION ALL
SELECT ACC.CostCenterID
FROM ACC_DocDetails ACC with(nolock)''
if(@where<>'''')
	set @query=@query+'' join com_docccdata d with(nolock) on ACC.ACCDocDetailsid=d.ACCDocDetailsid''	

set @query=@query+'',#TblUsrWF WF
WHERE ACC.LinkedAccDocDetailsID is null and ACC.InvDocDetailsID is null and WF.WID=ACC.WorkflowID and (WF.LevelID>ACC.WorkFlowLevel or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372)) and (ACC.StatusID=371 or ACC.StatusID=372 or ACC.StatusID=441) AND (WF.Type=1 or (ACC.WorkFlowLevel+1=WF.LevelID and ACC.StatusID!=372) or (WF.LevelID+1=ACC.WorkFlowLevel and ACC.StatusID=372) or (WF.CtWef is not null and ACC.WorkFlowLevel>=WF.LvWef
and ACC.CreatedDate+WF.CtWef<=convert(float,getdate())))''+@where+''
GROUP BY ACC.CostCenterID,ACC.VoucherNo  ) AS T
JOIN ADM_DocumentTypes DT with(nolock) ON T.CostCenterID=DT.CostCenterID
GROUP BY DT.CostCenterID,DT.DocumentName,DT.DocumentType,DT.IsInventory  
UNION ALL
SELECT DT.FeatureID CostCenterID,DT.Name DocumentName,-DT.FeatureID DocumentType,0 IsInventory,count(*) CNT
FROM (
SELECT INV.CostCenterID FROM REN_Contract INV WITH(NOLOCK),#TblUsrWF WF
WHERE  WF.WID=INV.WorkflowID and WF.LevelID>INV.WorkFlowLevel and (INV.StatusID=440 or INV.StatusID=470 or INV.StatusID=466) AND (WF.Type=1 or (INV.WorkFlowLevel+1=WF.LevelID and INV.StatusID!=470)  or (WF.CtWef is not null and INV.WorkFlowLevel>=WF.LvWef
 and INV.CreatedDate+WF.CtWef<=convert(float,getdate()))) AND INV.RefContractID=0 ) AS T
JOIN ADM_Features DT with(nolock) ON T.CostCenterID=DT.FeatureID
GROUP BY DT.FeatureID,DT.Name 
ORDER BY DocumentName''
exec(@query)

DROP TABLE #TblUsrWF
'
 ,1
 ,1
[System: 192.168.1.79] DEBUG | 07-18-2025 13:45:44.205 | General Service|:: CompanyIndex:13 SpName: spADM_GetDataSet 
 'select * from COM_TokenHistory WITH(NOLOCK) where JwtToken=''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IkFETUlOLDEsMTMsMSIsIm5iZiI6MTc1MjgxNTUwMCwiZXhwIjoxNzUyODQ0MzAwLCJpYXQiOjE3NTI4MTU1MDB9.4XOS5IH-H68VLZ08c58vbcr-75Sw9ysecdIA-DezkGk'''
 ,1
 ,1
